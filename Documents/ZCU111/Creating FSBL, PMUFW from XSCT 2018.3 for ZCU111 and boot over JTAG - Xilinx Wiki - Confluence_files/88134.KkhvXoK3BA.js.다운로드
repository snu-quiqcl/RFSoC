(self._cf=self._cf||[]).push([[88134],{514645:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[L]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===q}(e)||Array.isArray(e)||!!e[G]||!!e.constructor[G]||f(e)||p(e))}function u(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:K)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[L];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:p(e)?3:0}function a(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function d(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return U&&e instanceof Map}function p(e){return R&&e instanceof Set}function h(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=J(e);delete t[L];for(var n=K(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function y(e,t){return void 0===t&&(t=!1),v(e)||o(e)||!i(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=F),Object.freeze(e),t&&u(e,(function(e,t){return y(t,!0)}),!0)),e}function F(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function g(e){var t=Q[e];return t||r(18,e),t}function b(){return $}function j(e,t){t&&(g("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){w(e),e.p.forEach(A),e.p=null}function w(e){e===$&&($=e.l)}function P(e){return $={p:[],l:$,h:e,m:!0,_:0}}function A(e){var t=e[L];0===t.i||1===t.i?t.j():t.O=!0}function k(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.g||g("ES5").S(t,e,o),o?(n[L].P&&(E(t),r(4)),i(e)&&(e=I(t,e),t.l||S(t,e)),t.u&&g("Patches").M(n[L].t,e,t.u,t.s)):e=I(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function I(e,t,n){if(v(t))return t;var r=t[L];if(!r)return u(t,(function(o,i){return _(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return S(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=m(r.k):r.o;u(3===r.i?new Set(o):o,(function(t,i){return _(e,r,o,t,i,n)})),S(e,o,!1),n&&e.u&&g("Patches").R(r,n,e.u,e.s)}return r.o}function _(e,t,n,r,u,s){if(o(u)){var c=I(e,u,s&&t&&3!==t.i&&!a(t.D,r)?s.concat(r):void 0);if(d(n,r,c),!o(c))return;e.m=!1}if(i(u)&&!v(u)){if(!e.h.F&&e._<1)return;I(e,u),t&&t.A.l||S(e,u)}}function S(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&y(t,n)}function C(e,t){var n=e[L];return(n?h(n):e)[t]}function O(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function x(e){e.P||(e.P=!0,e.l&&x(e.l))}function D(e){e.o||(e.o=m(e.t))}function B(e,t,n){var r=f(t)?g("MapSet").N(t,n):p(t)?g("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:b(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=W;n&&(o=[r],i=V);var u=Proxy.revocable(o,i),s=u.revoke,a=u.proxy;return r.k=a,r.j=s,a}(t,n):g("ES5").J(t,n);return(n?n.A:b()).p.push(r),r}function Z(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[L],o=s(t);if(r){if(!r.P&&(r.i<4||!g("ES5").K(r)))return r.t;r.I=!0,n=M(t,o),r.I=!1}else n=M(t,o);return u(n,(function(t,o){r&&c(r.t,t)===o||d(n,t,e(o))})),3===o?new Set(n):n}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}n.d(t,{ZP:()=>ee});var T,$,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,R="undefined"!=typeof Set,N="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=z?Symbol.for("immer-nothing"):((T={})["immer-nothing"]=!0,T),G=z?Symbol.for("immer-draftable"):"__$immer_draftable",L=z?Symbol.for("immer-state"):"__$immer_state",q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),K="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||function(e){var t={};return K(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},W={get:function(e,t){if(t===L)return e;var n=h(e);if(!a(n,t))return function(e,t,n){var r,o=O(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===C(e.t,t)?(D(e),e.o[t]=B(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=O(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=C(h(e),t),i=null==o?void 0:o[L];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(l(n,o)&&(void 0!==n||a(e.t,t)))return!0;D(e),x(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.D[t]=!1,D(e),x(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},V={};u(W,(function(e,t){V[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),V.deleteProperty=function(e,t){return V.set.call(this,e,t,void 0)},V.set=function(e,t,n){return W.set.call(this,e[0],t,n,e[0])};var X=new(function(){function e(e){var t=this;this.g=N,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var u=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=u);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var a;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(e)){var c=P(t),d=B(t,e,void 0),l=!0;try{a=n(d),l=!1}finally{l?E(c):w(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return j(c,o),k(e,c)}),(function(e){throw E(c),e})):(j(c,o),k(a,c))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===H&&(a=void 0),t.F&&y(a,!0),o){var f=[],p=[];g("Patches").M(e,a,f,p),o(f,p)}return a}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),o(e)&&(e=Z(e));var t=P(this),n=B(this,e,void 0);return n[L].C=!0,w(t),n},t.finishDraft=function(e,t){var n=(e&&e[L]).A;return j(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!N&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=g("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}()),Y=X.produce;X.produceWithPatches.bind(X),X.setAutoFreeze.bind(X),X.setUseProxies.bind(X),X.applyPatches.bind(X),X.createDraft.bind(X),X.finishDraft.bind(X);const ee=Y},608259:function(e,t){!function(e){const t=Symbol("newer"),n=Symbol("older");class r{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][n]=e[n]),e[n]&&(e[n][t]=e[t]),e[t]=void 0,e[n]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)}assign(e){let r,i=this.limit||Number.MAX_VALUE;this._keymap.clear();let u=e[Symbol.iterator]();for(let s=u.next();!s.done;s=u.next()){let e=new o(s.value[0],s.value[1]);if(this._keymap.set(e.key,e),r?(r[t]=e,e[n]=r):this.oldest=e,r=e,0==i--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size}get(e){var t=this._keymap.get(e);return t?(this._markEntryAsUsed(t),t.value):void 0}set(e,r){var i=this._keymap.get(e);return i?(i.value=r,this._markEntryAsUsed(i),this):(this._keymap.set(e,i=new o(e,r)),this.newest?(this.newest[t]=i,i[n]=this.newest):this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[n]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}find(e){let t=this._keymap.get(e);return t?t.value:void 0}has(e){return this._keymap.has(e)}delete(e){var r=this._keymap.get(e);return r?(this._keymap.delete(r.key),r[t]&&r[n]?(r[n][t]=r[t],r[t][n]=r[n]):r[t]?(r[t][n]=void 0,this.oldest=r[t]):r[n]?(r[n][t]=void 0,this.newest=r[n]):this.oldest=this.newest=void 0,this.size--,r.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new u(this.oldest)}values(){return new s(this.oldest)}entries(){return this}[Symbol.iterator](){return new i(this.oldest)}forEach(e,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)e.call(n,r.value,r.key,this),r=r[t]}toJSON(){for(var e=new Array(this.size),n=0,r=this.oldest;r;)e[n++]={key:r.key,value:r.value},r=r[t];return e}toString(){for(var e="",n=this.oldest;n;)e+=String(n.key)+":"+n.value,(n=n[t])&&(e+=" < ");return e}}function o(e,r){this.key=e,this.value=r,this[t]=void 0,this[n]=void 0}function i(e){this.entry=e}function u(e){this.entry=e}function s(e){this.entry=e}e.LRUMap=r,i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}}}(t)},73377:function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,r,o,i,u,s=1,a={},c=!1,d=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(i="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&p(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),n=function(t){e.postMessage(i+t,"*")}),l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return a[s]=o,n(s),s++},l.clearImmediate=f}function f(e){delete a[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=a[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},878010:(e,t,n)=>{"use strict";function r(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function o(e,t){if(!e)return!1;if(!(t=t||document.scrollingElement||document.body.parentNode))return!1;const n=e.offsetHeight,o=r(e),i=r(t)+t.scrollTop,u=t.offsetHeight;return o>=i&&o+n<=i+u}function i(e){if(!e||e===document)return null;const t=window.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:i(e.parentNode)}function u(e,t){t=t||i(e),e&&t&&!o(e,t)&&(t.scrollTop=r(e)-r(t)-t.clientHeight/2)}function s(e){return e.getBoundingClientRect()}function a(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const r=e.getBoundingClientRect(),{top:o,bottom:i}=r,u=n.offsetHeight;return 0<=o&&o<u||0<=i&&i<=u||o<=0&&0<=i&&i>=u}function c(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const r=e.getBoundingClientRect(),{top:o}=r,i=n.offsetHeight;return 0<=o&&o<i}n.d(t,{U4:()=>r,PZ:()=>o,Mm:()=>i,F1:()=>u,Pi:()=>s,VX:()=>a,nX:()=>c})},52936:(e,t,n)=>{"use strict";n.d(t,{H:()=>m});var r=n(991332),o=n(415911),i=n(122551),u=n(962285),s=n(358280),a=n(407552),c=n(131436),d=n(612642),l=n(790632),f=n(587331);const p=(0,l.Z)("span",{target:"e1o0kwod0"})((0,f.nk)(),";");n(698297),n(593940),n(472980),n(416473),n(682176),n(48043),n(909140),n(870141),n(234119),n(801699),n(686413),n(23139),n(733682),n(778289),n(563952);const h=(0,i.forwardRef)(((e,t)=>{let{as:n="span",style:a}=e,l=(0,o.Z)(e,["as","style"]);return i.createElement(n,(0,r.Z)((0,r.Z)({},l),{},{style:(0,r.Z)((0,r.Z)({},a),{},{"--_1xysrii":(0,u.Z)((0,d.Z)("color.background.neutral",c.os)),"--_8q155l":(0,u.Z)(l.size),"--_thgtwa":(0,u.Z)(l.margin)}),ref:t,className:(0,s.Z)(["_1e0c1o8l _11q71c3z _1bsb1l5u _4t3i1l5u _1wyb1l5u _vwz41l5u _2rko1l7b",l.margin?"_19pk1d9j _2hwx1d9j _otyr1d9j _18u01d9j":"_19pkidpf _2hwxi2wt _otyridpf _18u0idpf",l.className])}))}));const m=e=>i.createElement(a.ZP,{entranceDirection:"left"},(t=>i.createElement(p,(0,r.Z)((0,r.Z)({},t),{},{"data-testid":"emoji-placeholder","data-css-target":"emoji-placeholder"}),i.createElement(h,{size:`${e.height||26}px`,margin:e.loadingMargin}))));m.displayName="EmojiPlaceholder"},212329:(e,t,n)=>{"use strict";n.d(t,{_P:()=>c,To:()=>l,kC:()=>f,Jd:()=>p});var r=n(991332),o=n(26011),i=n.n(o),u=n(315677),s=n(724507),a=n(436786);const c=(e,{eventType:t,element:n,action:o,actionSubject:i,actionSubjectId:u,attributes:s={}})=>{e({type:t,data:{action:o,source:"EmojiTitleSection",actionSubject:i,actionSubjectId:u,attributes:(0,r.Z)({element:n},s)}}).fire()},d=i()(c,500),l=async({createAnalyticsEvent:e,contentId:t})=>{const{data:n}=await(0,u.WQ)().query({query:a.G,variables:{contentId:t,status:["current","draft"],skipPublishedFragment:!1}}),r=(0,s.pp)(n);r.length>=0&&""!==r&&c(e,{eventType:"sendTrackEvent",element:"",action:"created",actionSubject:"draft",actionSubjectId:"",attributes:{emojiId:r}})},f=({createAnalyticsEvent:e,emoji:t,context:n,error:r={message:""}})=>{c(e,{eventType:"sendTrackEvent",element:"emoji",action:"error",actionSubject:"renderEmoji",actionSubjectId:"renderEmojiError",attributes:{emojiShortName:t&&t.shortName,emojiId:t&&t.id,context:n,errorMessage:r.message}})},p=({createAnalyticsEvent:e,context:t})=>{d(e,{eventType:"sendUIEvent",element:"emoji",action:"rendered",actionSubject:"EmojiComponent",actionSubjectId:"emojiComponent_emoji",attributes:{context:t}})}},436786:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(331377);const o=r.ZP`fragment emojiTitleInnerFragment on PaginatedJsonContentPropertyList{nodes{id key value version{number}}}`,i=r.ZP`query getEmojiTitleProperty($contentId:ID$status:[String]$draftShareId:String$skipPublishedFragment:Boolean!){content(id:$contentId draftShareId:$draftShareId status:$status){nodes{id emojiTitlePublished:properties(key:"emoji-title-published")@skip(if:$skipPublishedFragment){...emojiTitleInnerFragment}emojiTitleDraft:properties(key:"emoji-title-draft"){...emojiTitleInnerFragment}}}}${o}`},923269:(e,t,n)=>{"use strict";n.d(t,{_C:()=>c,ZG:()=>d,dz:()=>l,Qk:()=>f,du:()=>p,SJ:()=>h,FB:()=>m,u2:()=>y});var r=n(991332),o=n(365332),i=n(212329),u=n(724507),s=n(436786);const a="emoji-title-draft",c=async({userId:e,cloudId:t,emojiId:n})=>{const r=await(0,u.T5)(t,e);if(r){const e=await r.findById(n);if(e)return r.loadMediaEmoji(e)}return Promise.resolve(null)},d=/([a-z\d_-]+):/,l=async({selectedEmoji:e,emojiProvider:t,onUpdateStartEmoji:n,createAnalyticsEvent:c,emojiTitleState:d,onEmojiUpdated:l,onUpdateEndEmoji:f,updateContentPropertyMutation:p,contentId:h,componentName:m},y)=>{n&&n(),(0,i._P)(c,{eventType:"sendUIEvent",element:"button",action:"clicked",actionSubject:"emojiPicker",actionSubjectId:"emoji",attributes:{emojiId:e.id,inputMethod:"title"}});const F=await t.loadMediaEmoji(e,!0);return d.setOpenSecondEmojiPicker(!1),d.setSelectedEmoji(F),l().then((({data:t})=>{var n;const i=(0,u.L1)(t),c=i?i+1:1,l=null==e||null===(n=e.id)||void 0===n?void 0:n.replace(/['"]+/g,"");return p({variables:{contentId:h,propertyKey:a,propertyValue:l,versionNumber:String(c)},update:e=>{try{const n=e.readQuery({query:s.G,variables:{contentId:h,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,o.e)()}});n.content.nodes[0].emojiTitleDraft.nodes[0]=(0,r.Z)((0,r.Z)({},n.content.nodes[0].emojiTitleDraft.nodes[0]),{},{id:h,key:a,value:l,version:{number:c,__typename:"Version"}}),e.writeQuery({query:s.G,variables:{contentId:h,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,o.e)()},data:t})}catch(n){throw new Error(`${m} failed to write to cache while updating emoji-title-draft content property after user selecting emoji ${n.message}`)}},optimisticResponse:{__typename:"Mutation",experimentalUpdateContentProperty:{__typename:"ExperimentalUpdateContentProperty",success:!0,id:h,key:a,value:l}}}).then((()=>{f&&f(),d.setSelectedEmoji(F)})).catch((e=>{throw new Error(`${m} failed to update emoji-title-draft content property after user selecting emoji ${e.message}`)}))}))},f=(e,{onUpdateStartEmoji:t,onUpdateEndEmoji:n,onEmojiUpdated:r,contentId:i,updateContentPropertyMutation:u,componentName:c=""})=>(t&&t(),r().then((()=>u({variables:{contentId:i,propertyKey:a,isDelete:!0},update:e=>{try{const t=e.readQuery({query:s.G,variables:{contentId:i,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,o.e)()}});t.content.nodes[0].emojiTitleDraft={nodes:[],__typename:"PaginatedJsonContentPropertyList"},e.writeQuery({query:s.G,variables:{contentId:i,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,o.e)()},data:t})}catch(t){throw new Error(`${c} failed to write to cache while updating content property after user removing emoji ${t.message}`)}},optimisticResponse:{__typename:"Mutation",experimentalUpdateContentProperty:{__typename:"ExperimentalUpdateContentProperty",success:!0}}}).finally((()=>{n&&n()})).catch((e=>{throw new Error(`${c} failed to update emoji-title-draft content property after user removing emoji ${e.message}`)}))))),p=/^([\u{1F1E6}-\u{1F1FF}][\u{1F1E6}-\u{1F1FF}]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F000}-\u{1F0FF}\u{1F10D}-\u{1F10F}\u{1F12F}\u{1F16C}-\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1AD}-\u{1F1E5}\u{1F201}-\u{1F20F}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F23C}-\u{1F23F}\u{1F249}-\u{1F3FA}\u{1F400}-\u{1F53D}\u{1F546}-\u{1F64F}\u{1F680}-\u{1F6FF}\u{1F774}-\u{1F77F}\u{1F7D5}-\u{1F7FF}\u{1F80C}-\u{1F80F}\u{1F848}-\u{1F84F}\u{1F85A}-\u{1F85F}\u{1F888}-\u{1F88F}\u{1F8AE}-\u{1F8FF}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1FAFF}\u{1FC00}-\u{1FFFD}]([\u{1F3FB}-\u{1F3FF}]|\uFE0F\u20E3?|[\u{E0020}-\u{E007E}]+\u{E007F})?(\u200D[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F000}-\u{1F0FF}\u{1F10D}-\u{1F10F}\u{1F12F}\u{1F16C}-\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1AD}-\u{1F1E5}\u{1F201}-\u{1F20F}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F23C}-\u{1F23F}\u{1F249}-\u{1F3FA}\u{1F400}-\u{1F53D}\u{1F546}-\u{1F64F}\u{1F680}-\u{1F6FF}\u{1F774}-\u{1F77F}\u{1F7D5}-\u{1F7FF}\u{1F80C}-\u{1F80F}\u{1F848}-\u{1F84F}\u{1F85A}-\u{1F85F}\u{1F888}-\u{1F88F}\u{1F8AE}-\u{1F8FF}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1FAFF}\u{1FC00}-\u{1FFFD}]([\u{1F3FB}-\u{1F3FF}]|\uFE0F\u20E3?|[\u{E0020}-\u{E007E}]+\u{E007F})?)*)/u,h=e=>e&&e.replace(p,"").trimLeft()||"",m=e=>{var t;return e&&(null===(t=p.exec(e))||void 0===t?void 0:t[0])||""},y=(e="",t="",n="",r="",o="")=>{const i=m(e),u="draft"===(null==r?void 0:r.toLowerCase())?n:t,s=i.length>0,a=u.length>0,c=a?u:i;let d=s&&!a?h(e):e;return"draft"!==r||d||(d=o),{text:d,emoji:c,selectedEmoji:u}}},365332:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});const r=()=>new URLSearchParams(window.location.search.substring(1)).get("draftShareId")||""},615139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(122551))&&r.__esModule?r:{default:r},i=n(386056);const u=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));u.displayName="ChevronDownIcon";var s=u;t.default=s},800544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(415911),o=n(953307),i=n(122551),u=n(321534),s=n(437705),a=n(131436),c=n(171945);const d=c.$G.h100.lineHeight,l=c.$G.h100.size,f=(0,u.iv)({color:`var(--ds-text-subtle, ${a.hH})`,fontSize:l,fontWeight:"var(--ds-font-weight-bold, 700)",lineHeight:d/l,paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)",textTransform:"uppercase"}),p=(0,i.memo)((e=>{let{children:t,testId:n,id:i,cssFn:a=s.Z}=e,c=(0,r.Z)(e,["children","testId","id","cssFn"]);return(0,u.tZ)("div",(0,o.Z)({css:[f,(0,u.iv)(a(void 0))],"data-testid":n,"data-ds--menu--heading-item":!0,id:i},c),t)}))},460215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(953307),o=n(122551),i=n(879142),u=n(568538),s=n(181844);const a=(0,o.forwardRef)(((e,t)=>{const{shouldRender:n}=(0,s.mO)();return n?o.createElement(i.Z,(0,r.Z)({},e,{ref:t,overrides:{HeadingItem:{cssFn:u.NE}}})):e.children}))},378314:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(991332);const o=(e,t,n)=>{const o=e.items[t];return o?{rootId:e.rootId,items:(0,r.Z)((0,r.Z)({},e.items),{},{[t]:(0,r.Z)((0,r.Z)({},o),n)})}:e}},427718:(e,t,n)=>{"use strict";n.d(t,{Mg:()=>r,o_:()=>o,Il:()=>i,b$:()=>u,u8:()=>a,eg:()=>c,Pi:()=>d});const r=(e,t)=>e===t||e.length===t.length&&e.every(((e,n)=>e===t[n])),o=(e,t)=>r(i(e),i(t)),i=e=>e.slice(0,e.length-1),u=(e,t)=>!t||s(t,e),s=(e,t)=>r(e,i(t)),a=e=>e[e.length-1],c=(e,t)=>e.slice(0,t),d=(e,t)=>{const n=[...e];return l(n,t)||(n[n.length-1]+=1),n},l=(e,t)=>o(e,t)&&a(e)>a(t)},472783:(e,t,n)=>{"use strict";n.d(t,{fK:()=>i,ml:()=>a,cu:()=>c,d3:()=>d});var r=n(427718),o=n(378314);const i=(e,t=[])=>e.items[e.rootId]?e.items[e.rootId].children.reduce(((n,r,o)=>{const i=e.items[r],a=[...t,o];return[...n,u(i,a),...s(e,i,a)]}),[]):[],u=(e,t)=>({item:e,path:t}),s=(e,t,n)=>t.isExpanded?i({rootId:t.id,items:e.items},n):[],a=(e,t)=>{const n=((e,t)=>((e,t)=>{let n=e.items[e.rootId];for(const r of t)n=e.items[n.children[r]];return n})(e,(0,r.Il)(t)))(e,t),o=(0,r.u8)(t);return{parentId:n.id,index:o}},c=(e,t)=>{const n=e.items[t.parentId],r=[...n.children],i=r.splice(t.index,1)[0];return{tree:(0,o.U)(e,t.parentId,{children:r,hasChildren:r.length>0,isExpanded:r.length>0&&n.isExpanded}),itemRemoved:i}},d=(e,t,n)=>{const r=e.items[t.parentId],i=[...r.children];return void 0===t.index?((e=>!!e.hasChildren&&e.children.length>0)(r)||(e=>!e.hasChildren)(r))&&i.push(n):i.splice(t.index,0,n),(0,o.U)(e,t.parentId,{children:i,hasChildren:!0})}}}]);
//# sourceMappingURL=88134.KkhvXoK3BA.js.map