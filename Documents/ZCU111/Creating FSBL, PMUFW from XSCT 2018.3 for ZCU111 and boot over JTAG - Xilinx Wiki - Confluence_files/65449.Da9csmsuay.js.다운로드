"use strict";(self._cf=self._cf||[]).push([[65449],{177690:(t,e,i)=>{i.d(e,{Z:()=>c});var s=i(29298),n=i(122551),a=i(64172),r=i.n(a),l=i(782380);const o={getAtlaskitAnalyticsContext:r().func,getAtlaskitAnalyticsEventHandlers:r().func},h=()=>[];class d extends n.Component{constructor(t){super(t),(0,s.Z)(this,"getChildContext",(()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext}))),(0,s.Z)(this,"getAnalyticsContext",(()=>{const{data:t}=this.props,{getAtlaskitAnalyticsContext:e=h}=this.context;return[...e(),t]})),(0,s.Z)(this,"getAnalyticsEventHandlers",(()=>{const{getAtlaskitAnalyticsEventHandlers:t=h}=this.context;return t()})),this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:t}=this.props;return n.createElement(l.Z.Provider,{value:this.contextValue},t)}}d.displayName="AnalyticsContext",(0,s.Z)(d,"contextTypes",o),(0,s.Z)(d,"childContextTypes",o);const c=d},652459:(t,e,i)=>{i.d(e,{Z:()=>c});var s=i(177690),n=i(122551),a=i(782380),r=i(300805),l=i(274317);const o=({data:t,children:e})=>{const i=(0,l.V)(t),s=(0,r.O)(),o=(0,n.useCallback)((()=>[...s.getAtlaskitAnalyticsContext(),i.current]),[s,i]),h=(0,n.useMemo)((()=>({getAtlaskitAnalyticsContext:o,getAtlaskitAnalyticsEventHandlers:s.getAtlaskitAnalyticsEventHandlers})),[s,o]);return n.createElement(a.Z.Provider,{value:h},e)};var h;let d;d="undefined"!=typeof process&&null!==process&&null!==(h=process.env)&&void 0!==h&&h.ANALYTICS_NEXT_MODERN_CONTEXT?o:s.Z;const c=d},627658:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(991332),n=i(415911),a=i(953307),r=i(122551),l=i(652459);const o=t=>e=>{const i=(0,r.forwardRef)(((i,o)=>{let{analyticsContext:h}=i,d=(0,n.Z)(i,["analyticsContext"]);const c=(0,r.useMemo)((()=>(0,s.Z)((0,s.Z)({},t),h)),[h]);return r.createElement(l.Z,{data:c},r.createElement(e,(0,a.Z)({},d,{ref:o})))}));return i.displayName=`WithAnalyticsContext(${e.displayName||e.name})`,i}},96682:(t,e,i)=>{i.d(e,{wy:()=>n,ap:()=>a});var s=i(122551);const n=(0,s.createContext)(void 0);function a(){const t=(0,s.useContext)(n);if(!t)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return t}},100308:(t,e,i)=>{i.d(e,{a:()=>a});var s=i(29298),n=i(122551);class a extends n.PureComponent{constructor(...t){super(...t),(0,s.Z)(this,"state",{isError:!1}),(0,s.Z)(this,"onClickFallback",(t=>{const{onClick:e,url:i}=this.props;t.preventDefault(),e&&e(t,i)}))}render(){if(this.state.isError){const{url:t}=this.props;if(t)return n.createElement("a",{href:t,onClick:this.onClickFallback},t);{const{unsupportedComponent:t}=this.props;return n.createElement(t,null)}}return this.props.children}componentDidCatch(t){this.setState({isError:!0})}}a.displayName="CardErrorBoundary"},73029:(t,e,i)=>{i.d(e,{P:()=>n});var s=i(359398);const n=(t,e)=>{const i=(0,s.XU)(t,"smartCard");return i?t=>i(t,e):void 0}},396428:(t,e,i)=>{i.d(e,{q:()=>s});const s="0.1.5"},592532:(t,e,i)=>{i.d(e,{ur:()=>a,oY:()=>r,o5:()=>l,US:()=>o,sG:()=>h});var s=i(152129),n=i(508687);const a=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const t=(()=>{const t=[];return{__buffer_only__:!0,push:e=>{t.length<250&&t.push(e)},getStream:()=>t}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=t}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},r=t=>{var e,i;!globalThis.__UFO_GLOBAL_EVENT_STREAM__||null!==(e=globalThis.__UFO_GLOBAL_EVENT_STREAM__)&&void 0!==e&&e.__buffer_only__?(null!==(i=globalThis.__UFO_GLOBAL_EVENT_STREAM__)&&void 0!==i&&i.__buffer_only__&&globalThis.__UFO_GLOBAL_EVENT_STREAM__.getStream().forEach(t.push.bind(t)),globalThis.__UFO_GLOBAL_EVENT_STREAM__=t):(0,s.hl)("Global Event Stream already initialised. Ignoring new event stream setup")},l=(t,e)=>({type:n.pp.SUBSCRIBE,payload:{experienceId:t,callback:e}}),o=(t,e)=>({type:n.pp.UNSUBSCRIBE,payload:{experienceId:t,callback:e}}),h=t=>({type:n.pp.EXPERIENCE_PAYLOAD,payload:t})},152129:(t,e,i)=>{i.d(e,{b6:()=>a,Hw:()=>r,hl:()=>l});var s=i(29298);class n{constructor(){(0,s.Z)(this,"enabled",!1)}log(...t){this.enabled&&console.log(n.UFOprefix,...t)}warn(...t){this.enabled&&console.warn(n.UFOprefix,...t)}enable(){this.enabled=!0}disable(){this.enabled=!1}}(0,s.Z)(n,"UFOprefix","[ufoðŸ›¸]");const a=new n,r=(...t)=>{a.log(...t)},l=(...t)=>{a.warn(...t)}},90934:(t,e,i)=>{i.d(e,{m:()=>a});var s=i(29298),n=i(244819);const a=new class{constructor(){(0,s.Z)(this,"started",!1),(0,s.Z)(this,"observers",[]),(0,s.Z)(this,"broadcast",(()=>{this.observers.forEach((t=>t())),this.observers=[]}))}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),(0,n.d)()&&window.addEventListener("pagehide",this.broadcast))}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter((e=>e!==t))}}},827883:(t,e,i)=>{i.d(e,{F:()=>m,G:()=>S});var s=i(991332),n=i(29298),a=i(781095),r=i(396428),l=i(592532),o=i(152129),h=i(90934),d=i(508687);var c=i(244819),E=i(978671);const u={[E.h.NOT_STARTED.id]:[E.h.STARTED.id],[E.h.STARTED.id]:[E.h.IN_PROGRESS.id,E.h.BLOCKED.id,E.h.SUCCEEDED.id,E.h.SUCCEEDED_WAITING_FOR_DEPS.id,E.h.FAILED.id,E.h.ABORTED.id],[E.h.IN_PROGRESS.id]:[E.h.BLOCKED.id,E.h.SUCCEEDED.id,E.h.SUCCEEDED_WAITING_FOR_DEPS.id,E.h.FAILED.id,E.h.ABORTED.id],[E.h.BLOCKED.id]:[E.h.RECOVERED.id,E.h.ABORTED.id],[E.h.RECOVERED.id]:[E.h.STARTED.id,E.h.SUCCEEDED.id,E.h.SUCCEEDED_WAITING_FOR_DEPS.id,E.h.FAILED.id,E.h.ABORTED.id],[E.h.SUCCEEDED.id]:[E.h.STARTED.id],[E.h.SUCCEEDED_WAITING_FOR_DEPS.id]:[E.h.SUCCEEDED.id,E.h.FAILED.id,E.h.ABORTED.id],[E.h.FAILED.id]:[E.h.STARTED.id],[E.h.ABORTED.id]:[E.h.STARTED.id]};var p=i(253851);const _=()=>(0,c.d)()&&window.document&&"visible"!==window.document.visibilityState?d.Qx.HIDDEN:d.Qx.VISIBLE,S=t=>void 0!==t?~~t:~~performance.now();class m{constructor(t,e,i=null){(0,n.Z)(this,"state",E.h.NOT_STARTED),(0,n.Z)(this,"instanceId",null),(0,n.Z)(this,"parent",null),(0,n.Z)(this,"category",null),(0,n.Z)(this,"metadata",{}),(0,n.Z)(this,"onDoneCallbacks",[]),(0,n.Z)(this,"childExperiences",[]),(0,n.Z)(this,"explicitTimings",{}),(0,n.Z)(this,"isSSROutputAsFMP",!1),(0,n.Z)(this,"uuid",null),(0,n.Z)(this,"_until",null),(0,n.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,n.Z)(this,"performanceConfig",{}),(0,n.Z)(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=d.Qx.MIXED,h.m.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=t,this.category=(null==e?void 0:e.category)||null,this.until=(null==e?void 0:e.until)||null,this.instanceId=i,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=e.type,this.performanceType=e.performanceType,this.performanceConfig=e.performanceConfig||{},this.config=e,this.pageVisibleState=_(),this.featureFlags=e.featureFlags||[],this.timings=e.timings||[],e.performanceType!==p.R.PageLoad&&e.performanceType!==p.R.PageSegmentLoad||(this.isSSROutputAsFMP=e.isSSROutputAsFMP||!1)}async transition(t,e){if((0,o.Hw)("async transition",this.id,this.state.id,t.id),i=this.state,s=t,u[i.id]&&u[i.id].includes(s.id)){if((0,o.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${t.id} successful`,this.state.final,!t.final),t===E.h.STARTED&&this._reset(),this.state.final&&!t.final&&(this.metrics.startTime=S(e),this.uuid=(0,a.v4)()),this.state=t,t.final){this.metrics.endTime=S(e),this._isManualStateEnabled()||(0,l.ur)().push((0,l.US)(d.lS,this.handleDoneBind));const t=await this.exportData();(0,o.Hw)("this.parent",this.parent),(0,l.ur)().push((0,l.sG)(t))}return!0}var i,s;return(0,o.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${t.id} unsuccessful`),(0,o.hl)(`transition of ${this.id} from ${this.state} to ${t} is not possible`),!1}async start(t){await this.transition(E.h.STARTED,t)&&(this.pageVisibleState=_(),h.m.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||((0,o.Hw)("subscribed",this.id),(0,l.ur)().push((0,l.o5)(d.lS,this.handleDoneBind))))}mark(t,e){t!==d.WR&&t!==d.j3?this._mark(t,e):(0,o.hl)("please use markFMP or markInlineResponse for specialised marks")}_mark(t,e){this.metrics.marks.push({name:t,time:S(e)}),this.transition(E.h.IN_PROGRESS)}markFMP(t){this._mark(d.WR,t)}markInlineResponse(t){this._mark(d.j3,t)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||((0,o.hl)('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(t,e){return null!=e&&e.force||this._validateManualState()?(null!=e&&e.metadata&&this.addMetadata(e.metadata),h.m.unsubscribe(this.setPageVisibleStateToMixed),this.transition(t)):null}async success(t){return this.switchToEndState(E.h.SUCCEEDED,t)}async failure(t){return this.switchToEndState(E.h.FAILED,t)}async abort(t){return this.switchToEndState(E.h.ABORTED,t)}addMetadata(t){Object.assign(this.metadata,t)}_handleDoneExperience(t){if((0,o.Hw)("_handleDoneExperience in",this.id,t.state,t,this._until),t.state.final&&null!==this._until){const{done:e,state:i}=this._until(t);e&&!this.state.final&&this.transition(i)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:r.q||"unknown",performanceType:this.performanceType,category:this.category,state:this.state,metadata:(0,s.Z)({},this.metadata),metrics:(0,s.Z)({},this.metrics),children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}},849278:(t,e,i)=>{i.d(e,{I:()=>r});var s=i(29298),n=i(152129),a=i(938141);class r{constructor(t,e){(0,s.Z)(this,"instances",{}),this.experienceId=t,this.config=e}getInstance(t){return this.instances[t]||(this.instances[t]=new a.Q(this.experienceId,this.config,t)),this.instances[t]}release(t){(0,n.Hw)("instanceId",t),this.instances[t]&&this.instances[t].abort(),delete this.instances[t]}}},978671:(t,e,i)=>{i.d(e,{h:()=>s});const s={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},253851:(t,e,i)=>{let s,n;i.d(e,{Z:()=>s,R:()=>n}),function(t){t.Load="load",t.Experience="experience",t.Operation="operation"}(s||(s={})),function(t){t.PageLoad="page-load",t.PageSegmentLoad="page-segment-load",t.InlineResult="inline-result",t.Custom="custom"}(n||(n={}))},938141:(t,e,i)=>{i.d(e,{Q:()=>n});var s=i(827883);class n extends s.F{}},244819:(t,e,i)=>{i.d(e,{d:()=>s});const s=()=>"undefined"!=typeof window},508687:(t,e,i)=>{let s,n,a,r,l,o;i.d(e,{pp:()=>s,Qx:()=>n,lS:()=>h,WR:()=>d,j3:()=>c}),function(t){t[t.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",t[t.SUBSCRIBE=1]="SUBSCRIBE",t[t.UNSUBSCRIBE=2]="UNSUBSCRIBE"}(s||(s={})),function(t){t.VISIBLE="visible",t.HIDDEN="hidden",t.MIXED="mixed"}(n||(n={})),function(t){t.fmp="fmp",t.tti="tti"}(a||(a={})),function(t){t.fmp="fmp",t.tti="tti"}(r||(r={})),function(t){t.response="response",t.result="result"}(l||(l={})),function(t){t.duration="duration"}(o||(o={}));const h="__SUBSCRIBE_ALL__",d="fmp",c="inline-response"}}]);
//# sourceMappingURL=65449.Da9csmsuay.js.map