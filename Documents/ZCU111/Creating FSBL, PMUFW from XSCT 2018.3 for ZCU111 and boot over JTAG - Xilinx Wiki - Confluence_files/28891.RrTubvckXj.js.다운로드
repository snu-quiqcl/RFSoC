"use strict";(self._cf=self._cf||[]).push([[28891,61284,98650],{284460:(e,t,n)=>{n.d(t,{r7:()=>r,k0:()=>a,tm:()=>s,R7:()=>i});let r=!1;const a=()=>{r=!0},o=()=>!!window.testAnalytics,s=e=>{o()&&(window.testAnalytics.expectedPageSegments=e)},i=()=>{o()&&window.testAnalytics.clear()}},409150:(e,t,n)=>{n.d(t,{D:()=>r});const r=(0,n(122551).createContext)({includeTopNav:!0});r.displayName="BannerContext"},340575:(e,t,n)=>{let r;n.d(t,{m:()=>r}),function(e){e.FREE="FREE",e.PREMIUM="PREMIUM",e.STANDARD="STANDARD"}(r||(r={}))},551029:(e,t,n)=>{n.d(t,{x:()=>o,g:()=>s});var r=n(331377),a=n(146740);const o=r.ZP`query getDraftContentAppearanceProperty($contentId:ID$status:[String]){content(id:$contentId status:$status){nodes{id ...contentAppearanceDraftFragment}}}${a.t}`,s=r.ZP`query getPublishedContentAppearanceProperty($contentId:ID$status:[String])@SLA{content(id:$contentId status:$status){nodes{id ...contentAppearancePublishedFragment}}}${a.O}`},97497:(e,t,n)=>{n.d(t,{bp:()=>l,uS:()=>c,te:()=>u,Ag:()=>m,C7:()=>p,T:()=>g});var r=n(991332),a=n(122551),o=n(902195),s=n(551029),i=n(146238);const l=(e,t)=>{const n=null==e?void 0:e.find((e=>(null==e?void 0:e.key)===t&&(null==e?void 0:e.version)));let r=i.X.DEFAULT,a=0;var o;n&&(r=n.value?JSON.parse(n.value):r,a=(null===(o=n.version)||void 0===o?void 0:o.number)||a);return{appearance:r,version:a}},c=e=>{var t,n;return l(null!==(t=null===(n=e.appearancePublished)||void 0===n?void 0:n.nodes)&&void 0!==t?t:null,i.q.PUBLISHED)},u=async(e,t,n,r)=>{try{return await e(t),h(r,t),t}catch(a){if((0,o.j)(a,"409")){const a=await m(t.contentId,t.propertyKey,n,"network-only");if(a.version)return t=d(t,a),await e(t),h(r,t),t}throw a}},d=(e,t)=>(e.versionNumber=t.version+1,e.propertyValue!==t.appearance&&(e.propertyValue=t.appearance===i.X.DEFAULT?i.X.FULL_WIDTH:i.X.DEFAULT),e),m=async(e,t,n,r="cache-first")=>{var a,o;const u=t===i.q.PUBLISHED?s.g:s.x,d="network-only"===r?Date.now():void 0,m=null===(a=(await n.query({query:u,variables:{contentId:e,status:["current","draft"],dummy:d},fetchPolicy:r,context:{single:"true"}})).data)||void 0===a||null===(o=a.content)||void 0===o?void 0:o.nodes[0];return m?t===i.q.PUBLISHED?c(m):(e=>{var t,n;return l(null!==(t=null===(n=e.appearanceDraft)||void 0===n?void 0:n.nodes)&&void 0!==t?t:null,i.q.DRAFT)})(m):E()},E=()=>({appearance:i.X.DEFAULT,version:0}),p="editorAppearance",h=(e,t)=>{var n;e&&("function"==typeof e.setMetadata?e.setMetadata((0,r.Z)({editorWidth:{value:t.propertyValue,version:t.versionNumber}},null!==(n=e.metadata)&&void 0!==n&&n.title?{title:e.metadata.title}:{})):e.sendMessage({type:p,appearance:t.propertyValue,version:t.versionNumber}))},g=({children:e,userOffline:t,params:n,apolloClient:o,updateContentAppearanceProperty:s,collabEditProvider:i})=>{const[l,c]=(0,a.useState)(!1),u=async()=>{const e=await m(n.contentId,n.propertyKey,o,"network-only");await(async(e,t,n,a)=>{const o=(0,r.Z)((0,r.Z)({},t),{},{propertyValue:e.appearance,versionNumber:e.version+1});e.version&&(await n(o),h(a,o))})(e,n,s,i)};return(0,a.useEffect)((()=>{c(!!t)}),[t]),!t&&l&&u(),e}},146740:(e,t,n)=>{n.d(t,{O:()=>o,t:()=>s});var r=n(331377);const a=r.ZP`fragment contentAppearanceInnerFragment on PaginatedJsonContentPropertyList{nodes{id key value version{number}}}`,o=r.ZP`fragment contentAppearancePublishedFragment on Content{appearancePublished:properties(key:"content-appearance-published"){...contentAppearanceInnerFragment}}${a}`,s=r.ZP`fragment contentAppearanceDraftFragment on Content{appearanceDraft:properties(key:"content-appearance-draft"){...contentAppearanceInnerFragment}}${a}`},146238:(e,t,n)=>{let r,a;n.d(t,{q:()=>r,X:()=>a}),function(e){e.PUBLISHED="content-appearance-published",e.DRAFT="content-appearance-draft"}(r||(r={})),function(e){e.DEFAULT="default",e.FULL_WIDTH="full-width"}(a||(a={}))},170915:(e,t,n)=>{let r;n.d(t,{x:()=>r}),function(e){e.INHERIT="inherit",e.BACKBONE="backbone",e.BETTER_TOGETHER="better-together",e.COLLABORATION="collaboration",e.CONTENT_EXPERIENCE="content-experience",e.DISCO="disco",e.ECOSYSTEM="ecosystem",e.GROWTH="growth",e.GROWTH_APOLLO="growth-apollo",e.GROWTH_UPFLOW="growth-upflow",e.MISSION_CONTROL="mission-control",e.CC_ONBOARDING="cc-onboarding",e.TAILORED_EXPERIENCES="tailored-experiences",e.SMARTS="smarts",e.CC_ANALYTICS="cc-analytics",e.ECONOMY="economy",e.CONTENT_TYPES="content-types"}(r||(r={}))},806297:(e,t,n)=>{n.d(t,{q:()=>c,S:()=>u});var r=n(991332),a=n(122551),o=n(275513),s=n(147543),i=n(28201),l=n(72055);const c=(0,i.ZR)({__loadable_id__:"IzFuP",name:"ErrorComponent",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(35321),n.e(99735)]).then(n.bind(n,743037))).ErrorComponent}),u=({attribution:e,attributes:t,children:n,modal:i})=>{const u=(0,a.useCallback)((e=>a.createElement(c,(0,r.Z)((0,r.Z)({},e),{},{modal:i}))),[i]),d=(0,a.useCallback)((e=>{(0,s.OG)(e)||(0,o.OV)().fail({error:e,attributes:t})}),[t]);return a.createElement(l.O,{attribution:e,renderOnError:u,onError:d},n)};u.displayName="ErrorBoundary"},72055:(e,t,n)=>{n.d(t,{O:()=>v});var r=n(991332),a=n(122551),o=n(268481),s=n.n(o),i=n(401487),l=n(598728),c=n(596207),u=n(170915);const d=a.createContext("unknown");d.displayName="AttributionContext";var m=n(919712),E=n(28201),p=n(184786);const h=(0,E.y$)({__loadable_id__:"r3Z-4",name:"IntlNextProvider",loader:async()=>(await n.e(54936).then(n.bind(n,464984))).IntlProvider});class g extends a.Component{componentDidCatch(e){throw e}render(){var e;if(null!==(e=this.state)&&void 0!==e&&e.missingIntlProviderInAncestry){const{locale:e,messages:t}=(0,p.i0)();return a.createElement(h,{key:e,"data-test-language":e,locale:e,defaultLocale:p.ZW,messages:t,textComponent:"span"},this.props.children)}return this.props.children}}g.displayName="IntlNextErrorBoundary";class _ extends a.Component{componentDidMount(){this.checkForAttributionError()}componentDidUpdate(){this.checkForAttributionError()}componentDidCatch(e,t){this.props.onError(e,t),this.setState({error:e,errorInfo:t})}checkForAttributionError(){0}render(){const{attribution:e,children:t,renderOnError:n}=this.props;return this.state&&this.state.error&&this.state.errorInfo?a.createElement(n,{attribution:e,error:this.state.error,errorInfo:this.state.errorInfo}):t}}function v(e){const{children:t,onError:n,renderOnError:o}=e,s=function(e){const t=(0,a.useContext)(d);return e===u.x.INHERIT?t:e}(e.attribution),E=(0,a.useContext)(m.W),p=(0,a.useCallback)(((e,t)=>{if(E&&E(e))throw e;(0,l.aU)(e,{componentStack:t.componentStack,errorHashCode:S(e,t)}),(0,i.LZ)(e)||((0,c.U)().submitError(e,{attribution:s}),(0,i.Xb)(e)),n&&n(e,t)}),[s,E,n]),h=(0,a.useCallback)((e=>a.createElement(o,(0,r.Z)({},e))),[]);return a.createElement(d.Provider,{value:s},a.createElement(_,{attribution:s,onError:p,renderOnError:h},a.createElement(g,null,t)))}function S(e,t){const n=s()(`${e.message||String(e)}${t.componentStack}`,{asBytes:!0});return(1073741823&(255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24)).toString(32)}_.displayName="GenericErrorBoundaryComponent",v.displayName="GenericErrorBoundary"},440297:(e,t,n)=>{n.d(t,{W:()=>s});var r=n(29298),a=n(122551),o=n(919712);class s extends a.Component{constructor(...e){super(...e),(0,r.Z)(this,"willParentCatch",void 0),(0,r.Z)(this,"state",{error:null}),(0,r.Z)(this,"willCatch",(e=>{var t;return Boolean(this.props.isKnownError(e)||(null===(t=this.willParentCatch)||void 0===t?void 0:t.call(this,e)))}))}componentDidCatch(e){if(!this.props.isKnownError(e))throw e;var t,n;null===(t=(n=this.props).onError)||void 0===t||t.call(n,e),this.setState({error:e})}render(){const{error:e}=this.state;return a.createElement(o.W.Consumer,null,(t=>(this.willParentCatch=t,a.createElement(o.W.Provider,{value:this.willCatch},e?this.props.renderOnError(e):this.props.children))))}}s.displayName="KnownErrorBoundary"},919712:(e,t,n)=>{n.d(t,{W:()=>r});const r=n(122551).createContext((()=>!1));r.displayName="KnownErrorBoundaryContext"},511461:(e,t,n)=>{n.d(t,{k:()=>s});var r=n(122551),a=n(72055);const o=()=>null,s=({attribution:e,children:t,onError:n})=>r.createElement(a.O,{attribution:e,renderOnError:o,onError:n},t);s.displayName="TransparentErrorBoundary"},213489:(e,t,n)=>{n.d(t,{Y:()=>i,T:()=>c});var r=n(991332),a=n(122551),o=n(902195),s=n(440297);const i=e=>a.createElement(s.W,(0,r.Z)({isKnownError:c},e));i.displayName="UnauthorizedErrorBoundary";const l=e=>{var t,n;return!1===(null==e||null===(t=e.extensions)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.authorized)},c=e=>(0,o.j)(e,"403",l)},902195:(e,t,n)=>{n.d(t,{j:()=>a,e:()=>s});var r=n(853102);function a(e,t,n){var a;return!!e&&((0,r.MS)(e)?(null===(a=e.graphQLErrors)||void 0===a?void 0:a.some((e=>o(e,t,n))))||o(null==e?void 0:e.networkError,t,n):o(e,t,n))}function o(e,t,n){if(e){if(s(e)===t||null!=n&&n(e))return!0;const{originalError:r}=e;if(r)return a(r,t,n)}return!1}function s(e){if(e){var t,n;let a=null===(t=e.response)||void 0===t?void 0:t.status;if(null==a){const{extensions:t}=e;var r;if(t)a=t.statusCode||(null===(r=t.http)||void 0===r?void 0:r.status)}return null===(n=a)||void 0===n?void 0:n.toString()}}},944997:(e,t,n)=>{let r;n.d(t,{O:()=>r}),function(e){e[e.DEFAULT=6e4]="DEFAULT",e[e.CREATE_PAGE=3e4]="CREATE_PAGE",e[e.CREATE_DIALOG_LOAD=6e4]="CREATE_DIALOG_LOAD",e[e.MACRO_LOAD=6e4]="MACRO_LOAD",e[e.EDITOR_LOAD=9e4]="EDITOR_LOAD",e[e.EDITOR_PUBLISH=6e4]="EDITOR_PUBLISH",e[e.TEMPLATE_EDITOR_LOAD=9e4]="TEMPLATE_EDITOR_LOAD",e[e.TEMPLATE_EDITOR_PUBLISH=6e4]="TEMPLATE_EDITOR_PUBLISH",e[e.IN_EDITOR_TEMPLATE_PANEL_LOAD=2e4]="IN_EDITOR_TEMPLATE_PANEL_LOAD",e[e.IN_EDITOR_TEMPLATES_UPDATE_CONTENT_REFRESH_EDITOR=9e4]="IN_EDITOR_TEMPLATES_UPDATE_CONTENT_REFRESH_EDITOR",e[e.HOME=2e4]="HOME",e[e.NAVIGATION_LOAD=3e4]="NAVIGATION_LOAD",e[e.PAGE_LOAD=6e4]="PAGE_LOAD",e[e.SPACE_DIRECTORY=6e4]="SPACE_DIRECTORY",e[e.SPACE_VIEWS=2e4]="SPACE_VIEWS",e[e.TEMPLATE_GALLERY_TEMPLATE_DETAIL_UPDATE=2e4]="TEMPLATE_GALLERY_TEMPLATE_DETAIL_UPDATE",e[e.TEMPLATE_PREVIEW=2e4]="TEMPLATE_PREVIEW"}(r||(r={}))},534322:(e,t,n)=>{n.d(t,{t:()=>r});class r extends Error{constructor(e){super(e),this.name="ExperienceTimeoutError"}}},66909:(e,t,n)=>{n.d(t,{T:()=>s});var r=n(29298),a=n(69210);class o{constructor(){(0,r.Z)(this,"callbacks",new Map)}start(){let e;document.addEventListener("freeze",(()=>{e=performance.now()})),document.addEventListener("resume",(()=>{if("number"!=typeof e)return;const t=performance.now();for(const n of this.callbacks.values())n(t-e)}))}subscribe(e,t){this.callbacks.set(e,t)}unsubscribe(e){this.callbacks.delete(e)}}const s=(0,a.default)((()=>new o))},972416:(e,t,n)=>{n.d(t,{y:()=>i});var r=n(29298),a=n(69210),o=n(616158);class s{constructor({maxIntervalsToStore:e}={}){(0,r.Z)(this,"inactivityIntervals",[]),(0,r.Z)(this,"logger",(0,o.j)("TabInactivityTracker")),(0,r.Z)(this,"maxIntervalsToStore",void 0),(0,r.Z)(this,"onVisibilityChange",(()=>{document.hidden?(this.inactivityIntervals.length>=this.maxIntervalsToStore&&this.inactivityIntervals.splice(this.maxIntervalsToStore-1),this.inactivityIntervals.unshift([window.performance.now(),null])):0===this.inactivityIntervals.length||null!=this.inactivityIntervals[0][1]?this.logger.error`Invariant violation: tab is currently active, but inactivity intervals are in inconsistent state`:this.inactivityIntervals[0][1]=window.performance.now()}));this.maxIntervalsToStore="number"==typeof e?e:100}initialize(){return document.hidden&&this.onVisibilityChange(),document.addEventListener("visibilitychange",this.onVisibilityChange),{teardown:()=>{document.removeEventListener("visibilitychange",this.onVisibilityChange)}}}getInactiveMillisecondsSince(e){let t=0;for(const[n,r]of this.inactivityIntervals){const a=r||window.performance.now();if(e>a)break;t+=a-Math.max(n,e)}return t}}const i=(0,a.default)((()=>{const e=new s;return e.initialize(),e}))},451379:(e,t,n)=>{n.d(t,{F:()=>o,Q:()=>s});var r=n(991332),a=n(122551);const o=(0,a.createContext)({start(){},succeed(){},fail(){},abort(){},stopOnError(){},subscribe:()=>()=>{},getExperienceState:()=>null});function s(e){const t=t=>a.createElement(o.Consumer,null,(n=>a.createElement(e,(0,r.Z)((0,r.Z)({},t),{},{experienceTracker:n}))));return t.displayName=`withExperienceTracker(${e.displayName||e.name})`,t}},401487:(e,t,n)=>{n.d(t,{Xb:()=>l,LZ:()=>c,wY:()=>u});var r=n(29298),a=n(853102),o=n(596207);const s=Symbol("error marked as handled");const i=new class{constructor(e,t){this.gracefulHandlingPeriodMs=e,this.errorHandler=t,(0,r.Z)(this,"errorsToHandle",new Map),(0,r.Z)(this,"processError",(e=>{e&&this.scheduleErrorReporting(e)})),(0,r.Z)(this,"isErrorMarkedAsHandled",(e=>!!e&&("object"==typeof e&&Boolean(e[s])))),(0,r.Z)(this,"markErrorAsHandled",(e=>{if(!e)return;(0,a.MS)(e)&&((e.graphQLErrors||[]).forEach((e=>this.markErrorAsHandled(e))),this.markErrorAsHandled(e.networkError));const t=this.errorsToHandle.get(e);"object"==typeof e&&(e[s]=!0),window.clearTimeout(t),this.errorsToHandle.delete(e)}))}scheduleErrorReporting(e){const t=window.setTimeout((()=>{this.errorHandler(e),l(e)}),this.gracefulHandlingPeriodMs);this.errorsToHandle.set(e,t)}}(100,(function(e){(0,o.U)().submitError(e,{attribution:"graphql"})})),l=i.markErrorAsHandled,c=i.isErrorMarkedAsHandled,u=i.processError},917465:(e,t,n)=>{n.d(t,{b:()=>r});const r="/wiki"},426266:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(538639);const a={[r.tH.name]:r.tH,[r.ts.name]:r.ts,[r.Ch.name]:r.Ch,[r.z8.name]:r.z8,[r.XN.name]:r.XN,[r.B$.name]:r.B$,[r.Cj.name]:r.Cj,[r.km.name]:r.km,[r.q9.name]:r.q9,[r.zh.name]:r.zh,[r.ri.name]:r.ri,[r.uV.name]:r.uV,[r.tz.name]:r.tz,[r.N4.name]:r.N4,[r.Rs.name]:r.Rs,[r.EZ.name]:r.EZ,[r.Vr.name]:r.Vr,[r.Ku.name]:r.Ku,[r.$j.name]:r.$j,[r.So.name]:r.So,[r.F.name]:r.F,[r.Ay.name]:r.Ay,[r.KP.name]:r.KP,[r.cu.name]:r.cu,[r.eL.name]:r.eL,[r.vP.name]:r.vP,[r.RI.name]:r.RI,[r.y4.name]:r.y4,[r.SM.name]:r.SM,[r.Cz.name]:r.Cz,[r.TA.name]:r.TA,[r.S1.name]:r.S1,[r.ME.name]:r.ME,[r.At.name]:r.At,[r.Lf.name]:r.Lf,[r.AI.name]:r.AI,[r.uc.name]:r.uc,[r.z4.name]:r.z4,[r._t.name]:r._t,[r.xL.name]:r.xL,[r.tO.name]:r.tO,[r.te.name]:r.te,[r.oq.name]:r.oq,[r.rq.name]:r.rq,[r.y9.name]:r.y9,[r.dn.name]:r.dn,[r.O2.name]:r.O2,[r.gK.name]:r.gK,[r.XZ.name]:r.XZ,[r.s2.name]:r.s2,[r.Xp.name]:r.Xp,[r.sj.name]:r.sj,[r.Z1.name]:r.Z1,[r.Qv.name]:r.Qv,[r.s3.name]:r.s3,[r.BJ.name]:r.BJ,[r.RT.name]:r.RT,[r.Z9.name]:r.Z9,[r.Cp.name]:r.Cp,[r.nX.name]:r.nX,[r.dm.name]:r.dm,[r.rW.name]:r.rW,[r.s$.name]:r.s$,[r.mE.name]:r.mE,[r.iN.name]:r.iN,[r.jT.name]:r.jT,[r.zo.name]:r.zo,[r.Xu.name]:r.Xu,[r.p4.name]:r.p4,[r.ck.name]:r.ck,[r.U1.name]:r.U1,[r._p.name]:r._p,[r._2.name]:r._2,[r.WQ.name]:r.WQ,[r.Jd.name]:r.Jd,[r.Yw.name]:r.Yw,[r.T3.name]:r.T3,[r.HE.name]:r.HE,[r.gC.name]:r.gC,[r.Te.name]:r.Te,[r.dd.name]:r.dd,[r.nM.name]:r.nM,[r.cz.name]:r.cz,[r.RW.name]:r.RW,[r.Sd.name]:r.Sd,[r.LH.name]:r.LH,[r.u$.name]:r.u$,[r.dc.name]:r.dc,[r.Fd.name]:r.Fd,[r.Lz.name]:r.Lz,[r.mR.name]:r.mR,[r.me.name]:r.me,[r.oG.name]:r.oG,[r.i1.name]:r.i1,[r.m1.name]:r.m1,[r.pH.name]:r.pH,[r.Fg.name]:r.Fg,[r.G9.name]:r.G9,[r.yM.name]:r.yM,[r.uL.name]:r.uL,[r.Gr.name]:r.Gr,[r.uR.name]:r.uR,[r.Bn.name]:r.Bn,[r.Ts.name]:r.Ts,[r.Es.name]:r.Es,[r.KD.name]:r.KD,[r.dj.name]:r.dj,[r.kk.name]:r.kk,[r.kj.name]:r.kj,[r.wJ.name]:r.wJ,[r.QT.name]:r.QT,[r.J3.name]:r.J3,[r.aR.name]:r.aR,[r.xt.name]:r.xt,[r.s8.name]:r.s8,[r.Rm.name]:r.Rm,[r.nZ.name]:r.nZ,[r.vr.name]:r.vr,[r.J1.name]:r.J1,[r.R4.name]:r.R4,[r.GJ.name]:r.GJ}},147543:(e,t,n)=>{n.d(t,{RX:()=>s,Fo:()=>i,OG:()=>l});var r=n(853102),a=n(251846);const o="Session expired";class s extends a.K{constructor(e,t){super(`${e} Session expired`,t)}}function i(e){var t,n;if(!e)return!1;if(e instanceof s)return!0;if(-1!=((null!=(n=e)?n.message:n)||"").indexOf(o))return!0;return 401==(null!=(t=e)&&null!=(t=t.extensions)?t.statusCode:t)}function l(e){if(!e)return!1;if(i(e))return!0;if((0,r.MS)(e)){const{graphQLErrors:t,networkError:n}=e;if(i(n))return!0;if((t||[]).some(i))return!0}return!1}},89557:(e,t,n)=>{n.d(t,{z1:()=>i,Sd:()=>l});var r=n(991332),a=n(122551),o=n(64172),s=n.n(o);const i=a.createContext({contentId:void 0,contentIdLoading:!1,contentSlug:void 0,embeddedContentRender:void 0,queryHash:void 0,routeName:void 0,spaceKey:void 0,versionOverride:void 0,searchSessionId:void 0,isLite:!1});i.displayName="PageContext";s().shape({contentId:s().oneOfType([s().string,s().symbol]),contentIdLoading:s().bool,contentSlug:s().string,embeddedContentRender:s().string,queryHash:s().string,routeName:s().string,spaceKey:s().string,versionOverride:s().number,searchSessionId:s().string,isLite:s().bool});function l(e){const t=t=>a.createElement(i.Consumer,null,(n=>a.createElement(e,(0,r.Z)((0,r.Z)({},t),{},{pageContext:n}))));return t.displayName=`withPageContext(${e.displayName||e.name})`,t}},402493:(e,t,n)=>{n.d(t,{Jv:()=>v,gZ:()=>S,vd:()=>T});var r=n(122551),a=n(499082),o=n(401487),s=n(596207),i=n(213489),l=n(483565),c=n(158466),u=n(426266),d=n(340575);const m=n(331377).ZP`query PageRestrictionsQuery($contentId:ID!$status:[String]$includeAncestors:Boolean!){singleContent(id:$contentId status:$status){id hasInheritedRestrictions hasViewRestrictions hasRestrictions ancestors@include(if:$includeAncestors){id title hasRestrictions links{webui}}}}`;var E=n(597936),p=n(772610);const h=["current","draft","archived"],g={loading:!1,refetch:()=>{}},_=(0,r.createContext)(g),v=_.Consumer,S=e=>{const t=(0,E.k)(e.contentId),n=function(){const{transitionId:e}=(0,r.useContext)(p.M),t=(0,r.useRef)(0),n=t.current===e?"cache-first":"network-only";return t.current=e,n}(),v=[u.v.CREATE_BLOG.name,u.v.CREATE_PAGE.name,u.v.EDIT_BLOG.name,u.v.EDIT_PAGE.name],S=(0,l.TW)("confluence.frontend.page-share-and-permissions"),T=e.routeName||"",I=v.includes(T),{edition:f}=(0,c.D)()||{},y=d.m.FREE===f&&(!S||I),{data:w,loading:O,error:R,refetch:L}=(0,a.aM)(m,{variables:{contentId:null==t?void 0:t.toString(),status:h,includeAncestors:y},skip:!t||"symbol"==typeof t,fetchPolicy:n});R&&((0,i.T)(R)||(0,s.U)().submitError(R,{attribution:"backbone"}),(0,o.Xb)(R));const b=(0,r.useMemo)((()=>t?{loading:O,error:R,restrictions:A(w),refetch:L}:g),[O,R,w,L,t]);return r.createElement(_.Provider,{value:b},e.children)};S.displayName="PageRestrictionsContextProvider";const A=e=>{const t=null==e?void 0:e.singleContent;var n;if(t)return{hasRestrictions:t.hasRestrictions,hasViewRestrictions:t.hasViewRestrictions,hasInheritedRestrictions:t.hasInheritedRestrictions,ancestors:(null===(n=t.ancestors)||void 0===n?void 0:n.map((e=>{var t;return{id:(null==e?void 0:e.id)||null,title:(null==e?void 0:e.title)||null,hasRestrictions:Boolean(null==e?void 0:e.hasRestrictions),links:{webui:(null==e||null===(t=e.links)||void 0===t?void 0:t.webui)||null}}})))||[]}},T=()=>(0,r.useContext)(_)},597936:(e,t,n)=>{n.d(t,{k:()=>i});var r=n(122551),a=n(89557),o=n(772610),s=n(330828);function i(e){const{contentId:t}=(0,r.useContext)(a.z1),{getQueryParams:n}=(0,r.useContext)(o.M);return e||(t||(0,s.r)(n(),"draftId"))}},57230:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(29298),a=n(913879);class o{constructor(e={}){(0,r.Z)(this,"store",void 0),this.store=e}serialize(e){if(Array.isArray(e))return`[${e.map(this.serialize,this).join(",")}]`;if("object"==typeof e){return`{${Object.entries(null!=e?e:{}).filter((e=>void 0!==e[1])).sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0)).map((([e,t])=>`${e}:${this.serialize(t)}`)).join(",")}}`}return String(e)}toHashKey({name:e,variables:t}){return`${e}:${this.serialize(null!=t?t:{})}`}load(e,t,{refetchIfNotClaimed:n=!0}={}){const r=this.toHashKey(e);return(!this.store[r]||n&&(0,a.wp)(this.store[r]))&&(this.store[r]=(0,a.LW)(t())),this.store[r]}claim(e,t){const n=this.toHashKey(e),r=this.store[n];return r?r.catch((()=>(delete this.store[n],null))).then((e=>(delete this.store[n],t?t(e):e&&e.data?e:null))):Promise.resolve(null)}}let s=null;function i(){return null===s&&(window.QUERY_PRELOADER_RESULTS||(window.QUERY_PRELOADER_RESULTS={}),s=new o(window.QUERY_PRELOADER_RESULTS)),s}},536347:(e,t,n)=>{n.d(t,{b:()=>l});var r=n(984218),a=n(443709),o=n(616158),s=n(57230);const i=(0,o.j)("PreloadedQueryLink"),l=()=>new r.ApolloLink(((e,t)=>{const{operationName:n,variables:r}=e;return n?new a.Z((a=>{let o=null;return(0,s.E)().claim({name:n,variables:r}).then((r=>{r?(i.debug`Query matched: ${n} ${r}`,a.next(r),a.complete()):o=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})),()=>{o&&o.unsubscribe()}})):t(e)}))},90995:(e,t,n)=>{n.d(t,{ai:()=>o,GL:()=>s,qC:()=>l,yc:()=>c});var r=n(991332),a=n(122551);let o,s;!function(e){e.content="content",e.comment="comment"}(o||(o={})),function(e){e[e.immediate=0]="immediate",e[e.normal=1]="normal",e[e.background=2]="background"}(s||(s={}));const i=async(e,t,n,r)=>{const a=Object.keys(e).reduce(((t,n)=>{const r=e[n],a=Number(r.priority||s.immediate);return t[a]?t[a].push(r):t[a]=[r],t}),[]);for(const o of a){const e=n.current===t;if(o&&e){const e=o.map((e=>e.reload(r)));await Promise.all(e)}}},l=a.createContext({registerReloader:()=>{},reloaders:{[o.content]:async()=>{},[o.comment]:async()=>{}}}),c=(0,a.memo)((({contentId:e,children:t})=>{const n=(0,a.useRef)(e),s=(0,a.useRef)(!1),[c,u]=(0,a.useState)({}),[d,m]=(0,a.useState)({});(0,a.useLayoutEffect)((()=>()=>{s.current=!0}),[]),(0,a.useLayoutEffect)((()=>(n.current=e,()=>{s.current||(u({}),m({}))})),[e]);const E=(0,a.useCallback)((e=>{e.types.forEach((t=>{(t===o.comment?m:u)((t=>(0,r.Z)((0,r.Z)({},t),{},{[e.name]:e})))}))}),[u,m]),p=(0,a.useMemo)((()=>({contentId:e,registerReloader:E,reloaders:{[o.content]:t=>i(c,e,n,t),[o.comment]:t=>i(d,e,n,t)}})),[e,E,c,d]);return a.createElement(l.Provider,{value:p},t)}))},997077:(e,t,n)=>{n.d(t,{S:()=>s,H:()=>l});var r=n(122551),a=n(538639),o=n(772610);function s(){return d("click",u,!1),d("mousedown",c,!0),null}function i(e){return e instanceof HTMLElement&&e.isContentEditable}function l(e,t){if(!("button"in e)||0!==e.button)return;if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;const{target:n}=e;if(!(n&&n instanceof Element))return;const r=n.closest("a");if(!r)return;if(!(r instanceof HTMLAnchorElement)||"hash"in r&&r.hash)return;const o=r.closest("[contenteditable]"),s=n.closest("[contenteditable]");if(i(o)||i(s))return;if(r.target&&"_self"!==r.target)return;const{href:l}=r;if(!l)return;if(!t||"function"!=typeof t.matchRoute)return;const c=t.matchRoute(l);return!c||c.name!==a.T3.name&&c.name!==a._2.name?l:void 0}function c(e,{preloadRoute:t},n){t(n)}function u(e,{push:t},n){e.preventDefault(),t(n,Boolean(a.LH.match(window.location.pathname)))}function d(e,t,n){const a=(0,r.useContext)(o.M),s=(0,r.useMemo)((()=>function(e,t){return n=>{if(n.defaultPrevented)return;const r=l(n,t);r&&e(n,t,r)}}(t,a)),[t,a]);(0,r.useEffect)((()=>(s&&window.addEventListener(e,s,n),()=>{s&&window.removeEventListener(e,s,n)})),[s,e,n])}},867281:(e,t,n)=>{n.d(t,{S:()=>s});var r=n(991332),a=n(831904),o=n(122551);const s=(0,n(570778).h)(class extends o.Component{UNSAFE_componentWillMount(){0}componentDidMount(){const{usePush:e=!1,push:t,replace:n,forceReload:r=!1}=this.props;(e?t:n)(this.getUrl(),r)}getUrl(){const{name:e,params:t,href:n=null,to:o=null,toUrl:s,getQueryParams:i,getHash:l}=this.props,c=n||o;let u={};return c&&(u=(0,a.parse)(c,!0)),s(e,(0,r.Z)((0,r.Z)({hash:l(),query:i()},t),u))}render(){return null}})},772610:(e,t,n)=>{n.d(t,{M:()=>s});const r=()=>null,a=()=>"",o=()=>{},s=n(122551).createContext({getHref:a,history:null,location:null,match:null,transitionId:null,toUrl:a,matchRoute:r,matchSupportedRoute:r,getQueryParams:()=>({}),setQueryParams:o,getHash:a,setHash:o,replace:o,routes:[],push:o,open:r,onPageReload:o,preloadRoute:o});s.displayName="RoutesContext"},330828:(e,t,n)=>{function r(e,t){if(!e)return;const n=e[t];return Array.isArray(n)?n[0]:n}function a(e,t,n){const a=r(e,t),o=parseInt(a||"",10);return isNaN(o)?n:o}n.d(t,{r:()=>r,S:()=>a})},669200:(e,t,n)=>{n.d(t,{bW:()=>c,GD:()=>u,SK:()=>d,jC:()=>m,BE:()=>E,cR:()=>p,Tx:()=>h,EO:()=>g,Y6:()=>_,m_:()=>v,Tq:()=>S});var r=n(991332),a=n(831904),o=n(853024),s=n.n(o),i=n(225797),l=n.n(i);const c="/wiki",u=(e,t)=>{if(!e)return;let n;return n=t?e.replaceAll(/[^A-Za-z0-9\-._~]+/g," ").trim().replaceAll(" ","+"):(e||"").replace(/[^A-Za-z0-9+\-.]/g," ").trim().replace(/\s+/g,"+").replace(/\++/g,"+").replace(/^\++|\++$/g,""),"."!==n&&".."!==n&&n||void 0},d=(e,t)=>{const n=(0,r.Z)((0,r.Z)({},(0,a.parse)(e,!0)),{},{search:void 0});return n.query=(0,r.Z)((0,r.Z)({},n.query),t),n.query=s()(n.query,l()),(0,a.format)(n)},m=(e,t)=>{const n=(0,r.Z)((0,r.Z)({},(0,a.parse)(t,!0)),{},{search:void 0});return e.forEach((e=>delete n.query[e])),(0,a.format)(n)},E=e=>(e=>e.split("#")[0])((e=>e.split("?")[0])(e)),p=(e,t="")=>{e=encodeURIComponent(e);let n=("string"==typeof t?t:t.pathname)||"";n.startsWith(c)&&(n=n.substring(c.length)),n.startsWith("/")&&(n=n.substring(1));const a=`${c}/spaces/${e}${n?`/${n}`:""}`;return"string"==typeof t?a:(0,r.Z)((0,r.Z)({},t),{},{pathname:a})},h=(e,t,n,r,a)=>{const o=a?`/${a}`:"";switch(n){case"blogpost":const[a,s,i]=r.slice(0,10).split("-");return`${(e=>p(e,"blog"))(e)}/${a}/${s}/${i}/${t}${o}`;case"page":return`${(e=>p(e,"pages"))(e)}/${t}${o}`;default:throw new Error(`Expected content type 'blogpost' or 'page', but received '${n}'`)}},g=/^(http(s)?:)?\/\//,_=(e,t)=>t&&0!==e.toString().indexOf(c)?c:"",v=(e,t)=>g.test(e)?e:`${_(e,t)}${e}`,S=e=>"#"===e.charAt(0)},570778:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(991332),a=n(122551),o=n(772610);function s(e){function t(t){const n=(0,a.useContext)(o.M);return a.createElement(e,(0,r.Z)((0,r.Z)({},n),t))}return t.displayName=`withRoutesContext(${e.displayName||e.name})`,t}},917068:(e,t,n)=>{n.d(t,{e:()=>d,g:()=>u});var r=n(29298),a=n(122551),o=n(913879),s=n(158238),i=n(991332),l=n(997811),c=n(115181);const u=()=>window.__SESSION_DATA_PROMISE__?window.__SESSION_DATA_PROMISE__:window.__SESSION_DATA_PROMISE__=(0,o.LW)(async function(e={}){if(window.USE_MOCKED_SESSION_DATA)return new Promise((e=>{window.MOCK_SESSION_DATA_RESOLVE=e}));if(window.__SESSION_DATA__)return window.__SESSION_DATA__;const t=window.GLOBAL_APOLLO_CLIENT_URI||"/cgraphql";return window.__SESSION_DATA__=c.H.run("fetch:SessionDataQuery",(()=>fetch(`${t}?q=SessionDataQuery`,(0,l.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,i.Z)({"X-APOLLO-OPERATION-NAME":"SessionDataQuery","Content-Type":"application/json"},e.headers),body:JSON.stringify({query:"\nquery SessionDataQuery @SLA {\n  tenant {\n    shard\n    cloudId\n    environment\n    activationId\n    editions {\n      edition\n    }\n  }\n  userForAnalytics: user {\n    id\n  }\n  user(current: true) {\n    id\n    displayName\n    confluence {\n      accountId\n      userKey\n      locale\n    }\n    timeZone\n  }\n  featureFlags(extraTargeting: true, first: 800) {\n    nodes {\n      id\n      value\n      explanation {\n        ruleIndex\n        ruleId\n        kind\n      }\n    }\n  }\n}\n"})})).then((async e=>{if(!e.ok)throw new Error(`Cannot load session data: ${e.statusText}`);const t=(await e.json()).data;return window.__SESSION_DATA__=t,t}))))}().then(s.K));class d extends a.Component{constructor(e){super(e),(0,r.Z)(this,"_mount",void 0),(0,r.Z)(this,"state",{});const t=u();this._mount=!0,(0,o.wp)(t)?this.state={sessionData:(0,o.NA)(t)}:t.then((e=>{this._mount&&this.setState({sessionData:e})}))}componentWillUnmount(){this._mount=!1}render(){const{sessionData:e}=this.state;return e?this.props.children(e):!0===this.props.renderChildrenWhenLoading?this.props.children({loading:!0}):null}}d.displayName="SessionData"},19978:(e,t,n)=>{n.d(t,{g:()=>r});const r=n(122551).createContext(void 0);r.displayName="SessionDataContext"},505841:(e,t,n)=>{n.d(t,{B:()=>A});var r=n(991332),a=n(69210),o=n(405124),s=n.n(o),i=n(937613),l=n(443033);const c={sendOperationalEvent:e=>(0,l.getAnalyticsWebClient)().then((t=>{t.sendOperationalEvent(e)}))},u=(0,a.default)(((e={})=>new i.Z({flags:e,analyticsHandler:c})),s());var d=n(510555),m=n(596207);let E={},p={};const h=(e,t)=>{const n=(e=>{if(!e&&!window.location.href)return{};const t=new URL(e||window.location.href);return new URLSearchParams(t.search)})(t);for(const r in E)void 0!==e[r]&&("true"!==n.get(E[r])?"false"===n.get(E[r])&&(e[r]=!1):e[r]=!0)};function g(e){return"true"===e||"false"!==e&&("object"==typeof e?JSON.stringify(e):e)}function _(e,t){return e.reduce(((e,n)=>(e[n.id]=t(n),e)),{})}const v=(e,t,n)=>t.hasOwnProperty(e)?(0,r.Z)((0,r.Z)({},n[e]),{},{value:t[e]}):n[e];function S(e){return"object"==typeof e&&"value"in e?(0,r.Z)((0,r.Z)({},e.explanation?{explanation:(0,r.Z)({},e.explanation)}:{}),{},{value:g(e.value)}):{value:g(e),explanation:void 0}}const A=(0,a.default)(((e,t)=>{const n=e?_(e,S):{},r=(0,d.RW)(n,v),a=u();a.setFlags(r);const{original:o,withOverrides:s}=(e=>{const t=_(e,(e=>g(e.value)));return{original:t,withOverrides:(0,d.RW)(t,((e,t,n)=>t.hasOwnProperty(e)?t[e]:n[e]))}})(e);return((e,t)=>{for(const a in p){const o=e[p[a].rolloutFF];if("string"==typeof o)try{const r=JSON.parse(o);var n;e[a]=t?e[a]&&(r.enabledLastDigits.includes(t.substr(-1))||(null===(n=r.enabledUserIds)||void 0===n?void 0:n.includes(t))):e[a]&&r.includeAnonUsers}catch(r){(0,m.U)().submitError(r,{attribution:"backbone"})}}})(s,t),h(s),{originalFeatureFlags:o,featureFlagsWithOverrides:s,featureFlagClient:a}}))},483565:(e,t,n)=>{n.d(t,{TW:()=>o,hS:()=>s});var r=n(158466),a=n(619241);const o=(e,t)=>{const n=(0,r.D)();return(0,a.x)(e,t),Boolean(null==n?void 0:n.featureFlags[e])},s=(e,t)=>{const n=(0,r.D)(),o=null==n?void 0:n.featureFlags[e];return(0,a.x)(e,t),null!=o?String(o):void 0}},158466:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(122551),a=n(19978);const o=()=>(0,r.useContext)(a.g)},619241:(e,t,n)=>{n.d(t,{x:()=>s});var r=n(122551),a=n(937613),o=n(158466);const s=(e,t={triggerReason:a.s.AutoExposure})=>{const n=(0,o.D)();(0,r.useEffect)((()=>{var r,a;null==n||null===(r=n.featureFlagClient)||void 0===r||null===(a=r.trackFeatureFlag)||void 0===a||a.call(r,e,t)}),[e,t,null==n?void 0:n.featureFlagClient])}},405665:(e,t,n)=>{n.d(t,{wu:()=>d,T6:()=>m});var r=n(991332),a=n(122551),o=n(499082),s=n(401487),i=n(596207),l=n(213489),c=n(414252);const u={tenantId:"",isNewUser:!1,userCanCreateContent:!1,isAnonymous:!1,siteLogoUrl:"",siteTitle:"",showSiteTitle:!1,homepageUri:"",homepageTitle:"",experimentFeatures:"",abTestCohorts:"",isSiteAdmin:!1,loading:!0},d=(0,a.createContext)(u),m=(0,a.memo)((({children:e})=>{const{data:t,loading:n,error:m}=(0,o.aM)(c.u);m&&((0,l.T)(m)||(0,i.U)().submitError(m,{attribution:"backbone"}),(0,s.Xb)(m));const p=(0,r.Z)((0,r.Z)({},t?E(t):u),{},{loading:n,error:m});return a.createElement(d.Provider,{value:p},e)})),E=e=>{const{isNewUser:t,isSiteAdmin:n,abTestCohorts:r,experimentFeatures:a}=e,{userCanCreateContent:o,isAnonymous:s,homepageUri:i,homepageTitle:l}=e.spaViewContext||{},{tenantId:c,siteLogoUrl:d,siteTitle:m,showSiteTitle:E}=e.siteConfiguration||{},p={tenantId:c,isNewUser:t,userCanCreateContent:o,isAnonymous:s,siteLogoUrl:d,siteTitle:m,showSiteTitle:E,homepageUri:i,homepageTitle:l,experimentFeatures:a,abTestCohorts:r,isSiteAdmin:n,loading:!1};for(const[h,g]of Object.entries(p))null==g&&(p[h]=u[h]);return p}},414252:(e,t,n)=>{n.d(t,{u:()=>r});const r=n(331377).ZP`query SPAViewContextQuery{spaViewContext{userCanCreateContent isAnonymous homepageUri homepageTitle}siteConfiguration{tenantId siteLogoUrl siteTitle showSiteTitle}isNewUser isSiteAdmin abTestCohorts experimentFeatures}`},115181:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(29298);const a=new class{constructor(){(0,r.Z)(this,"measures",void 0),(0,r.Z)(this,"startTime",void 0),this.measures={},this.startTime=0}setStartTime(){this.startTime=performance.now()>>0}run(e,t){return t()}markMeasureStart(e){this.measures[e]={startTime:(performance.now()>>0)-this.startTime,duration:0}}markMeasureEnd(e){var t;null!==(t=this.measures[e])&&void 0!==t&&t.startTime&&(this.measures[e].duration=(performance.now()>>0)-this.startTime-this.measures[e].startTime)}getMeasures(){return Object.entries(this.measures).sort(((e,t)=>e[1].startTime-t[1].startTime)).reduce(((e,[t,n])=>(e[t]=n,e)),{})}clearMeasures(){this.measures={}}}},656562:(e,t,n)=>{n.d(t,{X:()=>r,F:()=>a});const r={DISCOVER_ROUTE:"discover.route.last",SPACE_ROUTE:"space.route.last",GLOBAL_SIDEBAR_PANEL:"sidebar.global.panel",TINYMCE_PAGE_JUST_PUBLISHED:"editor.tinyMCE.just.published",EDITOR_SURVEY_LAST_SUBMITTED:"editor.survey.last.submitted",SUPERADMIN_SURVEY_REQUESTED:"superadmin.survey.requested",SUPERADMIN_SURVEY_SUBMITTED:"superadmin.survey.submitted",SUPERADMIN_SESSION_EXPIRED:"superadmin.session.expired",RESTRICTED_PAGE_CONFIRMED:"restricted.page.confirmed",HOME_ONBOARDING:"home.onboarding",PAGE_JUST_CONVERTED:"migration.page.just.converted",NAVIGATION_CLASSIC_OPT_OUT:"navigation.classic.opt.out",NAVIGATION_HOME_OPT_OUT:"navigation.home.opt.out",NAVIGATION_DEFAULT_OPTED_OUT:"navigation.default.opted.out",NAVIGATION_OPT_IN_SEEN_SPOTLIGHT:"navigation.opt.in.seen.spotlight",NAVIGATION_CLICKED_LOUD_OPT_IN_OR_VIEWED_FLAG:"navigation.clicked.loud.opt.in.or.viewed.flag",HOME_SECTION_COLLAPSED:"home.section.collapsed",RECENTLY_WATCHED_SPACE:"recentlyWatchedSpace",GROWTH_EXPERIMENT_REQUEST_UPGRADE_SENT:"growth.experiment.request.upgrade.sent",GROWTH_EXPERIMENT_UPGRADE_DISMISSED_COUNT:"growth.experiment.engagedUpgrade.dismissed.count",GROWTH_EXPERIMENT_UPGRADE_LAST_DISMISSED_DATE:"growth.experiment.engagedUpgrade.last.dismissed.date",LOCAL_STORAGE_DISPLAYS_NEXT_AT_KEY:"growth.experiment.engagedBilling.displays.next.at",LOCAL_STORAGE_HAS_BILLING_DETAILS:"growth.experiment.engagedBilling.has.billing.details",LOCAL_STORAGE_BILLING_API_NEXT_CALLED_AT_KEY:"growth.experiment.engagedBilling.billing.api.next.called.at",LOCAL_STORAGE_CONTENT_VIEW_CLOSEST_ELEMENT_SCROLL_POSITION:"ce.content.view.best.element.scroll.position",CONFLUENCE_SLACK_APP_IS_ENABLED:"growth.experiment.confluence.slack-is-enabled",HOME_SIDEBAR_WIDTH:"home.sidebar.width",STARRED_FEATURE_FLAGS:"confluence-frontend-next.starredFeatureFlags",COPIED_SPACE_PERMISSIONS:"copied.space.permissions",PERSIST_SCROLL_POSITION_IN_VIEW_PAGE:"editor-persit-scroll-position",ID_START_CONTENT_IN_VIEW_PAGE:"main-content",FABRIC_PAGE_OPTIN_MIGRATION_BANNER:"fabric.page.optin.migration.banner.discovery.feature",FABRIC_TEMPLATE_MIGRATION_SUCCESS_FLAG:"fabric-template-migration.success.flag",FABRIC_TEMPLATE_MIGRATION_ERROR_FLAG:"fabric-template-migration.error.flag",ONBOARDING_PAGE_REDIRECT:"onboardingPageRedirect",OVERRIDES_STORAGE_KEY:"confluence-frontend-next.featureFlagLocalOverrides",BYLINE_APPS_SHOW_ALL:"byline.apps.show-all",SPACENAV_APPS_SHOW_ALL:"spacenav.apps.show-all",HIDE_BULK_CONFIRMATION_DIALOG_LOCAL_STORAGE_KEY:"archive-pages.bulk-archive.confirmation-dialog.opt-out",ONBOARDING_STEP_INDEX:"onboarding.account.setup.step.index",ONBOARDING_FORM_VALUES:"onboarding.account.setup.form.values",ONBOARDING_QUICKSTART_TOUR_STATE:"onboarding.quickstart.tour.state",RIGHT_SIDEBAR:"right.sidebar",CONNECT_APP_ANALYTICS:"ecosystem.confluence.connect.analytics",UPDATE_TEMPLATE_PROPERTIES_SET_ERROR:"update.template.properties.set.error",EDITOR_REVERTED:"autoconverted.pages.reverted",BLOGPOST_PERMISSIONS_NOTICE:"blogpost.permissions.notice.error",QUERY_OVERRIDES:"query.overrides"},a={PERSISTED_LEFT_SIDEBAR_WIDTH:"persisted.left.sidebar.width",PERSISTED_LEFT_SIDEBAR_COLLAPSED:"persisted.left.sidebar.collapsed",PERSISTED_GROWTH_PERSISTENT_UPGRADE_PRETRIAL_BANNER:"persisted.growth.persistent.upgrade.preTrial.banner",PERSISTED_GUEST_SURVEY_NEXT_TIME_TO_SHOW:"persisted.guest.survey.next.time.to.show",PERSISTED_GROWTH_SEARCH_APP_RECOMMENDATION_DISMISSED:"persisted.growth.search.app.recommendation.dismissed",PERSISTED_REMOVE_RECOMMENDATIONS_IN_APP_MENU:"persisted.economy-growth.remove.recommendations.in.app.menu"}},306311:(e,t,n)=>{n.d(t,{Ar:()=>m,BC:()=>u});var r=n(29298),a=n(616158),o=n(596207);const s=n(331377).ZP`mutation UpdateLocalStorageMutation($storageinput:LocalStorageInput!$stringKeys:[String]!$booleanKeys:[String]!){updateLocalStorage(localStorage:$storageinput){stringValues(keys:$stringKeys){key value}booleanValues(keys:$booleanKeys){key value}}}`;var i=n(656562),l=n(86294);const c=(0,a.j)("storage-manager");function u(e){if(e&&"code"in e)switch(e.code){case 22:return!0;case 1014:if("NS_ERROR_DOM_QUOTA_REACHED"===e.name)return!0;break;default:return!1}return!1}function d(e){if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}class m{constructor(e,t,n,a,{userId:m,isLicensed:E}){(0,r.Z)(this,"_storageManager",void 0),(0,r.Z)(this,"_delimiter","#"),(0,r.Z)(this,"_namespace",void 0),(0,r.Z)(this,"_userId",void 0),(0,r.Z)(this,"_isLicensedUser",void 0),(0,r.Z)(this,"_hasQuotaErrorBeenSubmitted",!1),(0,r.Z)(this,"getItem",(e=>{if(!this._storageManager)return c.warn`Local/session storage not supported on browser`,null;try{const t=(0,l.x)(e,`${this._namespace}.${e}`);let n=this._storageManager.getItem(t);if(n||(n=this._storageManager.getItem(e),n&&(this._incrementLocalStorageMigrationEntries(),this.setItem(e,n),this._storageManager.removeItem(`${e}`))),n){let t;n=d(n);const r=/(\d+)#/;if("string"==typeof n&&(t=r.exec(n))){const r=n.replace(t[0],""),a=parseInt(t[1],10);return!isNaN(a)&&Date.now()>a?(this.removeItem(e),null):r}return n}return null}catch(t){return this._submitError(t,`Error getting value from storage manager for key:${e} : ${t}`),null}})),(0,r.Z)(this,"getAndRemoveItem",(e=>{if(!this._storageManager)return c.warn`Local/session storage not supported on browser`,null;try{const t=this.getItem(e);return t?(this.removeItem(e),t):null}catch(t){return this._submitError(t,`Error getting and removing value from storage manager for key:${e} : ${t}`),null}})),(0,r.Z)(this,"getAllItems",(()=>{const e={};if(!this._storageManager)return c.warn`Local/session storage not supported on browser`,e;const t=this._storageManager.length;try{for(let n=0;n<t;n++){const t=this._storageManager.key(n);if(t&&t.includes(`${this._namespace}.`)){const n=t.split(`${this._namespace}.`)[1],r=this._storageManager.getItem(t);e[n]=d(r)}}return e}catch(n){return this._submitError(n,`Error getting all items from storage manager : ${n}`),e}})),(0,r.Z)(this,"doesContain",(e=>{if(!this._storageManager)return c.warn`Local/session storage not supported on browser`,!1;try{const t=this.getItem(e);return"boolean"==typeof t?!t:!!t}catch(t){return this._submitError(t,`Error getting value from storage manager for key ${e}: ${t}`),!1}})),(0,r.Z)(this,"getItemAsBoolean",(e=>{if(!this._storageManager)return c.warn`Local/session storage not supported on browser`,!1;try{const t=this.getItem(e);return!(t&&"string"==typeof t&&t.indexOf("false")>=0)&&(!!(t&&"string"==typeof t&&t.indexOf("true")>=0)||!!t)}catch(t){return this._submitError(t,`Error getting value as boolean from storage manager for key ${e}: ${t}`),!1}})),(0,r.Z)(this,"setItem",((e,t,n)=>{if(!this._storageManager)return c.warn`Local/session storage not supported on browser`,null;try{const r=(0,l.x)(e,`${this._namespace}.${e}`);if("object"!=typeof t&&(t=`${this._getPrefix(n)}${t}`),t=JSON.stringify(t),this._storageManager.setItem(r,t),Object.values(i.F).indexOf(e)>-1&&!sessionStorage.getItem("confluence.disable-persisted-storage-for-tests")&&window.GLOBAL_APOLLO_CLIENT&&this._userId&&this._isLicensedUser){const n={storageinput:{stringValues:[{key:r,value:t}]},stringKeys:[r],booleanKeys:[]};window.GLOBAL_APOLLO_CLIENT.mutate({mutation:s,variables:n}).catch((n=>{this._submitError(n,`Error updating user preferences with key ${e} and value ${t}: ${n}`)}))}return JSON.parse(t)}catch(r){return u(r)?(this._hasQuotaErrorBeenSubmitted||(this._submitError(new Error(`Quota exceeded on key "${e}"`)),this._hasQuotaErrorBeenSubmitted=!0),c.error`Storage quota exceeded when for key ${e} and value ${t}; original error: ${r}`):this._submitError(r,`Error setting value from storage manager with key ${e} and value ${t}: ${r}`),null}})),(0,r.Z)(this,"removeItem",(e=>{if(this._storageManager)try{const t=(0,l.x)(e,`${this._namespace}.${e}`);return void this._storageManager.removeItem(`${t}`)}catch(t){return void this._submitError(t,`Error removing value from storage manager for key ${e}: ${t}`)}else c.warn`Local/session storage not supported on browser`})),(0,r.Z)(this,"initializeFromServer",(e=>{if(Array.isArray(e)&&!sessionStorage.getItem("confluence.disable-persisted-storage-for-tests"))try{e.forEach((e=>this._storageManager&&this._storageManager.setItem(e.key,e.value)))}catch(t){u(t)?this._submitError(new Error("Quota exceeded on intializing persisted values from server")):this._submitError(t,`Error setting value from storage manager while initializing persisted values from server: ${t}`)}})),(0,r.Z)(this,"_submitError",((e,t)=>{t&&c.error`${t}`,(0,o.U)().submitError(e,{attribution:"unknown"})})),(0,r.Z)(this,"_incrementLocalStorageMigrationEntries",(()=>{(0,o.U)().incrementCounter("localstorage-migration-entries")})),this._storageManager=e,this._namespace=m?`${a}/${t}.${m}.${n}`:`${a}/null`,this._userId=m,this._isLicensedUser=null!=E&&E}_getPrefix(e){const t=1e3*(e||0);return t?Date.now()+t+this._delimiter:""}}},86294:(e,t,n)=>{n.d(t,{i:()=>s,x:()=>i});var r=n(656562),a=n(900836);const o=/[^A-Za-z0-9\-._\/]/g,s=e=>{const t=[];let n=`${a.Ll}/${a.hP}.${e}.${a.Vw}`;return n=n.replace(o,"_"),Object.keys(r.F).forEach((e=>t.push(`${n}.${r.F[e]}`))),t},i=(e,t)=>(Object.values(r.F).indexOf(e)>-1&&(t=t.replace(o,"_")),t)},361284:(e,t,n)=>{n.d(t,{FK:()=>l,LT:()=>p,R2:()=>h,aN:()=>g});var r=n(28201),a=n(306311),o=n(900836);const s=n(331377).ZP`query LocalStorageQuery($stringKeys:[String]!$booleanKeys:[String]!){localStorage{stringValues(keys:$stringKeys){key value}booleanValues(keys:$booleanKeys){key value}}}`;var i=n(86294);const l=(0,r.y$)({__loadable_id__:"g_xHX",name:"LocalStorageQuotaSubscriber",loader:async()=>{const{LocalStorageQuotaSubscriber:e}=await Promise.all([n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(98876)]).then(n.bind(n,485282));return e}}),c="object"==typeof window?window.localStorage:{},u="object"==typeof window?window.sessionStorage:{},d=(e,t)=>(e=>{try{return void 0!==e&&"setItem"in e&&!!e.setItem}catch(t){return!1}})(e)?e:null,m=d(u),E=d(c);let p,h;const g=async({userId:e,isLicensed:t})=>{p=new a.Ar(E,o.hP,o.Vw,o.Ll,{userId:e,isLicensed:t}),h=new a.Ar(m,o.hP,o.Vw,o.XC,{userId:e,isLicensed:t});let n=null;window.__USER_PREFERENCES__?n=window.__USER_PREFERENCES__:window.GLOBAL_APOLLO_CLIENT&&(n=await(async(e,t,n)=>{if(!n||!t)return null;try{const n={stringKeys:(0,i.i)(t),booleanKeys:[]},{data:r,errors:a}=await e.query({query:s,context:{allowOnExternalPage:!0},variables:n});if(a)return null;if(r&&r.localStorage)return r.localStorage.stringValues}catch(r){return null}})(window.GLOBAL_APOLLO_CLIENT,e,t)),n&&p.initializeFromServer(n)}},900836:(e,t,n)=>{n.d(t,{hP:()=>r,Vw:()=>a,Ll:()=>o,XC:()=>s});const r="atlassian",a="frontend",o="localStorage",s="sessionStorage"},574409:(e,t,n)=>{n.d(t,{aX:()=>a,V:()=>o});const r={uuid:null,pageId:"",routeName:"",transitionId:0,routingTimestamp:0,currentSavedTimestamp:0},a=()=>(r.currentSavedTimestamp=performance.now(),{uuid:r.uuid,contentId:r.pageId,isInitial:0===r.transitionId,isSSR:Boolean(window.__SSR_RENDERED__),routingDuration:r.currentSavedTimestamp-r.routingTimestamp}),o=(e="",t,n,a)=>{var o;const l=null==t||null===(o=t.params)||void 0===o?void 0:o.contentId,c=a.userId;if(r.pageId!==l||r.routeName!==e){let t;t=c?i(e,l,a):s(),r.uuid=t,r.routeName=e,r.pageId=l,r.transitionId=n,r.routingTimestamp=performance.now()}},s=()=>"10000000-1000-4000-8000-100000000000".replace(/1|0/g,(function(){return(0|16*Math.random()).toString(16)})),i=(e,t,n)=>{const{userId:r,cloudId:a}=n;return`${e=e||"route"}-${t=t||"page"}-${r}-${a}-${Date.now()}`}},450855:(e,t,n)=>{n.d(t,{W:()=>d});var r=n(122551),a=n(499082),o=n(89557),s=n(616158),i=n(405665),l=n(247418);const c=n(331377).ZP`query LegacyBridgeQuery($contentId:ID!){page(id:$contentId status:[CURRENT]){id title nearestAncestors(first:1){edges{node{id title}}}}space(pageId:$contentId){id key name type}content(id:$contentId){nodes{id type version{number}operations{operation targetType}}}}`,u=(0,s.j)("LegacyBridgeNext");function d(){const{contentId:e}=(0,r.useContext)(o.z1),{data:t,error:n}=(0,a.aM)(c,{variables:{contentId:e},fetchPolicy:"cache-and-network"}),{experimentFeatures:s}=(0,r.useContext)(i.wu);return(0,r.useEffect)((()=>((0,l.Z)({listener:"LegacyBridgeNext.js",globalProperty:"AJS.Meta.set"},(()=>{var r,a,o,i,l,c,d,m,E;if(n)return void u.error(`Failed to Query Legacy AJSMetaData ${n}`);if(!t)return;const p=null!=(E=t)&&null!=(E=E.page)?E.title:E,h=null!=(m=t)&&null!=(m=m.space)?m.name:m,g=null!=(d=t)&&null!=(d=d.space)?d.key:d,_=null!=(c=t)&&null!=(c=c.space)?c.type:c,v=null!=(l=t)&&null!=(l=l.content)&&null!=(l=l.nodes)&&null!=(l=l[0])?l.type:l,S=null!=(i=t)&&null!=(i=i.content)&&null!=(i=i.nodes)&&null!=(i=i[0])&&null!=(i=i.version)?i.number:i,A=null!=(o=t)&&null!=(o=o.page)&&null!=(o=o.nearestAncestors)&&null!=(o=o.edges)&&null!=(o=o[0])&&null!=(o=o.node)?o.id:o,T=null!=(a=t)&&null!=(a=a.page)&&null!=(a=a.nearestAncestors)&&null!=(a=a.edges)&&null!=(a=a[0])&&null!=(a=a.node)?a.title:a,I=null!=(r=t)&&null!=(r=r.content)&&null!=(r=r.nodes)&&null!=(r=r[0])?r.operations:r,f=I&&I.filter((e=>"delete"===e.operation&&"page"===e.targetType)).length>0;if(window.AJS.Meta.set("has-next-legacy-bridge",!0),e){const t=0===S,n=t?"0":e;window.AJS.Meta.set("content-id",e),window.AJS.Meta.set("latest-page-id",e),window.AJS.Meta.set("new-page",t),window.AJS.Meta.set("page-id",n)}v&&window.AJS.Meta.set("content-type",v),S&&window.AJS.Meta.set("page-version",S),p&&window.AJS.Meta.set("page-title",p),A&&window.AJS.Meta.set("parent-page-id",A),T&&window.AJS.Meta.set("parent-page-title",T),I&&window.AJS.Meta.set("can-remove-page",f),h&&window.AJS.Meta.set("space-name",h),g&&window.AJS.Meta.set("space-key",g),_&&window.AJS.Meta.set("space-type",_),s&&window.AJS.Meta.set("experiment-features",s)})),()=>{var e;const t=null!=(e=window)&&null!=(e=e.AJS)?e.Meta:e;t&&t.set("has-next-legacy-bridge",!1)})),[t,n,e,s]),null}}}]);
//# sourceMappingURL=28891.RrTubvckXj.js.map