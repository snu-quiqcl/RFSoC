"use strict";(self._cf=self._cf||[]).push([[45442],{890369:(t,e,a)=>{a.d(e,{Q:()=>o});class i{constructor(t){this.streams=t}has(t){return!!this.streams.find(t)}set(t,e){this.streams.set(t,e)}get(t){return this.streams.get(t)}getOrInsert(t,e){return this.has(t)||this.set(t,e()),this.get(t)}removeAll(){this.streams.clear()}remove(t){this.streams.delete(t)}get size(){return this.streams.size}}let n;const o=()=>{if(!n){const t=a(501341).nA;n=new i(t.streams)}return n}},893793:(t,e,a)=>{a.d(e,{tM:()=>i});class i extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}},79680:(t,e,a)=>{a.d(e,{__:()=>n,y2:()=>o,vh:()=>r,f6:()=>c,jL:()=>s,nT:()=>p,mo:()=>l,eS:()=>d,L5:()=>u});var i=a(991332);const n=t=>"uploading"===t.status,o=t=>"processing"===t.status,r=t=>"processed"===t.status,c=t=>"error"===t.status,s=t=>!c(t)&&!!t.preview,p=t=>["processed","failed-processing","error"].includes(t.status),l=t=>{switch(t.status){case"processing":case"processed":case"failed-processing":return!(!t.representations||!t.representations.image);default:return!1}},d=t=>{const{id:e,name:a,size:n,processingStatus:o,artifacts:r,mediaType:c,mimeType:s,representations:p,createdAt:l,metadataTraceContext:d}=t.data,u={id:e,name:a,size:n,mediaType:c,mimeType:s,artifacts:r,representations:p,createdAt:l,metadataTraceContext:d};switch(o){case"pending":case void 0:return(0,i.Z)((0,i.Z)({},u),{},{status:"processing"});case"succeeded":return(0,i.Z)((0,i.Z)({},u),{},{status:"processed"});case"failed":return(0,i.Z)((0,i.Z)({},u),{},{status:"failed-processing"})}},u=(t,e)=>d({data:(0,i.Z)({id:t},e)})},365681:(t,e,a)=>{a.d(e,{dR:()=>p});var i=a(991332),n=(a(73377),a(315830)),o=a.n(n),r=a(88749);const c=(t,e)=>e?`${t}-${e}`:t,s=(t,e)=>{const a=e.reduce(((t,e)=>{const{id:a,collection:n}=e;return t[c(a,n)]=e.error instanceof Error?e.error:(0,i.Z)((0,i.Z)({},e.details),{},{metadataTraceContext:e.metadataTraceContext}),t}),{});return t.map((t=>{const{id:e,collectionName:i}=t,n=c(e,i);return a[n]||null}))};function p(t){return new(o())(function(t){return async e=>{const a="__media-single-file-collection__",n=e.reduce(((t,e)=>{const i=e.collectionName||a,n=t[i]||[];return-1===n.indexOf(e.id)&&n.push(e.id),t[i]=n,t}),{}),o=[];return await Promise.all(Object.keys(n).map((async e=>{const c={traceId:(0,r.QB)(8),spanId:(0,r.QB)(8)},s=n[e],p=e===a?void 0:e;try{const e=(await t.getItems(s,p,c)).data.items.map((t=>(0,i.Z)((0,i.Z)({},t),{},{metadataTraceContext:c})));o.push(...e)}catch(l){s.forEach((t=>{o.push({id:t,collection:p,error:l})}))}}))),s(e,o)}}(t),{maxBatchSize:100})}},895524:(t,e,a)=>{a.d(e,{O:()=>n});var i=a(322584);function n(t){const e=new i.ReplaySubject(1);return t instanceof Error?e.error(t):t&&e.next(t),e}},273167:(t,e,a)=>{a.d(e,{d:()=>i});function i(t,e=Date.now()){const{artifacts:a,mediaType:i,mimeType:n,name:o,processingStatus:r,representations:c,size:s,createdAt:p}=t;if(!(a||i||n||o||r||c||s||"number"!=typeof p)){if(e-p>432e5)return!0}return!1}},477666:(t,e,a)=>{a.d(e,{t:()=>i});const i=async t=>new Promise(((e,a)=>{const i=URL.createObjectURL(t),n=document.createElement("video");n.preload="metadata",n.src=i,n.muted=!0,n.addEventListener("loadedmetadata",(function t(){n.removeEventListener("loadedmetadata",t),e({width:n.videoWidth,height:n.videoHeight}),URL.revokeObjectURL(i)})),n.addEventListener("error",(()=>{a(new Error("failed to load video")),URL.revokeObjectURL(i)}))}))},736250:(t,e,a)=>{a.d(e,{k:()=>n,C:()=>o});var i=a(893793);class n extends i.tM{constructor(t,e){super(t),this.reason=t,this.attempts=e}get attributes(){const{reason:t,attempts:e}=this;return{reason:t,attempts:e}}}function o(t){return t instanceof n}},374171:(t,e,a)=>{a.d(e,{D:()=>c});var i=a(991332),n=a(29298),o=a(736250);const r={poll_intervalMs:3e3,poll_maxAttempts:30,poll_backoffFactor:1.25,poll_maxIntervalMs:2e5};class c{constructor(t){(0,n.Z)(this,"poll_intervalMs",0),(0,n.Z)(this,"attempt",1),(0,n.Z)(this,"shouldIterate",!0),(0,n.Z)(this,"timeoutId",0),this.options=(0,i.Z)((0,i.Z)({},r),t),this.poll_intervalMs=this.options.poll_intervalMs}async execute(t){const{poll_maxAttempts:e}=this.options;if(0===e)return this.fail(new o.k("pollingMaxAttemptsExceeded",this.attempt));try{if(this.shouldIterate=!1,await t(),!this.shouldIterate)return;if(this.attempt>=e)return this.fail(new o.k("pollingMaxAttemptsExceeded",this.attempt));this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt),this.attempt++,this.timeoutId=window.setTimeout((()=>this.execute(t)),this.poll_intervalMs)}catch(a){this.fail(a)}}fail(t){const{onError:e}=this;this.cancel(),e&&e(t)}getIntervalMsForIteration(t){let e=this.options.poll_intervalMs;if(1===t)return e;for(let a=2;a<=t;a++)e*=this.options.poll_backoffFactor;return Math.min(Math.round(e),this.options.poll_maxIntervalMs)}next(){this.shouldIterate=!0}cancel(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}},370353:(t,e,a)=>{a.d(e,{M:()=>c,J:()=>s});var i=a(253025),n=a(845274),o=a(488951),r=a(477666);async function c(t,e,a){if(("doc"===t||!(0,n.PU)(e)||!a)&&(0,o.ld)(e))return!0;if("video"===t&&a){const t=(await a).value;if(!(t instanceof Blob))return!1;try{const{width:e,height:a}=await(0,r.t)(t);return!e&&!a}catch(i){return!0}}return!1}function s(t,e,a){return(0,i.D)(c(t,e,a))}},394673:(t,e,a)=>{a.d(e,{L4:()=>o});var i=a(845274),n=a(488951);const o=t=>(t=>["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(t.toLowerCase())>-1)(t)?"archive":(0,i.$k)(t)||(0,n.$v)(t)?"image":(0,i.k_)(t)||(0,n.N5)(t)?"doc":(0,i.Fk)(t)||(0,n.p5)(t)?"audio":(0,i.AI)(t)||(0,n.a6)(t)?"video":"unknown"},845274:(t,e,a)=>{a.d(e,{$k:()=>i,k_:()=>n,Fk:()=>o,AI:()=>r,PU:()=>c});const i=t=>["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(t.toLowerCase())>-1,n=t=>"application/pdf"===t.toLowerCase(),o=t=>["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(t.toLowerCase())>-1,r=t=>["video/mp4","video/quicktime"].indexOf(t.toLowerCase())>-1,c=t=>n(t)||i(t)||o(t)||r(t)},488951:(t,e,a)=>{a.d(e,{$v:()=>i,N5:()=>n,p5:()=>o,a6:()=>r,ey:()=>c,ld:()=>s});const i=t=>["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(t.toLowerCase())>-1,n=t=>["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(t.toLowerCase())>-1,o=t=>["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(t.toLowerCase())>-1,r=t=>["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(t.toLowerCase())>-1,c=t=>["binary/octet-stream"].indexOf(t.toLowerCase())>-1,s=t=>i(t)||n(t)||o(t)||r(t)||c(t)},88749:(t,e,a)=>{a.d(e,{QB:()=>n});function i(t){return[...Array(2*t)].map((()=>Math.floor(16*Math.random()).toString(16))).join("")}function n(t){var e;let a;if(null!==(e=window)&&void 0!==e&&e.crypto)try{a=Array.from(window.crypto.getRandomValues(new Uint8Array(t))).map((t=>t.toString(16).padStart(2,"0"))).join("")}catch(n){a=i(t)}else a=i(t);return a}},315830:t=>{var e,a=function(){function t(t,e){if("function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._maxBatchSize=function(t){if(t&&!1===t.batch)return 1;var e=t&&t.maxBatchSize;if(void 0===e)return 1/0;if("number"!=typeof e||e<1)throw new TypeError("maxBatchSize must be a positive number: "+e);return e}(e),this._batchScheduleFn=function(t){var e=t&&t.batchScheduleFn;if(void 0===e)return i;if("function"!=typeof e)throw new TypeError("batchScheduleFn must be a function: "+e);return e}(e),this._cacheKeyFn=function(t){var e=t&&t.cacheKeyFn;if(void 0===e)return function(t){return t};if("function"!=typeof e)throw new TypeError("cacheKeyFn must be a function: "+e);return e}(e),this._cacheMap=function(t){if(t&&!1===t.cache)return null;var e=t&&t.cacheMap;if(void 0===e)return new Map;if(null!==e){var a=["get","set","delete","clear"].filter((function(t){return e&&"function"!=typeof e[t]}));if(0!==a.length)throw new TypeError("Custom cacheMap missing methods: "+a.join(", "))}return e}(e),this._batch=null}var e=t.prototype;return e.load=function(t){if(null==t)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(t)+".");var e=function(t){var e=t._batch;if(null!==e&&!e.hasDispatched&&e.keys.length<t._maxBatchSize&&(!e.cacheHits||e.cacheHits.length<t._maxBatchSize))return e;var a={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=a,t._batchScheduleFn((function(){return function(t,e){if(e.hasDispatched=!0,0===e.keys.length)return void o(e);var a=t._batchLoadFn(e.keys);if(!a||"function"!=typeof a.then)return n(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(a)+"."));a.then((function(t){if(!r(t))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(t)+".");if(t.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(e.keys)+"\n\nValues:\n"+String(t));o(e);for(var a=0;a<e.callbacks.length;a++){var i=t[a];i instanceof Error?e.callbacks[a].reject(i):e.callbacks[a].resolve(i)}})).catch((function(a){return n(t,e,a)}))}(t,a)})),a}(this),a=this._cacheMap,i=this._cacheKeyFn(t);if(a){var c=a.get(i);if(c){var s=e.cacheHits||(e.cacheHits=[]);return new Promise((function(t){s.push((function(){return t(c)}))}))}}e.keys.push(t);var p=new Promise((function(t,a){e.callbacks.push({resolve:t,reject:a})}));return a&&a.set(i,p),p},e.loadMany=function(t){if(!r(t))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+t+".");for(var e=[],a=0;a<t.length;a++)e.push(this.load(t[a]).catch((function(t){return t})));return Promise.all(e)},e.clear=function(t){var e=this._cacheMap;if(e){var a=this._cacheKeyFn(t);e.delete(a)}return this},e.clearAll=function(){var t=this._cacheMap;return t&&t.clear(),this},e.prime=function(t,e){var a=this._cacheMap;if(a){var i,n=this._cacheKeyFn(t);if(void 0===a.get(n))e instanceof Error?(i=Promise.reject(e)).catch((function(){})):i=Promise.resolve(e),a.set(n,i)}return this},t}(),i="object"==typeof process&&"function"==typeof process.nextTick?function(t){e||(e=Promise.resolve()),e.then((function(){return process.nextTick(t)}))}:setImmediate||setTimeout;function n(t,e,a){o(e);for(var i=0;i<e.keys.length;i++)t.clear(e.keys[i]),e.callbacks[i].reject(a)}function o(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]()}function r(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&(0===t.length||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1))}t.exports=a}}]);
//# sourceMappingURL=45442.KnniPd2QRU.js.map