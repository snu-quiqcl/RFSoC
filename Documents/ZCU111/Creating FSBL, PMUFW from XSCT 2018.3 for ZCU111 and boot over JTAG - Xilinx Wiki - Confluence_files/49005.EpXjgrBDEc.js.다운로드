(self._cf=self._cf||[]).push([[49005],{170250:(e,t,n)=>{var i=n(725719);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},904408:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},697729:e=>{e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},725719:(e,t,n)=>{var i=n(697729),r=n(999079),a=n(545324);e.exports=function(e,t,n){return t==t?a(e,t,n):i(e,r,n)}},999079:e=>{e.exports=function(e){return e!=e}},935813:(e,t,n)=>{var i=n(630652),r=n(170250),a=n(904408),o=n(788370),s=n(939752),l=n(439363);e.exports=function(e,t,n){var d=-1,c=r,u=e.length,p=!0,h=[],_=h;if(n)p=!1,c=a;else if(u>=200){var E=t?null:s(e);if(E)return l(E);p=!1,c=o,_=new i}else _=t?[]:h;e:for(;++d<u;){var m=e[d],f=t?t(m):m;if(m=n||0!==m?m:0,p&&f==f){for(var v=_.length;v--;)if(_[v]===f)continue e;t&&_.push(f),h.push(m)}else c(_,f,n)||(_!==h&&_.push(f),h.push(m))}return h}},939752:(e,t,n)=>{var i=n(215867),r=n(231307),a=n(439363),o=i&&1/a(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},545324:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},231307:e=>{e.exports=function(){}},184465:(e,t,n)=>{var i=n(420879),r=n(935813);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},807892:(e,t,n)=>{"use strict";var i=n(730436);Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return(e=i,e&&e.__esModule?e:{default:e}).default;var e}})},307271:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var i=n(122551),r=n(474258),a=n.n(r),o=n(38952),s=n(60244);function l(e){var t=e.children,n=e.innerRef,r=i.useContext(o.mq),l=i.useCallback((function(e){(0,s.k$)(n,e),(0,s.DL)(r,e)}),[n,r]);return i.useEffect((function(){return function(){return(0,s.k$)(n,null)}}),[]),i.useEffect((function(){a()(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),(0,s.$p)(t)({ref:l})}},259220:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var i=n(991332),r=n(122551),a=n(257848),o=n(574409),s=n(118140),l=n(379128);const d=()=>{},c=(0,r.memo)((({customData:e={},metric:t,onComplete:n=d,stopTime:c,timing:u})=>{const p=(0,r.useCallback)((()=>{t&&(a.n.getPageLoadMetric().mark(`${l.T}:${t.key}`),t.stop({customData:(0,i.Z)((0,i.Z)({},e),{},{pageLoadInfo:(0,o.aX)()}),stopTime:c}),n())}),[t,n]);return(0,s.G)(p,u),null}))},961634:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var i=n(122551),r=n(170915),a=n(72055);function o({children:e,error:t}){const[n,o]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=e=>{e.error===t&&e.preventDefault()};return window.addEventListener("error",e),o(!0),()=>{window.removeEventListener("error",e),o(!1)}}),[t,o]);const l=(0,i.useCallback)((t=>i.createElement(i.Fragment,null,e)),[e]);return i.createElement(a.O,{attribution:r.x.INHERIT,renderOnError:l},n?i.createElement(s,{error:t}):null)}function s({error:e}){throw e}o.displayName="ErrorDisplay"},755492:(e,t,n)=>{"use strict";n.d(t,{pA:()=>i,KN:()=>r,by:()=>a,Lk:()=>o});const i="confluence.frontend.enable.external.collab",r="confluence.frontend.enable.external.collab.single.space",a="confluence.frontend.external-collab-improvements",o="confluence.frontend.external-collaboration.guest-access.global-perms"},475260:(e,t,n)=>{"use strict";n.d(t,{e:()=>p});var i=n(853102),r=n(984218),a=n(274158),o=n(892539),s=n(207976),l=n(536347);const d=JSON.parse('[{"possibleTypes":[{"name":"SearchConfluencePageBlogAttachment"},{"name":"SearchConfluenceSpace"}],"kind":"INTERFACE","name":"SearchResult"},{"possibleTypes":[{"name":"ConfluencePage"},{"name":"ConfluenceBlogPost"}],"kind":"UNION","name":"SearchConfluenceEntity"}]');let c;const u=new o.Jd({introspectionQueryResultData:{__schema:{types:d}}}),p=()=>window.MOCK_GATEWAY_APOLLO_CLIENT?window.MOCK_GATEWAY_APOLLO_CLIENT:(c||(c=h()),c),h=()=>new i.fe({connectToDevTools:!1,link:(0,r.from)([(0,l.b)(),new a.u({credentials:"include",uri:"/gateway/api/graphql",fetch:s.y})]),cache:new o.h4({fragmentMatcher:u})})},572535:(e,t,n)=>{"use strict";n.d(t,{Tf:()=>p,S3:()=>h,Uu:()=>_});var i=n(991332),r=n(415911),a=n(331377),o=n(170915),s=n(213489),l=n(401487),d=n(475260),c=n(596207),u=n(917068);const p=a.ZP`query OrgId($cloudIds:[ID!]){tenantContexts(cloudIds:$cloudIds){orgId}}`,h=(e=o.x.DISCO,t)=>{t&&((0,l.Xb)(t),(0,s.T)(t)||(0,c.U)().submitError(t,{attribution:e}))},_=async({attribution:e=o.x.DISCO}={})=>{var t;const{cloudId:n}=await(0,u.g)(),a=await(0,d.e)().query({query:p,variables:{cloudIds:[n]}}),{data:s,errors:l}=a,c=(0,r.Z)(a,["data","errors"]);return null!=l&&l.length&&l.forEach(h.bind(null,e)),(0,i.Z)((0,i.Z)({},c),{},{data:s,orgId:null==s||null===(t=s.tenantContexts[0])||void 0===t?void 0:t.orgId})}},513229:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var i=n(991332),r=n(415911),a=n(499082),o=n(170915),s=n(475260),l=n(158466),d=n(572535);const c=({skip:e=!1,attribution:t=o.x.DISCO}={})=>{var n;const{cloudId:c}=(0,l.D)(),u=(0,a.aM)(d.Tf,{client:(0,s.e)(),variables:{cloudIds:[c]},skip:e||!c}),{data:p,error:h}=u,_=(0,r.Z)(u,["data","error"]);return h&&(0,d.S3)(t,h),(0,i.Z)((0,i.Z)({},_),{},{data:p,error:h,orgId:null==p||null===(n=p.tenantContexts[0])||void 0===n?void 0:n.orgId})}},988748:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var i=n(415911),r=n(991332),a=n(122551),o=n(349149),s=n(772610),l=n(997077);const d=(0,a.forwardRef)(((e,t)=>{const{target:n,name:i,href:o=null,to:l=null,params:d={}}=e,p=(0,a.useContext)(s.M),{matchSupportedRoute:h,toUrl:_}=p,E=o||l;if(!E&&!i)return a.createElement(c,(0,r.Z)((0,r.Z)({},e),{},{ref:t,path:""}));const m=E&&{href:E},f=_(i,(0,r.Z)((0,r.Z)({},d),m)),v=h(f);return v&&"_blank"!==n?a.createElement(u,(0,r.Z)((0,r.Z)({},e),{},{ref:t,match:v})):a.createElement(c,(0,r.Z)((0,r.Z)({},e),{},{ref:t,path:f}))})),c=(0,a.forwardRef)(((e,t)=>{let{path:n}=e,r=(0,i.Z)(e,["path"]);const{children:o,className:l,target:d,testId:c,style:u}=r,p=(0,a.useContext)(s.M),{onPageReload:h}=p;return a.createElement("a",{href:n,className:l,onClick:e=>{h(e.target.getAttribute("href"),!1),r.onClick&&r.onClick(e)},onContextMenu:e=>{var t;null===(t=r.onContextMenu)||void 0===t||t.call(r,e)},target:d,rel:"_blank"===d?"noreferrer":void 0,"data-testid":c,ref:t,"aria-label":r["aria-label"],style:u},o)})),u=(0,a.forwardRef)(((e,t)=>{let{match:n}=e,r=(0,i.Z)(e,["match"]);const d=(0,a.useContext)(s.M),{children:c,className:u,style:p}=r,{preloadRoute:h}=d;return a.createElement(o.Z,{to:`${n.pathname}${n.search}${n.hash}`,className:u,onClick:e=>{r.onClick&&r.onClick(e);const t=(0,l.H)(e,d);!e.defaultPrevented&&t&&(e.preventDefault(),d.push(t))},onContextMenu:e=>{var t;null===(t=r.onContextMenu)||void 0===t||t.call(r,e)},onMouseDownCapture:async()=>h(n),innerRef:t,"aria-label":r["aria-label"],style:p},c)}))},579204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},a=n(386056);const o=e=>r.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#fff" fill-opacity=".01" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.207 5.793a1 1 0 010 1.414L8.414 11H18a1 1 0 110 2H8.414l3.793 3.793a1 1 0 11-1.415 1.414l-5.499-5.5A.997.997 0 015 12.028v-.057a.996.996 0 01.293-.678l5.499-5.5a1 1 0 011.415 0z" fill="currentColor"/></svg>'},e));o.displayName="ArrowLeftIcon";var s=o;t.default=s},615139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},a=n(386056);const o=e=>r.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="ChevronDownIcon";var s=o;t.default=s},369642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},a=n(386056);const o=e=>r.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><circle fill="inherit" cx="12" cy="18" r="1"/><path d="M15.89 9.05a3.975 3.975 0 00-2.957-2.942C10.321 5.514 8.017 7.446 8 9.95l.005.147a.992.992 0 00.982.904c.552 0 1-.447 1.002-.998a2.004 2.004 0 014.007-.002c0 1.102-.898 2-2.003 2H12a1 1 0 00-1 .987v2.014a1.001 1.001 0 002.004 0v-.782c0-.217.145-.399.35-.472A3.99 3.99 0 0015.89 9.05" fill="inherit"/></g></svg>'},e));o.displayName="QuestionCircleIcon";var s=o;t.default=s},993492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},a=n(386056);const o=e=>r.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.436 15.085l3.94 4.01a1 1 0 01-1.425 1.402l-3.938-4.006a7.5 7.5 0 111.423-1.406zM10.5 16a5.5 5.5 0 100-11 5.5 5.5 0 000 11z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="SearchIcon";var s=o;t.default=s},791681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},a=n(386056);const o=e=>r.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="9"/><path d="M16.155 14.493a1.174 1.174 0 11-1.662 1.663L12 13.662l-2.494 2.494a1.172 1.172 0 01-1.662 0 1.176 1.176 0 010-1.663L10.337 12 7.844 9.507a1.176 1.176 0 011.662-1.662L12 10.338l2.493-2.493a1.174 1.174 0 111.662 1.662L13.662 12l2.493 2.493z" fill="inherit"/></g></svg>'},e));o.displayName="SelectClearIcon";var s=o;t.default=s},164480:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var i=n(122551),r=n(145348);const a=e=>i.createElement(r.f6,{partialSearchCSS:e.theme},i.createElement(r.tF,e))},981786:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,W:()=>s});var i=n(122551),r=n(131436);const a=({inverted:e=!1})=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"16",viewBox:"0 0 24 16"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("rect",{width:"24",height:"16",fill:e?`var(--ds-background-neutral-bold, ${r.Bn})`:`var(--ds-background-neutral, ${r.gt})`,rx:"3"}),i.createElement("path",{fill:e?`var(--ds-icon-inverse, ${r.gt})`:`var(--ds-icon-subtle, ${r.Bn})`,fillRule:"nonzero",d:"M8.12809107,9.16933636 C8.10113378,9.12943488 8.07791542,9.08679981 8.05893872,9.04193385 C8,8.89679975 7.98627063,8.74857828 8.01372937,8.60675456 C8.04118811,8.46493084 8.10983496,8.32950487 8.21966991,8.21966991 L9.96966991,6.46966991 C10.2625631,6.1767767 10.7374369,6.1767767 11.0303301,6.46966991 C11.3232233,6.76256313 11.3232233,7.23743687 11.0303301,7.53033009 L10.5606602,8 L12.75,8 C13.4403559,8 14,7.44035594 14,6.75 L14,5.75 C14,5.33578644 14.3357864,5 14.75,5 C15.1642136,5 15.5,5.33578644 15.5,5.75 L15.5,6.75 C15.5,8.26878306 14.2687831,9.5 12.75,9.5 L10.5606602,9.5 L11.0303301,9.96966991 C11.3232233,10.2625631 11.3232233,10.7374369 11.0303301,11.0303301 C10.7374369,11.3232233 10.2625631,11.3232233 9.96966991,11.0303301 L8.21966991,9.28033009 C8.18436185,9.24502202 8.15331014,9.20706939 8.1265148,9.16710979 Z"})));var o=n(993492);const s=({isExpanded:e,theme:t,size:n="small"})=>i.createElement(o.default,{label:"search",primaryColor:e?`var(--ds-text, ${r.xA})`:t.default.color,size:n})},792911:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,h:()=>d});var i=n(122551),r=n(790632),a=n(321534),o=n(483953);const s=(0,r.Z)("div",{target:"ew0layq0"})("",(e=>e.isExpanded?a.iv`
      position: absolute;
      right: 0;
      z-index: ${o.W5.searchDialog};
    `:{})),l=(0,r.Z)("div",{target:"ew0layq1"})("position:relative;",(e=>e.isExpanded?a.iv`
        @media screen and (max-width: ${o.JC}) {
          position: fixed;
          z-index: ${o.W5.searchDialog};
          left: calc((100% - ${o.aZ}) / 2);
        }
        @media screen and (max-width: ${o.Es}px) {
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          display: flex;
          flex-direction: column;
          overflow: auto;
        }
      `:{})),d=(0,r.Z)("div",{target:"ew0layq2"})("position:relative;@media screen and (min-width:",o.Es+1,"px){min-width:200px;}width:32px;height:32px;"),c=({children:e,onBlur:t,onFocus:n,onKeyDown:r,isExpanded:a})=>i.createElement(d,null,i.createElement(s,{isExpanded:a},i.createElement(l,{onBlur:t,onFocus:n,onKeyDown:r,isExpanded:a},e)))},719772:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var i=n(415911),r=n(953307),a=n(122551),o=n(905657),s=n(57198),l=n(805097),d=n(991332);const c=(0,a.forwardRef)(((e,t)=>{const{icon:n,testId:c,tooltip:u}=e,p=(0,i.Z)(e,["icon","testId","tooltip"]),h=(0,l.Fg)(),_=a.createElement(o.Z,(0,r.Z)({appearance:"primary",testId:c,iconBefore:n,ref:t,theme:(E=h,(e,t)=>{const{buttonStyles:n,spinnerStyles:i}=e(t);return{buttonStyles:(0,d.Z)((0,d.Z)((0,d.Z)({},n),{},{borderRadius:"100%",display:"flex",margin:"0 2px",padding:4,height:"auto",fontWeight:500},E.default),{},{":hover":(0,d.Z)({},E.hover),":focus":(0,d.Z)({},E.focus)}),spinnerStyles:i}})},p));var E;return u?a.createElement(s.Z,{content:u,hideTooltipOnClick:!0},_):_}))},476849:(e,t,n)=>{"use strict";n.d(t,{F7:()=>i,XX:()=>r,p8:()=>a,nY:()=>o,Fm:()=>s,rR:()=>l,MB:()=>d,sN:()=>c,zV:()=>u});const i=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.inputSkeletonState)||void 0===t?void 0:t.query)||""},r=e=>{var t;null!==(t=window)&&void 0!==t&&t.inputSkeletonState&&(window.inputSkeletonState.query=e)},a=()=>{var e,t;return(null===(e=window)||void 0===e||null===(t=e.inputSkeletonState)||void 0===t?void 0:t.isFocused)||!1},o=e=>{var t;null!==(t=window)&&void 0!==t&&t.inputSkeletonState&&(window.inputSkeletonState.isFocused=e)},s=()=>{var e,t,n,i,r,a;return{selectionStart:(null===(e=window)||void 0===e||null===(t=e.inputSkeletonState)||void 0===t?void 0:t.selectionStart)||0,selectionEnd:(null===(n=window)||void 0===n||null===(i=n.inputSkeletonState)||void 0===i?void 0:i.selectionEnd)||0,selectionDirection:(null===(r=window)||void 0===r||null===(a=r.inputSkeletonState)||void 0===a?void 0:a.selectionDirection)||"none"}},l=(e,t,n)=>{var i;null!==(i=window)&&void 0!==i&&i.inputSkeletonState&&(window.inputSkeletonState.selectionStart=e,window.inputSkeletonState.selectionEnd=t,window.inputSkeletonState.selectionDirection=n)},d=()=>{window.inputSkeletonState={query:"",placeholder:"",isFocused:!1,selectionStart:0,selectionEnd:0,selectionDirection:"none",listeners:[]}},c=()=>{window.inputSkeletonState&&(window.inputSkeletonState.listeners.forEach((e=>{const[t,n,i]=e;t.removeEventListener(n,i)})),window.inputSkeletonState.listeners=[])},u=()=>{window.inputSkeletonState&&(c(),delete window.inputSkeletonState)}},446791:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(415911),r=n(953307),a=n(122551),o=n(57198),s=n(579204),l=n(791681),d=n(719772),c=n(805097),u=n(981786),p=n(36142);const h=e=>{let{onInput:t,onClick:n,onEnter:c,isExpanded:h,placeholder:_,forwardRef:E,value:m,theme:f,tooltipContent:v,onBack:S,showClearButton:w,onClear:g,allowChangeExpand:x,exitSearchLabel:b,clearSearchLabel:C,onSelect:D}=e,y=(0,i.Z)(e,["onInput","onClick","onEnter","isExpanded","placeholder","forwardRef","value","theme","tooltipContent","onBack","showClearButton","onClear","allowChangeExpand","exitSearchLabel","clearSearchLabel","onSelect"]);const I=e=>{t&&t(e.currentTarget.value)},T=e=>{n&&n(e)},R=v&&!h?void 0:p.aO;return a.createElement(o.Z,{content:v,component:R,position:"bottom"},a.createElement(p.Wf,(0,r.Z)({},f,{isExpanded:h}),a.createElement(p.nr,{isExpanded:h},a.createElement(d.h,{onClick:T,tooltip:null,icon:a.createElement(u.W,{theme:f,isExpanded:h,size:"medium"})})),a.createElement(p.IS,(0,r.Z)({},f,{isExpanded:h,onClick:T,onKeyPress:e=>{"Enter"===e.key&&n&&n()},tabIndex:0}),a.createElement(u.W,{theme:f,isExpanded:h})),h&&a.createElement(p.bi,(0,r.Z)({},f,{onClick:S}),a.createElement(s.default,{label:b||"Exit Search",size:"large",primaryColor:f.default.color})),a.createElement(p.Qt,(0,r.Z)({"data-test-id":"search-dialog-input",onInput:I,onChange:I,onKeyDown:e=>{var t;null!==(t=e.nativeEvent)&&void 0!==t&&t.isComposing||229===e.keyCode||e.defaultPrevented||"Enter"!==e.key||(e.preventDefault(),c&&c(e))},onClick:T,onSelect:e=>{D&&D(e)},isExpanded:h,placeholder:_,ref:E||void 0,value:m,maxLength:500},f,y)),w&&a.createElement(p.o_,(0,r.Z)({},f,{onClick:()=>{null==g||g()},onMouseEnter:()=>{null==x||x(!1)},onMouseLeave:()=>{null==x||x(!0)},tabIndex:0}),a.createElement(l.default,{label:C||"Clear search session",size:"small"}))))},_=a.forwardRef(((e,t)=>{const n=(0,c.Fg)();return a.createElement(h,(0,r.Z)({},e,{theme:n,forwardRef:t}))}))},36142:(e,t,n)=>{"use strict";n.d(t,{nr:()=>l,IS:()=>d,o_:()=>c,bi:()=>u,Wf:()=>p,Qt:()=>h,aO:()=>_,mA:()=>E,WE:()=>m,l3:()=>f,lt:()=>v,Cs:()=>S,iH:()=>w});var i=n(790632),r=n(321534),a=n(400350),o=n(483953),s=n(131436);const l=(0,i.Z)("span",{target:"em6wsuj0"})("display:none;@media screen and (max-width:",o.Es,"px){display:",(e=>e.isExpanded?"none":"block"),";}"),d=(0,i.Z)("span",{target:"em6wsuj1"})("width:",o.eC.multiple(2).px,";height:",o.eC.multiple(2).px,";position:absolute;top:",o.eC.px,";left:",o.eC.px,";color:",(e=>e.isExpanded?`var(--ds-text, ${s.xA})`:e.default.color),";:focus{box-shadow:0 0 0 2px ",`var(--ds-border-focused, ${s.VY})`,";border-radius:100%;outline:none;}& > span[role='img']{line-height:0;}@media screen and (max-width:",o.Es,"px){display:none;}"),c=(0,i.Z)("div",{target:"em6wsuj2"})("width:",o.eC.multiple(2).px,";height:",o.eC.multiple(2.25).px,";position:absolute;bottom:",o.eC.multiple(.75).px,";right:",o.eC.multiple(1).px,";color:",`var(--ds-text-subtlest, ${s.n2})`,";background-color:transparent;@media screen and (max-width:",o.Es,"px){display:none;}:hover{cursor:pointer;color:",`var(--ds-icon, ${s.Mx})`,";}& > span > svg{vertical-align:unset;}"),u=(0,i.Z)("div",{target:"em6wsuj3"})("display:none;margin:0 ",o.eC.px,";height:",o.eC.multiple(4).px,";padding-bottom:",o.eC.multiple(.25).px,";@media screen and (max-width:",o.Es,"px){display:block;}:hover{border-radius:100%;background-color:",(e=>e.hover.backgroundColor),";color:",(e=>e.hover.color),";}"),p=(0,i.Z)("div",{target:"em6wsuj4"})(r.iv`
    position: relative;
    max-width: 100%;
    @media screen and (max-width: ${o.Es}px) {
      width: 100%;
    }
  `,(e=>{const t=`\n      width: ${e.isExpanded?o.aZ:o.fi};\n    `;return e.isExpanded?r.iv`
        ${t}
        @media screen and (max-width: ${o.Es}px) {
          width: 100%;
          height: ${o.t$};
          background-color: ${e.default.backgroundColor};
          display: flex;
          align-items: center;
          max-width: initial;
        }
      `:t})),h=(0,i.Z)("input",{target:"em6wsuj5"})("height:",o.L$.px,";width:100%;padding:0px 12px 0px 30px;box-sizing:border-box;outline:none;border-radius:5px;font-size:14px;line-height:20px;",(e=>`\n    border: 2px solid ${e.isExpanded?e.focus.borderColor:e.default.borderColor};\n    box-shadow: ${e.isExpanded?`-12px 0 24px 0 ${e.default.backgroundColor}`:"none"};\n    background-color: ${e.isExpanded?e.focus.backgroundColor:e.default.backgroundColor};\n    color: ${e.isExpanded?e.focus.color:e.default.color};\n\n    &::placeholder {\n      color: ${e.isExpanded?"var(--ds-text-subtlest, #B5BEC9)":e.default.color};\n    }\n\n    @media screen and (max-width: ${o.Es}px) {\n      ${e.isExpanded?`\n            padding: 0 ${o.eC.multiple(1.5).px} ${o.eC.multiple(.25).px};\n            margin: 0 ${o.eC.multiple(3).px} 0 0;`:"\n            display: none;\n          "}\n    }\n  `)),_=(0,i.Z)(a.Z,{target:"em6wsuj6"})({name:"1hyfx7x",styles:"display:none;"}),E=(0,i.Z)("input",{target:"em6wsuj7"})("height:",o.L$.px,";width:100%;padding:0px 12px 0px 30px;box-sizing:border-box;outline:none;border-radius:5px;font-size:14px;line-height:20px;border:2px solid var(--ds-border-input, rgb(223, 225, 230));box-shadow:none;background-color:var(--ds-background-input, rgb(255, 255, 255));color:",`var(--ds-text-subtlest, ${s.iw})`,";:hover{background-color:var(--ds-background-input-hovered, rgb(255, 255, 255));}:focus{color:",`var(--ds-text, ${s.xA})`,";}@media screen and (max-width:",o.Es,"px){display:none;}"),m=(0,i.Z)("div",{target:"em6wsuj8"})({name:"iaw1yw",styles:"position:relative;@media screen and (min-width:781px){min-width:200px;}height:32px;"}),f=(0,i.Z)("div",{target:"em6wsuj9"})({name:"79elbk",styles:"position:relative;"}),v=(0,i.Z)("div",{target:"em6wsuj10"})("position:relative;max-width:100%;@media screen and (max-width:",o.Es,"px){width:100%;}width:",o.fi,";"),S=(0,i.Z)("span",{target:"em6wsuj11"})("width:",o.eC.multiple(2).px,";height:",o.eC.multiple(2).px,";position:absolute;top:",o.eC.px,";left:",o.eC.px,";color:rgb(107,119,140);@media screen and (max-width:",o.Es,"px){display:none;}"),w=(0,i.Z)("span",{target:"em6wsuj12"})("display:none;padding:",o.eC.multiple(.5).px,";padding-right:2px;color:rgb(52,69,99);@media screen and (max-width:",o.Es,"px){display:flex;}")},151066:(e,t,n)=>{"use strict";n.d(t,{oS:()=>i,Tj:()=>r,$N:()=>a,YX:()=>o,nz:()=>s,LD:()=>l});const i="atlassian.search-dialog-sticky",r="atlassian.search-dialog-query",a="atlassian.search-dialog-filters",o=e=>window.sessionStorage.getItem(e),s=(e,t)=>{try{window.sessionStorage.setItem(e,t)}catch(n){n.code,DOMException.QUOTA_EXCEEDED_ERR}},l=e=>{window.sessionStorage.removeItem(e)}},58158:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>SSRsearchInput});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(953307),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(122551),_search_input_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36142),_ssr_scripts_min_script_interactive_search_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(804421),_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(981786);const SSRsearchInput=({advancedSearchUrl,placeholder,customScriptDataAttributes,theme})=>{const scriptRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{const current=null==scriptRef?void 0:scriptRef.current;current&&eval(current.innerHTML)})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_input_styled__WEBPACK_IMPORTED_MODULE_1__.WE,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"ssr-search-input-popout-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_input_styled__WEBPACK_IMPORTED_MODULE_1__.l3,{id:"ssr-form-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{method:"get",action:advancedSearchUrl},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_input_styled__WEBPACK_IMPORTED_MODULE_1__.lt,{id:"ssr-input-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_input_styled__WEBPACK_IMPORTED_MODULE_1__.iH,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_2__.W,{theme,isExpanded:!1,size:"medium"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_input_styled__WEBPACK_IMPORTED_MODULE_1__.Cs,{id:"ssr-search-icon-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons__WEBPACK_IMPORTED_MODULE_2__.W,{theme,isExpanded:!1})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_search_input_styled__WEBPACK_IMPORTED_MODULE_1__.mA,{id:"ssr-search-input",name:"text",placeholder,autoComplete:"off"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("script",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({"data-test-id":"ssr-scripts-init",ref:scriptRef,dangerouslySetInnerHTML:{__html:_ssr_scripts_min_script_interactive_search_input__WEBPACK_IMPORTED_MODULE_4__._}},customScriptDataAttributes))))))}},804421:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});const i='(function(document,window){var _a;var currentInput=document.getElementById("ssr-search-input");var container=document.getElementById("ssr-input-container");var topContainer=document.getElementById("ssr-search-input-popout-container");var iconWrapper=document.getElementById("ssr-search-icon-wrapper");var formContainer=document.getElementById("ssr-form-container");var pageWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(window["inputSkeletonState"]){for(var _i=0,_b=window["inputSkeletonState"].listeners;_i<_b.length;_i++){var listener=_b[_i];var target=listener[0],event_1=listener[1],handler=listener[2];target.removeEventListener(event_1,handler)}window["inputSkeletonState"].listeners=[]}function setExpandedStyles(){iconWrapper===null||iconWrapper===void 0?void 0:iconWrapper.setAttribute("style","color: rgb(9, 30, 66);");currentInput===null||currentInput===void 0?void 0:currentInput.setAttribute("style","background-color:#FFFFFF; border-color:#4C9AFF;box-shadow: rgb(255 255 255) -12px 0px 24px 0px;");if(pageWidth<=1130){topContainer===null||topContainer===void 0?void 0:topContainer.setAttribute("style","position: absolute;right: 0px;z-index: 300;");formContainer===null||formContainer===void 0?void 0:formContainer.setAttribute("style","position: fixed;z-index: 300;left: calc((100% - 780px) / 2);");container===null||container===void 0?void 0:container.setAttribute("style","position: relative;max-width: 100%;width: 780px;")}else{topContainer===null||topContainer===void 0?void 0:topContainer.setAttribute("style","position: absolute; right:0px; z-index:300;");container===null||container===void 0?void 0:container.setAttribute("style","width: 780px;")}}function resetInputSkeleton(){window["inputSkeletonState"]={query:"",placeholder:"",isFocused:false,selectionStart:0,selectionEnd:0,selectionDirection:"none",listeners:[]}}if(window["inputSkeletonState"]){if(window.inputSkeletonState.isFocused&&currentInput){currentInput.value=window.inputSkeletonState.query;currentInput.placeholder=window.inputSkeletonState.placeholder;currentInput.focus();currentInput.setSelectionRange(window.inputSkeletonState.selectionStart,window.inputSkeletonState.selectionEnd,window.inputSkeletonState.selectionDirection);setExpandedStyles()}}else{resetInputSkeleton()}var queryValue=window.sessionStorage.getItem("atlassian.search-dialog-query");if(window.sessionStorage.getItem("atlassian.search-dialog-sticky")==="true"&&currentInput&&!!queryValue){currentInput.value=queryValue}var mediaQuery=window.matchMedia("(max-width: 1130px)");function handleSmallScreen(){if(window["inputSkeletonState"]){if(window.inputSkeletonState.isFocused){topContainer===null||topContainer===void 0?void 0:topContainer.setAttribute("style","position: absolute;right: 0px;z-index: 300;");formContainer===null||formContainer===void 0?void 0:formContainer.setAttribute("style","position: fixed;z-index: 300;left: calc((100% - 780px) / 2);");container===null||container===void 0?void 0:container.setAttribute("style","position: relative;max-width: 100%;width: 780px;")}}}(_a=mediaQuery===null||mediaQuery===void 0?void 0:mediaQuery.addEventListener)===null||_a===void 0?void 0:_a.call(mediaQuery,"change",function(){return handleSmallScreen()});function changeHandler(e){var input=e.target;if(window.inputSkeletonState){window.inputSkeletonState.query=input===null||input===void 0?void 0:input.value;if(window.sessionStorage.getItem("atlassian.search-dialog-sticky")==="true"){window.sessionStorage.setItem("atlassian.search-dialog-query",input.value)}window.inputSkeletonState.selectionStart=currentInput.selectionStart||0;window.inputSkeletonState.selectionEnd=currentInput.selectionEnd||0;window.inputSkeletonState.selectionDirection=currentInput.selectionDirection||"none"}}function focusHandler(e){if(window.inputSkeletonState){window.inputSkeletonState.isFocused=true;window.inputSkeletonState.placeholder=currentInput.placeholder}setExpandedStyles()}function blurClickHandler(e){if(currentInput&&e.target===currentInput&&window.inputSkeletonState){window.inputSkeletonState.selectionStart=currentInput.selectionStart||0;window.inputSkeletonState.selectionEnd=currentInput.selectionEnd||0;window.inputSkeletonState.selectionDirection=currentInput.selectionDirection||"none";if(!(topContainer===null||topContainer===void 0?void 0:topContainer.hasAttribute("style"))){window.inputSkeletonState.isFocused=true;setExpandedStyles()}}if(currentInput&&e.target!==currentInput){resetInputSkeleton();var sessionQuery=window.sessionStorage.getItem("atlassian.search-dialog-query");if(window.sessionStorage.getItem("atlassian.search-dialog-sticky")==="true"&&!!sessionQuery){currentInput.value=sessionQuery}else{currentInput.value=""}topContainer===null||topContainer===void 0?void 0:topContainer.removeAttribute("style");container===null||container===void 0?void 0:container.removeAttribute("style");iconWrapper===null||iconWrapper===void 0?void 0:iconWrapper.removeAttribute("style");currentInput.removeAttribute("style");formContainer===null||formContainer===void 0?void 0:formContainer.removeAttribute("style")}}function addListener(target,event,handler){var _a;target.addEventListener(event,handler);(_a=window===null||window===void 0?void 0:window.inputSkeletonState)===null||_a===void 0?void 0:_a.listeners.push([target,event,handler])}addListener(currentInput,"input",changeHandler);addListener(currentInput,"select",changeHandler);addListener(currentInput,"keydown",changeHandler);addListener(currentInput,"focus",focusHandler);addListener(document,"click",blurClickHandler)})(document,window);'},145348:(e,t,n)=>{"use strict";n.d(t,{VV:()=>h,tF:()=>m,f6:()=>i.f6});var i=n(805097),r=n(953307),a=n(122551),o=n(36142),s=n(792911),l=n(981786),d=n(719772),c=n(476849),u=n(58158);const p=e=>{const t=(0,i.Fg)(),{forwardRef:n,features:p}=e,{enabled:h,advancedSearchUrl:_,placeholder:E,customScriptDataAttributes:m}=(null==p?void 0:p.interactiveSkeleton)||{};return h||(0,c.p8)()?a.createElement(u.z,{advancedSearchUrl:_,placeholder:E,customScriptDataAttributes:m,theme:t}):a.createElement(s.h,null,a.createElement(o.Wf,(0,r.Z)({},t,{isExpanded:!1}),a.createElement(o.nr,{isExpanded:!1},a.createElement(d.h,{tooltip:null,icon:a.createElement(l.W,{theme:t,isExpanded:!1,size:"medium"})})),a.createElement(o.IS,(0,r.Z)({},t,{isExpanded:!1}),a.createElement(l.W,{theme:t,isExpanded:!1})),a.createElement(o.Qt,(0,r.Z)({"data-test-id":"search-dialog-search-skeleton",isExpanded:!1,placeholder:E,ref:n||void 0,disabled:!0,value:"",maxLength:500,onChange:()=>{}},t))))},h=a.forwardRef(((e,t)=>a.createElement(p,(0,r.Z)({},e,{forwardRef:t}))));var _=n(446791),E=n(151066);const m=({placeholder:e,stickySearchEnabled:t,onEnter:n})=>{const i=(0,a.useRef)(!1);i.current||(window.inputSkeletonState||(0,c.MB)(),i.current=!0);const r=(0,a.useRef)(null),[o,l]=(0,a.useState)((0,c.p8)()),[d,u]=(0,a.useState)((()=>{const e=(0,E.YX)(E.Tj);return t&&e?e:(0,c.F7)()}));(0,a.useLayoutEffect)((()=>{(0,c.sN)();const e=(0,c.p8)(),{selectionStart:t,selectionEnd:n,selectionDirection:i}=(0,c.Fm)();var a,o;e&&(null==r||null===(a=r.current)||void 0===a||a.focus(),null==r||null===(o=r.current)||void 0===o||o.setSelectionRange(t,n,i))}),[]);const p=()=>{l(!1),(0,c.nY)(!1),t||(u(""),(0,c.XX)(""),(0,c.rR)(0,0,"none"))};return(0,a.useEffect)((()=>{let e=null;return r.current&&(e=r.current),()=>{e&&((0,c.XX)(e.value),(0,c.nY)(document.activeElement===e),(0,c.rR)(e.selectionStart||0,e.selectionEnd||0,e.selectionDirection||"none"))}}),[]),a.createElement(s.D,{isExpanded:o,onFocus:()=>{var e;l(!0),(0,c.nY)(!0),null==r||null===(e=r.current)||void 0===e||e.focus()},onBlur:p,onKeyDown:e=>{var t;"Escape"===e.key&&(null==r||null===(t=r.current)||void 0===t||t.blur(),p())}},a.createElement(_.Z,{"data-test-id":"search-dialog-input-skeleton-interactive",isExpanded:o,placeholder:e,onInput:e=>{var n,i,a;u(e),(0,c.XX)(e),(0,c.rR)((null==r||null===(n=r.current)||void 0===n?void 0:n.selectionStart)||0,(null==r||null===(i=r.current)||void 0===i?void 0:i.selectionEnd)||0,(null==r||null===(a=r.current)||void 0===a?void 0:a.selectionDirection)||"none"),t&&(0,E.nz)(E.Tj,e)},onSelect:()=>{var e,t,n;(0,c.rR)((null==r||null===(e=r.current)||void 0===e?void 0:e.selectionStart)||0,(null==r||null===(t=r.current)||void 0===t?void 0:t.selectionEnd)||0,(null==r||null===(n=r.current)||void 0===n?void 0:n.selectionDirection)||"none")},onEnter:n,value:d,ref:r}))}},483953:(e,t,n)=>{"use strict";n.d(t,{W5:()=>l,eC:()=>d,t$:()=>c,fi:()=>u,aZ:()=>p,Es:()=>h,JC:()=>_,L$:()=>E,T8:()=>m,fr:()=>f,qV:()=>v,mU:()=>S});var i=n(321534),r=n(676424),a=n(131436);const o=(0,r.ww)(),s=(e=1)=>({px:e*o+"px",unitless:e*o,multiple:t=>s(t*e),half:()=>s(.5*e),twice:()=>s(2*e)}),l={searchDialog:r.ug.dialog()},d=s(1),c="56px",u="200px",p="780px",h=780,_="1130px",E=d.multiple(4),m=`var(--ds-text, ${a.xA})`,f=`var(--ds-text-subtlest, ${a.iw})`,v=`var(--ds-background-neutral-subtle-hovered, ${a.IR})`,S=(a.Wn,i.iv`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
`)},805097:(e,t,n)=>{"use strict";n.d(t,{f6:()=>d,Fg:()=>c});var i=n(122551),r=n(416446),a=n.n(r),o=n(131436);const s={default:{default:{backgroundColor:`var(--ds-background-input, ${o.N0})`,color:`var(--ds-text-subtlest, ${o.iw})`,borderColor:`var(--ds-border-input, ${o.YS})`,iconColor:`var(--ds-icon-subtle, ${o.mg})`},focus:{borderColor:`var(--ds-border-focused, ${o.vP})`,backgroundColor:`var(--ds-background-input-pressed, ${o.N0})`},hover:{backgroundColor:"var(--ds-background-input-hovered, rgba(222, 235, 255, 0.9))"}}},l=(0,i.createContext)(s.default),d=({value:e,partialSearchCSS:t,children:n})=>{const r=(o=t||e)?a()({},s.default,o):s.default;var o;return i.createElement(l.Provider,{value:r},n)},c=()=>(0,i.useContext)(l)},558116:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});const i=()=>"undefined"!=typeof window},776831:(e,t,n)=>{"use strict";n.d(t,{ur:()=>a,oY:()=>o,o5:()=>s,US:()=>l,sG:()=>d});var i=n(412449),r=n(350635);const a=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},o=e=>{var t,n;!globalThis.__UFO_GLOBAL_EVENT_STREAM__||null!==(t=globalThis.__UFO_GLOBAL_EVENT_STREAM__)&&void 0!==t&&t.__buffer_only__?(null!==(n=globalThis.__UFO_GLOBAL_EVENT_STREAM__)&&void 0!==n&&n.__buffer_only__&&globalThis.__UFO_GLOBAL_EVENT_STREAM__.getStream().forEach(e.push.bind(e)),globalThis.__UFO_GLOBAL_EVENT_STREAM__=e):(0,i.hl)("Global Event Stream already initialised. Ignoring new event stream setup")},s=(e,t)=>({type:r.pp.SUBSCRIBE,payload:{experienceId:e,callback:t}}),l=(e,t)=>({type:r.pp.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}),d=e=>({type:r.pp.EXPERIENCE_PAYLOAD,payload:e})},412449:(e,t,n)=>{"use strict";n.d(t,{b6:()=>a,Hw:()=>o,hl:()=>s});var i=n(29298);class r{constructor(){(0,i.Z)(this,"enabled",!1)}log(...e){this.enabled&&console.log(r.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(r.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}}(0,i.Z)(r,"UFOprefix","[ufo🛸]");const a=new r,o=(...e)=>{a.log(...e)},s=(...e)=>{a.warn(...e)}},451203:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var i=n(29298),r=n(558116);const a=new class{constructor(){(0,i.Z)(this,"started",!1),(0,i.Z)(this,"observers",[]),(0,i.Z)(this,"broadcast",(()=>{this.observers.forEach((e=>e())),this.observers=[]}))}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),(0,r.d)()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}}},412920:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});const i={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},485255:(e,t,n)=>{"use strict";let i,r;n.d(t,{Z:()=>i,R:()=>r}),function(e){e.Load="load",e.Experience="experience",e.Operation="operation"}(i||(i={})),function(e){e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom"}(r||(r={}))},486392:(e,t,n)=>{"use strict";n.d(t,{Q:()=>m});var i=n(991332),r=n(29298),a=n(781095);var o=n(558116),s=n(776831),l=n(412449),d=n(451203),c=n(350635);var u=n(412920);const p={[u.h.NOT_STARTED.id]:[u.h.STARTED.id],[u.h.STARTED.id]:[u.h.IN_PROGRESS.id,u.h.BLOCKED.id,u.h.SUCCEEDED.id,u.h.SUCCEEDED_WAITING_FOR_DEPS.id,u.h.FAILED.id,u.h.ABORTED.id],[u.h.IN_PROGRESS.id]:[u.h.BLOCKED.id,u.h.SUCCEEDED.id,u.h.SUCCEEDED_WAITING_FOR_DEPS.id,u.h.FAILED.id,u.h.ABORTED.id],[u.h.BLOCKED.id]:[u.h.RECOVERED.id,u.h.ABORTED.id],[u.h.RECOVERED.id]:[u.h.STARTED.id,u.h.SUCCEEDED.id,u.h.SUCCEEDED_WAITING_FOR_DEPS.id,u.h.FAILED.id,u.h.ABORTED.id],[u.h.SUCCEEDED.id]:[u.h.STARTED.id],[u.h.SUCCEEDED_WAITING_FOR_DEPS.id]:[u.h.SUCCEEDED.id,u.h.FAILED.id,u.h.ABORTED.id],[u.h.FAILED.id]:[u.h.STARTED.id],[u.h.ABORTED.id]:[u.h.STARTED.id]};var h=n(485255);const _=()=>(0,o.d)()&&window.document&&"visible"!==window.document.visibilityState?c.Qx.HIDDEN:c.Qx.VISIBLE,E=e=>void 0!==e?~~e:~~performance.now();class m extends class{constructor(e,t,n=null){(0,r.Z)(this,"state",u.h.NOT_STARTED),(0,r.Z)(this,"instanceId",null),(0,r.Z)(this,"parent",null),(0,r.Z)(this,"category",null),(0,r.Z)(this,"metadata",{}),(0,r.Z)(this,"onDoneCallbacks",[]),(0,r.Z)(this,"childExperiences",[]),(0,r.Z)(this,"explicitTimings",{}),(0,r.Z)(this,"isSSROutputAsFMP",!1),(0,r.Z)(this,"uuid",null),(0,r.Z)(this,"_until",null),(0,r.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,r.Z)(this,"performanceConfig",{}),(0,r.Z)(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=c.Qx.MIXED,d.m.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=e,this.category=(null==t?void 0:t.category)||null,this.until=(null==t?void 0:t.until)||null,this.instanceId=n,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=t.type,this.performanceType=t.performanceType,this.performanceConfig=t.performanceConfig||{},this.config=t,this.pageVisibleState=_(),this.featureFlags=t.featureFlags||[],this.timings=t.timings||[],t.performanceType!==h.R.PageLoad&&t.performanceType!==h.R.PageSegmentLoad||(this.isSSROutputAsFMP=t.isSSROutputAsFMP||!1)}async transition(e,t){if((0,l.Hw)("async transition",this.id,this.state.id,e.id),n=this.state,i=e,p[n.id]&&p[n.id].includes(i.id)){if((0,l.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} successful`,this.state.final,!e.final),e===u.h.STARTED&&this._reset(),this.state.final&&!e.final&&(this.metrics.startTime=E(t),this.uuid=(0,a.v4)()),this.state=e,e.final){this.metrics.endTime=E(t),this._isManualStateEnabled()||(0,s.ur)().push((0,s.US)(c.lS,this.handleDoneBind));const e=await this.exportData();(0,l.Hw)("this.parent",this.parent),(0,s.ur)().push((0,s.sG)(e))}return!0}var n,i;return(0,l.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} unsuccessful`),(0,l.hl)(`transition of ${this.id} from ${this.state} to ${e} is not possible`),!1}async start(e){await this.transition(u.h.STARTED,e)&&(this.pageVisibleState=_(),d.m.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||((0,l.Hw)("subscribed",this.id),(0,s.ur)().push((0,s.o5)(c.lS,this.handleDoneBind))))}mark(e,t){e!==c.WR&&e!==c.j3?this._mark(e,t):(0,l.hl)("please use markFMP or markInlineResponse for specialised marks")}_mark(e,t){this.metrics.marks.push({name:e,time:E(t)}),this.transition(u.h.IN_PROGRESS)}markFMP(e){this._mark(c.WR,e)}markInlineResponse(e){this._mark(c.j3,e)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||((0,l.hl)('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),d.m.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}async success(e){return this.switchToEndState(u.h.SUCCEEDED,e)}async failure(e){return this.switchToEndState(u.h.FAILED,e)}async abort(e){return this.switchToEndState(u.h.ABORTED,e)}addMetadata(e){Object.assign(this.metadata,e)}_handleDoneExperience(e){if((0,l.Hw)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){const{done:t,state:n}=this._until(e);t&&!this.state.final&&this.transition(n)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:"0.1.5",performanceType:this.performanceType,category:this.category,state:this.state,metadata:(0,i.Z)({},this.metadata),metrics:(0,i.Z)({},this.metrics),children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}{}},350635:(e,t,n)=>{"use strict";let i,r,a,o,s,l;n.d(t,{pp:()=>i,Qx:()=>r,lS:()=>d,WR:()=>c,j3:()=>u}),function(e){e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE"}(i||(i={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed"}(r||(r={})),function(e){e.fmp="fmp",e.tti="tti"}(a||(a={})),function(e){e.fmp="fmp",e.tti="tti"}(o||(o={})),function(e){e.response="response",e.result="result"}(s||(s={})),function(e){e.duration="duration"}(l||(l={}));const d="__SUBSCRIBE_ALL__",c="fmp",u="inline-response"}}]);
//# sourceMappingURL=49005.EpXjgrBDEc.js.map