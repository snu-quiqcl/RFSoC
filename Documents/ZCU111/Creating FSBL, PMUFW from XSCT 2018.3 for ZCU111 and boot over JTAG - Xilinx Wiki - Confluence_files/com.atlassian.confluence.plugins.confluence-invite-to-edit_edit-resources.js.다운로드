WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-invite-to-edit:edit-resources', location = 'js/edit-init.js' */
require(["jquery","ajs","skate","confluence/meta","confluence/invite-to-edit/service/share-page","confluence/dark-features"],function(f,i,g,d,b,j){var h=j.isEnabled("editor.spa.uxenhancements")?"adg3InviteToEdit":"rte-toolbar-container";var e="#inviteToEditLink";function a(){if(!d.get("atlassian-account-id")){return}if(d.get("content-type")!=="page"&&d.get("content-type")!=="blogpost"){return}var k=f(document.createElement("div")).prop("id",e.replace("#","")).addClass("aui-button").addClass("invite-to-edit-button").html('<span class="invite-plus-icon"></span>').tooltip({title:function(){return "Invite people to edit with you"},gravity:"ne"});f("."+h).prepend(k);var l="Include an optional message";b.initDialog(e,"inviteToEditPopup",{},{heading:"Invite people to edit",notePlaceholder:l,link:function(){return require("confluence/invite-to-edit/fetch/content-info")(d.get("content-id"),"draft").pipe(function(m){return d.get("base-url")+m._links.editui})},entityId:function(){return d.get("draft-id")},restriction:function(){return require("confluence/invite-to-edit/fetch/content-restrictions")(d.get("content-id")).pipe(function(m){var o=m.read.restrictions.user.size||m.read.restrictions.group.size||m.update.restrictions.user.size||m.update.restrictions.group.size;var n={};if(o){n.type="restrict";n.message="Restrictions on this page may prevent people viewing or editing."}return n})},permission:function(){return require("confluence/invite-to-edit/fetch/space-permissions")(d.get("space-key"))},inheritedPageRestrictions:function(){return require("confluence/invite-to-edit/fetch/full-page-restrictions")(d.get("content-id"))},copyOption:"invite",shareType:"edit",contentType:d.get("content-type"),errorText:"share.dialog.error",beforeLoad:function(){k.find(".invite-plus-icon").css("visibility","hidden");k.spin()},afterLoad:function(){k.find(".invite-plus-icon").css("visibility","visible");k.spinStop()}})}function c(){f(e).remove()}g(h,{type:g.types.CLASS,events:{},attached:a,detached:c})});
}catch(e){WRMCB(e)};