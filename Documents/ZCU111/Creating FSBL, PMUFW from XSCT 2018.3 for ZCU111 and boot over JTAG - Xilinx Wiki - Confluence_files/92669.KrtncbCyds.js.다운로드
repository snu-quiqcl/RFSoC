"use strict";(self._cf=self._cf||[]).push([[92669],{177690:(e,t,r)=>{r.d(t,{Z:()=>u});var a=r(29298),n=r(122551),i=r(64172),s=r.n(i),o=r(782380);const c={getAtlaskitAnalyticsContext:s().func,getAtlaskitAnalyticsEventHandlers:s().func},d=()=>[];class l extends n.Component{constructor(e){super(e),(0,a.Z)(this,"getChildContext",(()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext}))),(0,a.Z)(this,"getAnalyticsContext",(()=>{const{data:e}=this.props,{getAtlaskitAnalyticsContext:t=d}=this.context;return[...t(),e]})),(0,a.Z)(this,"getAnalyticsEventHandlers",(()=>{const{getAtlaskitAnalyticsEventHandlers:e=d}=this.context;return e()})),this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:e}=this.props;return n.createElement(o.Z.Provider,{value:this.contextValue},e)}}l.displayName="AnalyticsContext",(0,a.Z)(l,"contextTypes",c),(0,a.Z)(l,"childContextTypes",c);const u=l},652459:(e,t,r)=>{r.d(t,{Z:()=>u});var a=r(177690),n=r(122551),i=r(782380),s=r(300805),o=r(274317);const c=({data:e,children:t})=>{const r=(0,o.V)(e),a=(0,s.O)(),c=(0,n.useCallback)((()=>[...a.getAtlaskitAnalyticsContext(),r.current]),[a,r]),d=(0,n.useMemo)((()=>({getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers})),[a,c]);return n.createElement(i.Z.Provider,{value:d},t)};var d;let l;l="undefined"!=typeof process&&null!==process&&null!==(d=process.env)&&void 0!==d&&d.ANALYTICS_NEXT_MODERN_CONTEXT?c:a.Z;const u=l},78651:(e,t,r)=>{r.d(t,{Z:()=>a});const a=e=>t=>r=>{const a=r(t),n=a.clone();return n&&n.fire(e),a}},165860:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var a=r(991332),n=r(29298),i=r(122551),s=r(299774),o=r(321534),c=r(144024),d=r(131436),l=r(676424),u=r(866738),p=r(893865);const h=e=>/^\d+(\.\d+)?%$/.test(e),y=(e,t)=>{const r=e.toString();return h(r)?r:isNaN(parseInt(r,10))?t+"px":parseInt(r,10)+"px"},m=e=>{const{width:t=p.tN.width,height:r=p.tN.height}=e;return{width:y(t,p.tN.width),height:y(r,p.tN.height)}},f=(e=p.tN)=>{try{return o.iv`
      ${u.be};
      ${u.E0};
      background: ${`var(--ds-background-neutral, ${d.IR})`};
      color: ${`var(--ds-text-subtle, ${d.q2})`};
      max-height: 100%;
      max-width: 100%;
      ${m(e)};
      display: flex;
      flex-direction: column;

      p {
        font-size: ${(0,l.JB)()}px;
        text-align: center;
        display: ${(({width:e,height:t})=>!h(e)&&!h(t)&&parseInt(e,10)>=240&&parseInt(t,10)>=90)(m(e))?"block":"none"};
      }
    `}catch(t){return null}};class C extends i.Component{render(){const{dimensions:e,onClick:t}=this.props;return(0,o.tZ)("div",{css:f(e),onClick:t},(0,o.tZ)(c.default,{label:"Error",primaryColor:`var(--ds-icon-warning, ${d.zx})`,size:"medium"}),(0,o.tZ)("p",null,"We couldn't load this content"))}}C.displayName="UnhandledErrorCard";var v=r(644960),b=r(411299);class g extends i.Component{constructor(e){super(e),(0,n.Z)(this,"fireOperationalEvent",((e,t)=>{var r,n;const{data:i={},createAnalyticsEvent:s}=this.props,o={eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:(0,a.Z)({browserInfo:null!==(r=window)&&void 0!==r&&null!==(n=r.navigator)&&void 0!==n&&n.userAgent?window.navigator.userAgent:"unknown",error:e,info:t,failReason:"unexpected-error"},i)};(0,b.LO)(o,s)})),(0,n.Z)(this,"handleOnClick",(e=>{try{var t,r;null===(t=(r=this.props).onClick)||void 0===t||t.call(r,{event:e})}catch(a){}})),this.state={hasError:!1}}componentDidCatch(e,t){try{this.fireOperationalEvent(e,t)}catch(r){}this.setState({hasError:!0})}render(){const{hasError:e}=this.state,{dimensions:t,children:r}=this.props;return e?i.createElement(C,{dimensions:t,onClick:this.handleOnClick}):r}}g.displayName="WrappedMediaCardAnalyticsErrorBoundary",(0,n.Z)(g,"displayName","MediaCardAnalyticsErrorBoundary");const A=(0,s.z)({packageVersion:"74.6.1",packageName:"@atlaskit/media-card",componentName:"mediaCard",component:"mediaCard"})((0,v.Z)()(g))},373839:(e,t,r)=>{r.d(t,{Rq:()=>a,go:()=>n,Jj:()=>i,LD:()=>s,gK:()=>o,eN:()=>c,oH:()=>d,G4:()=>l,CV:()=>u,dG:()=>p});class a extends Error{constructor(e,t){super(e),this.primaryReason=e,this.secondaryError=t,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}class n extends a{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class i extends a{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class s extends a{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class o extends a{constructor(e){super((e=>{switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";default:return"unknown-uri"}})(e))}}function c(e){return e instanceof a}const d=e=>e instanceof n,l=e=>c(e)&&"local-preview-unsupported"===e.primaryReason;const u=(e,t,r)=>c(t)?r&&t.primaryReason!==e?new a(e,t.secondaryError):t:new a(e,t),p=e=>e&&"upload"===e.primaryReason},411299:(e,t,r)=>{r.d(t,{tH:()=>u,s:()=>p,A7:()=>h,De:()=>y,DU:()=>m,dl:()=>f,np:()=>C,C2:()=>v,dO:()=>E,dg:()=>w,rw:()=>Z,Ln:()=>k,Iw:()=>R,Jn:()=>N,LO:()=>T,Jo:()=>S});var a=r(991332),n=r(612972),i=r(388484),s=r(316864),o=r(632490),c=r(78651),d=r(373839);const l={newCardExperience:!0,captions:!0,timestampOnVideo:!0,observedWidth:!0,mediaInline:!1,folderUploads:!1,memoryCacheLogging:!0,fetchFileStateAfterUpload:!0},u=(0,s.q8)(l),p=(0,s.WH)(l),h=(e,t)=>({fileMediatype:e.mediaType,fileMimetype:e.mimeType,fileId:e.id,fileSize:e.size,fileStatus:t}),y=e=>({eventType:"screen",action:"viewed",actionSubject:"mediaCardRenderScreen",name:"mediaCardRenderScreen",attributes:{type:e.fileMediatype,fileAttributes:e}}),m=(e,t,r)=>({eventType:"operational",action:"commenced",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,traceContext:{traceId:r.traceId}}}),f=(e,t,r,a,n)=>({eventType:"operational",action:"succeeded",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"success",ssrReliability:r,traceContext:a,metadataTraceContext:n}}),C=e=>({eventType:"operational",action:"cache-hit",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}),v=e=>({eventType:"operational",action:"Remote-success",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}),b=e=>(0,d.eN)(e)?e.primaryReason:"nativeError",g=e=>{if((0,d.eN)(e)&&e.secondaryError){const t=(0,n.r)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"},A=e=>(0,d.eN)(e)&&e.secondaryError?e.secondaryError.message:e.message,x=e=>{var t;if((0,d.eN)(e)&&e.secondaryError&&(0,i.N)(e.secondaryError))return null===(t=e.secondaryError.metadata)||void 0===t?void 0:t.traceContext},E=e=>{if((0,d.eN)(e)&&e.secondaryError&&(0,i.N)(e.secondaryError))return e.secondaryError.metadata},w=(e,t)=>({failReason:b(e),error:g(e),errorDetail:A(e),metadataTraceContext:null!=t?t:x(e)}),Z=(e,t,r,n,i,s)=>({eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:(0,a.Z)((0,a.Z)({fileAttributes:e,performanceAttributes:t,status:"fail"},w(r,s)),{},{request:E(r),ssrReliability:n,traceContext:i})}),k=(e,t,r,n,i,s)=>({eventType:"operational",action:"nonCriticalFail",actionSubject:"mediaCardRender",attributes:(0,a.Z)((0,a.Z)({fileAttributes:t,status:"fail"},w(r,s)),{},{request:E(r),ssrReliability:n,traceContext:i,cardStatus:e})}),R=(e,t,r,a,n)=>({eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"fail",failReason:"failed-processing",ssrReliability:r,traceContext:a,metadataTraceContext:n}}),N=e=>({eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}});function T(e,t){if(t){t(e).fire(o.Q)}}const S=e=>(0,c.Z)(o.Q)(e)},893865:(e,t,r)=>{r.d(t,{tN:()=>a,$0:()=>s});const a={width:156,height:125},n={width:435,height:125},i={width:300,height:300},s=e=>"image"===e?a:"square"===e?i:"horizontal"===e?n:a},612972:(e,t,r)=>{function a(e){return e instanceof Object&&"attributes"in e&&e.attributes instanceof Object&&"reason"in e.attributes&&e instanceof Error}function n(e){return a(e)?e.attributes.reason:"unknown"}r.d(t,{a:()=>a,r:()=>n})},632490:(e,t,r)=>{r.d(t,{Q:()=>a});const a="media"},299774:(e,t,r)=>{r.d(t,{z:()=>d});var a=r(991332),n=r(953307),i=r(122551),s=r(652459),o=r(533988),c=r(316864);const d=(e,t={})=>r=>{const d=(0,i.forwardRef)(((d,l)=>{const{featureFlags:u}=d,{filterFeatureFlags:p}=t,h=(0,i.useMemo)((()=>{const t={featureFlags:p&&u?((e,t)=>e.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r]:(0,c.OC)(r,t)})),{}))(p,u):u};return(0,a.Z)((0,a.Z)({},e),{},{[o.R]:(0,a.Z)({},t)})}),[p,u]);return i.createElement(s.Z,{data:h},i.createElement(r,(0,n.Z)({},d,{ref:l})))}));return d.displayName=`WithMediaAnalyticsContext(${r.displayName||r.name})`,d}}}]);
//# sourceMappingURL=92669.KrtncbCyds.js.map