(self._cf=self._cf||[]).push([[95563],{170250:(e,t,a)=>{var i=a(725719);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},904408:e=>{e.exports=function(e,t,a){for(var i=-1,n=null==e?0:e.length;++i<n;)if(a(t,e[i]))return!0;return!1}},841866:(e,t,a)=>{var i=a(630652),n=a(170250),s=a(904408),r=a(177968),o=a(458352),d=a(788370);e.exports=function(e,t,a,l){var c=-1,g=n,p=!0,u=e.length,h=[],m=t.length;if(!u)return h;a&&(t=r(t,o(a))),l?(g=s,p=!1):t.length>=200&&(g=d,p=!1,t=new i(t));e:for(;++c<u;){var v=e[c],f=null==a?v:a(v);if(v=l||0!==v?v:0,p&&f==f){for(var I=m;I--;)if(t[I]===f)continue e;h.push(v)}else g(t,f,l)||h.push(v)}return h}},697729:e=>{e.exports=function(e,t,a,i){for(var n=e.length,s=a+(i?1:-1);i?s--:++s<n;)if(t(e[s],s,e))return s;return-1}},725719:(e,t,a)=>{var i=a(697729),n=a(999079),s=a(545324);e.exports=function(e,t,a){return t==t?s(e,t,a):i(e,n,a)}},999079:e=>{e.exports=function(e){return e!=e}},935813:(e,t,a)=>{var i=a(630652),n=a(170250),s=a(904408),r=a(788370),o=a(939752),d=a(439363);e.exports=function(e,t,a){var l=-1,c=n,g=e.length,p=!0,u=[],h=u;if(a)p=!1,c=s;else if(g>=200){var m=t?null:o(e);if(m)return d(m);p=!1,c=r,h=new i}else h=t?[]:u;e:for(;++l<g;){var v=e[l],f=t?t(v):v;if(v=a||0!==v?v:0,p&&f==f){for(var I=h.length;I--;)if(h[I]===f)continue e;t&&h.push(f),u.push(v)}else c(h,f,a)||(h!==u&&h.push(f),u.push(v))}return u}},939752:(e,t,a)=>{var i=a(215867),n=a(231307),s=a(439363),r=i&&1/s(new i([,-0]))[1]==1/0?function(e){return new i(e)}:n;e.exports=r},545324:e=>{e.exports=function(e,t,a){for(var i=a-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}},724260:(e,t,a)=>{var i=a(818114),n=a(420879),s=a(957857),r=a(935813),o=a(830104),d=a(659945),l=s((function(e){var t=d(e);return o(t)&&(t=void 0),r(i(e,1,o,!0),n(t,2))}));e.exports=l},490398:(e,t,a)=>{var i=a(841866),n=a(957857),s=a(830104),r=n((function(e,t){return s(e)?i(e,t):[]}));e.exports=r},940362:(e,t,a)=>{"use strict";a.d(t,{ck:()=>i,o2:()=>n,cu:()=>s,yG:()=>r,xl:()=>o,fZ:()=>d,Ex:()=>l,hM:()=>c,cT:()=>g,Ck:()=>p,Ho:()=>u,GR:()=>h,$u:()=>m,Up:()=>v,lr:()=>f,gX:()=>I,EE:()=>P,p$:()=>b,Ku:()=>S,Qf:()=>y,qi:()=>E,iC:()=>x});const i="SSR_COMMENT_BUTTON",n="SSR_SHARE_BUTTON",s="SSR_REACTIONS_BUTTON",r="SSR_WATCH_BUTTON",o="SSR_FAVORITE_BUTTON",d="SSR_EDIT_BUTTON",l="SSR_RESTRICTIONS_BUTTON",c="SSR_NAV_APP_SWITCHER",g="SSR_NAV_APPS_BUTTON",p="SSR_NAV_CREATE",u="SSR_NAV_CUSTOM_HOMEPAGE_BUTTON",h="SSR_NAV_HELP",m="SSR_NAV_HOME_BUTTON",v="SSR_NAV_NOTIFICATIONS",f="SSR_NAV_PAGES_BUTTON",I="SSR_NAV_PEOPLE_BUTTON",P="SSR_NAV_PROFILE",b="SSR_NAV_SETTINGS",S="SSR_NAV_SPACES_BUTTON",y="SSR_NAV_TEMPLATES_BUTTON",E="SSR_PAGE_TREE_NON_LINK",x="SSR_NAV_INVITE_BUTTON"},735499:(e,t,a)=>{"use strict";a.d(t,{Nd:()=>o,dx:()=>d});var i=a(29298);class n{constructor(e){(0,i.Z)(this,"_cache",void 0),this._cache=e||{}}get data(){return this._cache}get(e){return this._cache[e]}has(e){return this._cache.hasOwnProperty(e)}set(e,t){this._cache[e]=t}delete(e){delete this._cache[e]}get keys(){return Object.keys(this._cache)}get values(){return Object.values(this._cache)}clear(){this._cache={}}}class s{constructor(){(0,i.Z)(this,"incrementor",-1)}ID(){return(++this.incrementor).toString()}reset(){this.incrementor=-1}}class r extends Map{constructor(...e){super(...e),(0,i.Z)(this,"IDs",new s)}subscribe(e){const t=this.IDs.ID();return this.set(t,e),t}unsubscribe(e){this.delete(e)}async dispatch(e){for(const[t,a]of this)await Promise.resolve(a(...e))}}class o extends Map{constructor(e){super(),(0,i.Z)(this,"enableCache",!1),(0,i.Z)(this,"Cache",new n),e&&(this.enableCache=!0)}async stream(e){if(!e.length)return;const t={};for(const a of e)a.type in t?t[a.type].push(a):t[a.type]=[a],this.cache(a.type,a);await Promise.all(Object.keys(t).map((e=>this.dispatch(e,t[e]))))}on(e,t){const a=this.get(e)||new r,i=a.subscribe(t);return this.set(e,a),i}off(e,t){const a=this.get(e);a&&(a.unsubscribe(t),0===a.size&&this.delete(e))}async dispatch(e,...t){const a=this.get(e);a&&await a.dispatch(t)}cache(e,t){if(!this.enableCache)return;const a=this.Cache.get(e)||[];a.push(t),this.Cache.set(e,a)}}class d{constructor(e,t){(0,i.Z)(this,"type",void 0),(0,i.Z)(this,"Bus",void 0),(0,i.Z)(this,"listener",void 0),this.Bus=t,this.type=e}register(e){this.listener=this.Bus.on(this.type,e)}unregister(){this.listener&&this.Bus.off(this.type,this.listener)}}},259873:(e,t,a)=>{"use strict";a.d(t,{EventBus:()=>n.Nd,EventBusSubscriber:()=>n.dx});var i=a(579868);a.o(i,"EventBus")&&a.d(t,{EventBus:function(){return i.EventBus}}),a.o(i,"EventBusSubscriber")&&a.d(t,{EventBusSubscriber:function(){return i.EventBusSubscriber}});var n=a(735499)},579868:(e,t,a)=>{"use strict";var i=a(631748);a.o(i,"EventBus")&&a.d(t,{EventBus:function(){return i.EventBus}}),a.o(i,"EventBusSubscriber")&&a.d(t,{EventBusSubscriber:function(){return i.EventBusSubscriber}})},631748:()=>{},756850:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var i=a(122551);const n=(0,a(28201).ZR)({__loadable_id__:"ypXKg",name:"PageTreeTooltip",loader:async()=>(await a.e(98614).then(a.bind(a,562221))).PageTreeTooltip,loading:({children:e})=>i.createElement(i.Fragment,null,e)}),s=({isHoverPageCardOptedIn:e,children:t,title:a,isQuickActionsOpen:s})=>e?i.createElement(i.Fragment,null,t):i.createElement(n,{title:a,isQuickActionsOpen:s},t)},750288:(e,t,a)=>{"use strict";a.d(t,{v:()=>y});var i=a(991332),n=a(415911),s=a(122551),r=a(962285),o=a(358280),d=a(464984),l=a(524798),c=a(883383),g=a(288815),p=a(425431),u=a(694881),h=a(612642),m=a(199767);a(694970),a(525286),a(367793),a(156704),a(341645),a(49423),a(937604),a(492989),a(381966),a(842152),a(57090),a(319272),a(172113),a(805308),a(157476),a(279788),a(362604),a(654941),a(40592),a(234119),a(456928),a(354326),a(111821),a(197150),a(56804),a(185999),a(325481);const v=(0,d.defineMessages)({childrenCount:{id:"page-tree.children-count-plural",defaultMessage:"{count, plural, one {includes # child page } other {includes # child pages }}"},untitledDraftText:{id:"page-tree.move-dialog.untitled-draft",defaultMessage:"Untitled"}}),f=(0,s.forwardRef)(((e,t)=>{let{as:a="div",style:d}=e,l=(0,n.Z)(e,["as","style"]);return s.createElement(a,(0,i.Z)((0,i.Z)({},l),{},{style:(0,i.Z)((0,i.Z)({},d),{},{"--_13yvhxg":(0,r.Z)((0,h.Z)("color.background.neutral.hovered","rgb(235, 236, 240)"))}),ref:t,className:(0,o.Z)(["_1pxwftgi _ca0q1hea _u5f37xj1 _n3td1hea _19bv7xj1 _1e0c1txw _4cvr1h6o _2rko1l7b _vchhusvi _11q71rev _1bah1yb4",l.isMovePageDialog?"_1bsbkbql":"_1bsbdlvw",l.className])}))}));const I=(0,s.forwardRef)(((e,t)=>{let{as:a="span",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(a,(0,i.Z)((0,i.Z)({},d),{},{style:r,ref:t,className:(0,o.Z)(["_1e0c1txw _1bsb19bv _4t3i1tcg _1bah1h6o _4cvr1h6o _2hwx19bv",d.className])}))}));const P=(0,s.forwardRef)(((e,t)=>{let{as:a="div",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(a,(0,i.Z)((0,i.Z)({},d),{},{style:r,ref:t,className:(0,o.Z)(["_4t3i1l7b _vwz4idpf",d.className])}))}));const b=(0,s.forwardRef)(((e,t)=>{let{as:a="div",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(a,(0,i.Z)((0,i.Z)({},d),{},{style:r,ref:t,className:(0,o.Z)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1reo15vq _18m915vq",d.className])}))}));const S=(0,s.forwardRef)(((e,t)=>{let{as:a="span",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(a,(0,i.Z)((0,i.Z)({},d),{},{style:r,ref:t,className:(0,o.Z)(["_16jlidpf _1o9zidpf _i0dl1wug _18u019bv",d.className])}))}));const y=({item:e,type:t,childPagesCount:a})=>{var n,r,o;const d=(0,l.Z)().formatMessage(v.untitledDraftText),y="move-page-tree"===t;let E=s.createElement(P,null,"•");return y?E=s.createElement(p.default,{label:"",primaryColor:(0,h.Z)("color.icon","#42526E")}):e.hasChildren&&(E=s.createElement(g.default,{label:"",size:"medium"})),s.createElement(f,{isMovePageDialog:y},s.createElement(I,null,E),s.createElement(b,null,s.createElement(m.du,{id:null==e?void 0:e.id.toString(),displayHomePageIcon:!1,displayEmoji:null==e||null===(n=e.data)||void 0===n?void 0:n.emoji,displayTitle:(null==e||null===(r=e.data)||void 0===r?void 0:r.title)||d,isDraft:"DRAFT"===(null==e||null===(o=e.data)||void 0===o?void 0:o.status)})),!!a&&a>0&&s.createElement(S,null,s.createElement(u.default,{label:"",size:"small"})," ",s.createElement(c.Z,(0,i.Z)((0,i.Z)({},v.childrenCount),{},{values:{count:a}}))))};y.displayName="DragPreview"},803384:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});const i=(0,a(28201).ui)({__loadable_id__:"WGMMX",name:"PageTreeAfterIconLoader",loader:async()=>(await Promise.all([a.e(12705),a.e(61769),a.e(30951)]).then(a.bind(a,299155))).PageTreeAfterIcon})},99687:(e,t,a)=>{"use strict";a.d(t,{x:()=>x});var i=a(29298),n=a(790632),s=a(122551),r=a(883383),o=a(905657),d=a(460215),l=a(685753),c=a(28201);const g=(0,c.ZR)({__loadable_id__:"BTa2z",name:"TreeLoader",loader:async()=>(await Promise.all([a.e(12705),a.e(56438),a.e(53561)]).then(a.bind(a,257546))).Tree}),p=(0,c.ZR)({__loadable_id__:"hAWs4",name:"TreeMonitorLoader",loader:async()=>(await Promise.all([a.e(56438),a.e(40187)]).then(a.bind(a,108436))).TreeMonitor});var u=a(661315),h=a(940362);const m=(0,n.Z)("div",{target:"ebxerkm0"})({name:"1ly8aii",styles:"display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;align-items:flex-start;"});var v=a(44127);const f=(0,c.ZR)({__loadable_id__:"kMdoC",name:"AkTreeLoader",loader:async()=>await Promise.all([a.e(11216),a.e(11956),a.e(41342),a.e(3350)]).then(a.bind(a,195986))}),I=(0,n.Z)("div",{target:"e11xs6zb0"})({name:"ukqx1j",styles:"flex-grow:1;flex-shrink:0;width:100%;display:flex;flex-direction:column;> div{flex-grow:1;width:100%;}"}),P={[v.Xx]:"none",[v.Uc]:"0%",[v.rn]:"transparent"},b=(0,n.Z)(d.Z,{target:"e11xs6zb1"})({name:"1yucc92",styles:"overflow:hidden;min-width:0;width:calc(100% - 5px);&:before{height:0px;}display:flex;flex-grow:1;flex-direction:column;padding-left:5px;"}),S=(0,n.Z)("div",{target:"e11xs6zb2"})({name:"1uty0ys",styles:"margin:10px 0 10px 0;width:100%;"}),y=(0,n.Z)("div",{target:"e11xs6zb3"})({name:"1ik2tog",styles:"width:100%;min-height:200px;display:flex;justify-content:center;align-items:center;flex-grow:1;"}),E=(0,s.memo)((({loadMorePages:e})=>s.createElement(S,null,s.createElement(o.Z,{shouldFitContainer:!0,spacing:"compact",onClick:e},s.createElement(r.Z,{id:"page-tree.pages.show.all",defaultMessage:"Show all pages"})))));class x extends s.PureComponent{constructor(...e){super(...e),(0,i.Z)(this,"onInitialLoadCompleteSubmitted",!1),(0,i.Z)(this,"collapsePage",(e=>{const{tree:t,onCollapse:a}=this.props;a(t.items[e])})),(0,i.Z)(this,"expandPage",(e=>{const{tree:t,onExpand:a}=this.props;a(t.items[e])})),(0,i.Z)(this,"dragStart",(e=>{const{onDragStart:t}=this.props;t(e)})),(0,i.Z)(this,"dragEnd",(async(e,t)=>{const{onDragEnd:a}=this.props;a(e,t)}))}componentDidMount(){const{tree:e,refactor:t}=this.props;var a,i;t&&Object.keys(e.items).length&&(null===(a=(i=this.props).onInitialLoadComplete)||void 0===a||a.call(i,Object.keys(e.items).length),this.onInitialLoadCompleteSubmitted=!0)}componentDidUpdate(e){if(this.onInitialLoadCompleteSubmitted)return;const{tree:t}=this.props;var a,i;(e.loading&&!this.props.loading||window.__SSR_RENDERED__)&&(null===(a=(i=this.props).onInitialLoadComplete)||void 0===a||a.call(i,Object.keys(t.items).length),this.onInitialLoadCompleteSubmitted=!0)}render(){const{tree:e,loadMorePages:t,isTreeTruncated:a,isDraggable:i,dragPreview:n,treeWrapperComponent:r,loading:o,isPragmaticDnDEnabled:d,isDraggingItem:c}=this.props,v=a?s.createElement(E,{loadMorePages:t}):null,S=null!=r?r:s.Fragment,x=s.createElement(b,null,o?s.createElement(y,null,s.createElement(l.Z,{size:"medium",testId:"page-tree-loading"})):s.createElement(s.Fragment,null,v,s.createElement(S,null,s.createElement(I,{style:d&&c?P:void 0,"data-testid":"tree-container-flex"},d?s.createElement(s.Fragment,null,s.createElement(g,{tree:e,isDragEnabled:i,renderItem:this.props.renderItem,onExpand:this.expandPage,onCollapse:this.collapsePage,onDragStart:this.dragStart,onDragEnd:this.dragEnd,dragPreview:n,offsetPerLevel:24}),s.createElement(p,{setIsDraggingItem:this.props.setIsDraggingItem,setOpenQuickActionsId:this.props.setOpenQuickActionsId})):s.createElement(f,{tree:e,isDragEnabled:i,renderItem:this.props.renderItem,onExpand:this.expandPage,onCollapse:this.collapsePage,onDragStart:this.dragStart,onDragEnd:this.dragEnd,offsetPerLevel:24,isNestingEnabled:!0}))),v));return s.createElement(u.u,{metricName:h.qi},s.createElement(m,null,x))}}x.displayName="PageTreeComponent"},839323:(e,t,a)=>{"use strict";a.d(t,{L:()=>_});var i=a(991332),n=a(29298),s=a(122551),r=a(405124),o=a.n(r),d=a(69210),l=a(514645),c=a(378314),g=a(658350),p=a(961634),u=a(401487),h=a(13089),m=a(590726),v=a(90995),f=a(28201),I=a(745454),P=a(802059),b=a(960284),S=a(625764),y=a(99687),E=a(577864),x=a(612726),C=a(890441);const T=(0,f.ui)({__loadable_id__:"AVAta",name:"PageTreeErrorComponentLoader",loader:async()=>(await a.e(41536).then(a.bind(a,34738))).PageTreeErrorComponent});let Z={spaceKey:null,rootId:null,pages:{}};class _ extends s.PureComponent{constructor(...e){super(...e),(0,n.Z)(this,"state",{expandedPages:new Set,loadingPages:new Set,pages:{},space:null,spaceKey:null,rootId:null,initialLoading:!window.__SSR_RENDERED__,loadingMorePages:!1,isTreeTruncated:!1,initialCursors:null,initialPages:null,error:null,blogPeekRoot:void 0}),(0,n.Z)(this,"scrolledItemId",null),(0,n.Z)(this,"highlightedPages",[]),(0,n.Z)(this,"querySubscription",null),(0,n.Z)(this,"getFocusedPageId",(()=>this.state.blogPeekRoot||this.props.currentPageId||this.props.highlightPages[0])),(0,n.Z)(this,"queryChildren",((e,t,a={count:0,nodes:[]})=>this.props.apolloClient.query({query:S.i,fetchPolicy:"no-cache",variables:{contentId:e,statuses:this.props.statuses,first:C.P_,after:t,isSuperAdmin:this.props.isSuperAdmin||!1}}).then((t=>{const{children:i}=t.data.page,n=(0,P.XJ)(a,i);return i.pageInfo.hasNextPage?this.queryChildren(e,i.pageInfo.endCursor,n):n})))),(0,n.Z)(this,"reloadChildren",(async()=>{this.queryChildren(this.getFocusedPageId())})),(0,n.Z)(this,"getPageQueryObservable",((e,t,a=!1,n=!1)=>{const{detached:s,statuses:r}=this.props,o=e?E.w:x.c,d=e?{spaceKey:t,isSuperAdmin:n,statuses:r,ptStatuses:r,contentId:e}:{spaceKey:t,isSuperAdmin:n,statuses:r,emojiTitleEnabled:!0},l=(0,i.Z)({paginationLimit:C.Nx},d);return this.props.apolloClient.watchQuery({fetchPolicy:s?"no-cache":"cache-and-network",query:o,variables:!0!==a&&e?d:l})})),(0,n.Z)(this,"correctTreeFlattener",((e,t)=>e?(0,b.oH)(e,t):(0,b.G3)(t))),(0,n.Z)(this,"handleSyntheticItem",((e,t,a,n)=>{if(t=(0,i.Z)({},t),e&&e.id){var s;t[e.id]||t[a].children.some((t=>t===e.id))||(t[a]=(0,i.Z)((0,i.Z)({},t[a]),{},{children:[e.id,...t[a].children]}));const r=(null===(s=t[e.id])||void 0===s?void 0:s.data)||{};t[e.id]=(0,i.Z)((0,i.Z)({},e),{},{data:n?(0,i.Z)((0,i.Z)({},r),e.data):(0,i.Z)((0,i.Z)({},e.data),r)})}return t})),(0,n.Z)(this,"reloadForBlogPeekFN",((e,t)=>{var a;e&&"noHomepageFound"!==t&&(null===(a=this.querySubscription)||void 0===a||a.unsubscribe(),this.loadPages())})),(0,n.Z)(this,"conditionallyStartLoading",((e,t,a=!1)=>{(e&&!t&&!this.state.initialLoading&&Object.keys(Z.pages).length<=0||a)&&this.setState({initialLoading:!0})})),(0,n.Z)(this,"conditionallyEndLoading",((e,t)=>{e&&!t||this.setState({initialLoading:!1})})),(0,n.Z)(this,"loadPages",(async(e=!1,t=!1)=>{const{spaceKey:a,isPeekingFromBlogs:i,isSuperAdmin:n,expandSpaceHomepage:s,syntheticItem:r,detached:o,syntheticItemIsDraft:d}=this.props,l=this.getFocusedPageId(),c=i&&void 0===this.state.blogPeekRoot,g=this.getPageQueryObservable(l,a,e,n);this.querySubscription=g.subscribe({next:({data:e,loading:n})=>{if(this.conditionallyStartLoading(n,e,t||o),e&&Object.keys(e).length>0){var l;const{currentPage:t,rootLevelPages:n,space:o}=e,g=this.correctTreeFlattener(t,n),p=(0,P.EH)(t,{});let u=(0,P.Gv)(this.state.pages,g);const h=null==o||null===(l=o.homepage)||void 0===l?void 0:l.id,m=(0,P.nJ)(u,null==t?void 0:t.id,h),v=i?o.homepage&&o.homepage.id||"noHomepageFound":void 0;u=this.handleSyntheticItem(r,u,m,d),this.setState({expandedPages:this.determineInitiallyExpandedPages(g),rootId:m,pages:u,space:o,spaceKey:a,isTreeTruncated:(0,P.HM)(t),initialCursors:p,initialPages:t,blogPeekRoot:v}),this.reloadForBlogPeekFN(c,v),s&&h&&m!==h&&u[h]&&this.expandPage(u[h])}this.conditionallyEndLoading(n,e)},error:e=>this.handleLoadingError(e)})})),(0,n.Z)(this,"loadMorePages",(async()=>{const{spaceKey:e,onLoadMore:t,isSuperAdmin:a}=this.props,i=this.getFocusedPageId();this.setState({loadingMorePages:!0});const{initialCursors:n,initialPages:s}=this.state,{mergedPages:r,rootLevelPages:o}=await this.loadAllPages(i,e,a,n,s),d=(0,b.oH)(r,o);this.setState({spaceKey:e,pages:d,isTreeTruncated:!1,loadingMorePages:!1}),t&&t()})),(0,n.Z)(this,"loadAllPages",((e,t,a,n,s)=>{const{statuses:r}=this.props,o=(0,i.Z)({contentId:e,spaceKey:t,isSuperAdmin:a,statuses:r,ptStatuses:r},n);return this.props.apolloClient.query({query:E.w,variables:o}).then((i=>{const{data:r,error:o}=i;if(o)this.handleLoadingError(o);else if(r&&Object.keys(r).length>0){const{currentPage:i,rootLevelPages:o}=r,d=(0,P.y4)(i,s);if((0,P.HM)(i)){const s=(0,P.EH)(i,n);return this.loadAllPages(e,t,a,s,d)}return{mergedPages:d,rootLevelPages:o}}}))})),(0,n.Z)(this,"determineInitiallyExpandedPages",(e=>{const{expandedPages:t}=this.state;for(const a in e){const i=e[a];i.hasChildren&&(0,P.Ny)(i)&&t.add(i.id)}return t})),(0,n.Z)(this,"expandPage",(async e=>{const{pages:t,expandedPages:a,loadingPages:i,space:n}=this.state,s=t[e.id];if(a.has(e.id)||!s.hasChildren)return;const r=[e.id,...(0,P.pL)(e.id,t,a)];if(!(0,P.Ny)(s)){this.setState({loadingPages:i.add(s.id)});const e={},a=(0,P.UQ)(await this.queryChildren(s.id));a.forEach((t=>{e[t.id]=(0,b.sq)(t)}));let r=(0,P.Gv)(t,e);i.delete(s.id);const o=(0,P.s3)(a);this.props.syntheticItem&&s.data.hasSyntheticChild&&(o.push(this.props.syntheticItem.id),r=(0,l.ZP)(r,(e=>{e[s.id].data.hasSyntheticChild=!1})));const d=(0,b.IX)(r,s.id,o);this.setState({loadingPages:i,pages:d},(()=>{const{onExpand:e}=this.props;e&&e(d[s.id],{spaceId:null==n?void 0:n.id})}))}this.setState({expandedPages:new Set(r)})})),(0,n.Z)(this,"collapsePage",(e=>{const{expandedPages:t,space:a}=this.state,{onCollapse:i}=this.props;t.delete(e.id),this.setState({expandedPages:t}),i&&i(e,{spaceId:null==a?void 0:a.id})})),(0,n.Z)(this,"determineMovePageParams",((e,t,a)=>{if(void 0===a.index)return{pageId:t,parentId:a.parentId};const i=0===a.index,n=e.children.indexOf(t),s=n>-1&&n<a.index,r=i||s?a.index:a.index-1;return{pageId:t,siblingId:String(e.children[r]),positionToSibling:0===a.index?"before":"after"}})),(0,n.Z)(this,"movePage",((e,t)=>{var a,i,n,s,r;const{pages:o}=this.state,d=this.validateMove(e,t);if(null!==d)return void(this.props.onMoveInvalid&&this.props.onMoveInvalid({reason:d}));const l=(null===(a=this.props.syntheticItem)||void 0===a?void 0:a.id)||o[e.parentId].children[e.index],c=(null===(i=o[l])||void 0===i||null===(n=i.data)||void 0===n?void 0:n.status)||null,g=o[t.parentId],p=o[e.parentId],u=l===(null===(s=this.props.syntheticItem)||void 0===s?void 0:s.id);this.movePageInState(l,e,t,u);const h=this.determineMovePageParams(g,l,t);this.props.onPageMove(h,{contentStatus:c,destination:t,movedPageTitle:o[l].data.title,source:e,sourceParent:p,spaceId:null===(r=this.state.space)||void 0===r?void 0:r.id,revertMove:()=>{const{pages:a}=this.state,i=a[p.id],n=i.children.length>0?e:{parentId:p.id};return this.movePageInState(l,t,n,!0),this.determineMovePageParams(i,l,n)}})})),(0,n.Z)(this,"onClick",(async e=>{if(!this.props.syntheticItem)return;const t=this.props.syntheticItem.id;if(e.id===t)return;const{pages:a}=this.state,i=Object.keys(a).find((e=>a[e].data.hasSyntheticChild||a[e].children.includes(t)));if(!i)return;const n={parentId:i,index:a[i].children.indexOf(t)},s={parentId:e.id};-1!==n.index&&this.movePage(n,s)})),(0,n.Z)(this,"handleLoadingError",(e=>{if(!e)return;const t={apolloError:e};(0,h.rw)(e)&&((0,u.Xb)(e),t.isExpected=!0),this.setState({error:t});const{onLoadError:a}=this.props;a&&a(e,{isExpected:t.isExpected})})),(0,n.Z)(this,"renderItem",(0,d.default)((e=>t=>this.props.renderItem((0,i.Z)((0,i.Z)({},t),{},{spaceHomePageId:e,onClick:this.onClick,updateSinglePage:this.updateSinglePage}))))),(0,n.Z)(this,"onDragStart",(()=>{const{pages:e}=this.state,{onDragStart:t,onMoveInvalid:a}=this.props;t&&t(),Object.keys(e).length>C.D2&&(window.dispatchEvent(new Event("scroll")),a&&a({reason:"TREE_TOO_LARGE"}))})),(0,n.Z)(this,"isDraggable",(e=>this.props.isDraggable(e,{space:this.state.space}))),(0,n.Z)(this,"updateSinglePage",((e,t)=>{const{pages:a}=this.state,n=(0,i.Z)((0,i.Z)({},a[e]),{},{data:(0,i.Z)((0,i.Z)({},a[e].data),t)});this.setState({pages:(0,i.Z)((0,i.Z)({},a),{},{[e]:n})})}))}static getDerivedStateFromProps(e,t){const{currentPageId:a,highlightPages:n,spaceKey:s}=e,{expandedPages:r,loadingPages:o,pages:d}=t;return Object.keys(d).length<=0&&Object.keys(Z.pages).length>0&&Z.spaceKey===s?(0,i.Z)((0,i.Z)({},t),{},{spaceKey:s,initialLoading:!1,pages:Z.pages,rootId:Z.rootId||null}):(0,i.Z)((0,i.Z)({},t),{},{pages:(0,b.xl)(d,a,r,o,n)})}componentDidMount(){this.loadPages(!0),this.updatePageTreeMetadata()}componentDidUpdate(e){const{currentPageId:t,spaceKey:a,highlightPages:i,forceFetchCurrentPage:n,forceFetchedCallback:s,shouldPersistPageTreeObject:r}=this.props,{pages:d,spaceKey:l,rootId:c}=this.state;r&&(Z={spaceKey:l,pages:d,rootId:c});let g=!1;if(t&&(n||e.currentPageId!==t)){const e=d[t];!e||n||a!==l?(g=!0,this.loadPages(!0,n).then((()=>{n&&s&&s()}))):this.expandPage(e)}if(i.length&&!o()(e.highlightPages,i)){const e=d[i[0]];e||g?e&&this.expandPage(e):this.loadPages(!0,!0)}this.updatePageTreeMetadata()}componentWillUnmount(){this.querySubscription&&this.querySubscription.unsubscribe()}movePageInState(e,t,a,n){const{rootId:s,pages:r,expandedPages:o}=this.state;let d={rootId:s,items:r};const l=d.items[a.parentId];if(void 0===t.index){const i=r[t.parentId],n=i.children.indexOf(e);if(-1!==n){const e=[...i.children];e.splice(n,1),d=(0,c.U)(d,t.parentId,{children:e,hasChildren:e.length>0,isExpanded:e.length>0&&i.isExpanded})}const s=[...d.items[a.parentId].children];s.splice(a.index,0,e),d=(0,c.U)(d,a.parentId,{children:s,hasChildren:!0})}else{var p;e===(null===(p=this.props.syntheticItem)||void 0===p?void 0:p.id)&&!l.isExpanded&&l.hasChildren&&0===l.children.length&&(d=(0,c.U)(d,l.id,{data:(0,i.Z)((0,i.Z)({},l.data),{},{hasSyntheticChild:!0})})),d=(0,g.d)(d,t,a)}0===d.items[t.parentId].children.length&&o.delete(t.parentId),this.setState({pages:d.items,rootId:d.rootId,expandedPages:o},(()=>{n&&this.expandPage(l)}))}validateMove(e,t){const{pages:a}=this.state;return t&&!o()(e,t)&&a[t.parentId]?"DRAFT"===a[t.parentId].data.status?"INVALID_MOVE_LOCATION_DRAFT":Object.keys(a).length>=C.D2?"TREE_TOO_LARGE":null:"INVALID_MOVE_LOCATION"}updatePageTreeMetadata(){var e;const{pages:t,initialLoading:a,loadingMorePages:i,space:n}=this.state,{setHasItemsToDisplay:s=(()=>{}),setIsViewingSpaceHomepage:r=(()=>{}),setIsPageTreeLoading:o=(()=>{})}=this.props,d=null==n||null===(e=n.homepage)||void 0===e?void 0:e.id,l=this.getFocusedPageId();o(a||i),s(Object.keys(t).length>0),r(l===d)}render(){var e;const{pages:t,rootId:a,space:i,initialLoading:n,loadingMorePages:r,isTreeTruncated:o,error:d}=this.state,{treeWrapperComponent:l}=this.props;return d?s.createElement(s.Fragment,null,s.createElement(T,null),!d.isExpected&&s.createElement(p.X,{error:d.apolloError})):s.createElement(s.Fragment,null,s.createElement(y.x,{isDraggable:this.isDraggable,isTreeTruncated:o,loadMorePages:this.loadMorePages,onCollapse:this.collapsePage,onDragStart:this.onDragStart,onDragEnd:this.movePage,onExpand:this.expandPage,onInitialLoadComplete:this.props.onInitialLoadComplete,tree:{rootId:a,items:t},treeWrapperComponent:l,loading:r||n,renderItem:this.renderItem(null==i||null===(e=i.homepage)||void 0===e?void 0:e.id),setIsDraggingItem:this.props.setIsDraggingItem,setOpenQuickActionsId:this.props.setOpenQuickActionsId}),s.createElement(m.h,{name:"pagetree",types:[v.ai.content],reload:this.reloadChildren}),s.createElement(I.h,{event:"reload-content",contentId:this.props.currentPageId||null,callback:async()=>{await this.loadPages(!0,!0)}}))}}_.displayName="PageTreeController",(0,n.Z)(_,"defaultProps",{highlightPages:[],forceFetchCurrentPage:!1,shouldPersistPageTreeObject:!0})},865586:(e,t,a)=>{"use strict";a.d(t,{Cj:()=>q,_9:()=>z});var i=a(953307),n=a(991332),s=a(122551),r=a(405124),o=a.n(r),d=a(499082),l=a(590726),c=a(90995),g=a(271128),p=a(483565),u=a(745454),h=a(878010),m=a(185858),v=a(342851),f=a(704951),I=a(514645),P=a(658350),b=a(378314),S=a(13089),y=a(401487);function E(e,t,a){const{items:i}=e,s=(0,n.Z)({},i),r=[...s[t.parentId].children];r.splice(t.index,1),s[t.parentId]=(0,n.Z)((0,n.Z)({},s[t.parentId]),{},{children:r,hasChildren:Boolean(r.length)});const o=s[a.parentId],d=[...o.children],l=i[t.parentId].children[t.index];var c;return void 0===a.index?((c=o).hasChildren&&c.children.length>0||function(e){return!e.hasChildren}(o))&&d.push(l):d.splice(a.index,0,l),s[a.parentId]=(0,n.Z)((0,n.Z)({},s[a.parentId]),{},{children:d,hasChildren:!0}),(0,n.Z)((0,n.Z)({},e),{},{items:s})}const x=(e,t,a)=>{const i=e.items[t];return i?{rootId:e.rootId,items:(0,n.Z)((0,n.Z)({},e.items),{},{[t]:(0,n.Z)((0,n.Z)({},i),a)})}:e};var C=a(960284),T=a(802059);const Z={expandedPages:new Set,loadingPages:new Set,pages:{},space:null,spaceKey:null,rootId:null,isTreeTruncated:!1,cursors:{},initialPages:{},error:null,blogPeekRoot:void 0,focusedPageId:null,isPageTreeLoading:!0};let _=Z;const w={initializeState:()=>({setState:e,dispatch:t},{currentPageId:a,spaceKey:i,highlightPages:s=[],initialData:r,isPeekingFromBlogs:o,syntheticItem:d,syntheticItemIsDraft:l,detached:c})=>{if((e=>Object.keys(_.pages).length>0&&_.spaceKey===e)(i)&&!c)e((0,n.Z)((0,n.Z)({},_),{},{pages:(0,C.xl)(_.pages,a,_.expandedPages,_.loadingPages,s)}));else if(r&&Object.keys(r).length>0){const e=(0,C.Tu)(r,i,(0,n.Z)((0,n.Z)({},Z),{},{expandedPages:new Set,loadingPages:new Set}),o,d,l);t(w.setStateWithUIAttributes(e)),t(w.setIsPageTreeLoading(!1))}else e((0,n.Z)((0,n.Z)({},Z),{},{expandedPages:new Set,loadingPages:new Set,spaceKey:i}))},getState:()=>({getState:e})=>e(),derivedStateFromPropsReplacement:()=>({dispatch:e,getState:t},{currentPageId:a,highlightPages:i=[],spaceKey:n})=>{const{pages:s,expandedPages:r,loadingPages:o}=t();e(w.setStateWithUIAttributes({pages:(0,C.xl)(s,a,r,o,i),spaceKey:n}))},updatePersistedState:()=>({getState:e},{detached:t})=>{if(!t){const t=e();_=t}},setStateWithUIAttributes:e=>({setState:t,getState:a,dispatch:i},{currentPageId:s,highlightPages:r=[]})=>{t((0,n.Z)({},e));const{pages:o,expandedPages:d,loadingPages:l}=a();t({pages:(0,C.xl)(o,s,d,l,r)}),i(w.setFocusPageId())},addLoadingPage:e=>({getState:t,dispatch:a})=>{a(w.setStateWithUIAttributes({loadingPages:t().loadingPages.add(e)}))},setIsPageTreeLoading:e=>({setState:t})=>{t({isPageTreeLoading:e})},setIsTreeTruncated:e=>({setState:t})=>{t({isTreeTruncated:e})},deleteLoadingPage:e=>({getState:t,dispatch:a})=>{const{loadingPages:i}=t();i.delete(e),a(w.setStateWithUIAttributes({loadingPages:i}))},expandPage:(e,t)=>async({getState:a,dispatch:i},{syntheticItem:n,onExpand:s})=>{const{pages:r,expandedPages:o,loadingPages:d,space:l}=a(),c=r[e.id];if(o.has(e.id)||!c.hasChildren)return;const g=[e.id,...(0,T.pL)(e.id,r,o)];if(!(0,T.Ny)(c)){i(w.setStateWithUIAttributes({loadingPages:d.add(c.id)}));const e={},a=(0,T.UQ)(await t(c.id));a.forEach((t=>{e[t.id]=(0,C.sq)(t)}));let o=(0,T.Gv)(r,e);d.delete(c.id);const g=(0,T.s3)(a);n&&c.data.hasSyntheticChild&&(g.push(n.id),o=(0,I.ZP)(o,(e=>{e[c.id].data.hasSyntheticChild=!1})));const p=(0,C.IX)(o,c.id,g);i(w.setStateWithUIAttributes({loadingPages:d,pages:p})),s&&s(p[c.id],{spaceId:null==l?void 0:l.id})}i(w.setStateWithUIAttributes({expandedPages:new Set(g)}))},expandSpaceHomepage:()=>({getState:e,dispatch:t})=>{var a;const{pages:i,expandedPages:n,space:s}=e(),r=null==s||null===(a=s.homepage)||void 0===a?void 0:a.id;if(!r)return;const o=i[r];if(n.has(r)||!o.hasChildren)return;const d=[r,...(0,T.pL)(r,i,n)];t(w.setStateWithUIAttributes({expandedPages:new Set(d)}))},collapsePage:(e,t)=>({getState:a,dispatch:i})=>{const{expandedPages:n,space:s}=a();n.delete(e.id),i(w.setStateWithUIAttributes({expandedPages:n})),t&&t(e,{spaceId:null==s?void 0:s.id})},movePageInState:(e,t,a,i,s,r)=>({getState:o,dispatch:d},{syntheticItem:l})=>{const{rootId:c,pages:g,expandedPages:p}=o();let u={rootId:c,items:g};const h=u.items[a.parentId];if(void 0===t.index)if(r)u=((e,t,a)=>{const i=e.items[t],n=i.children.filter((e=>e!==a));return n.length!==i.children.length?x(e,t,{children:n,hasChildren:n.length>0,isExpanded:n.length>0&&i.isExpanded}):e})(u,t.parentId,e),u=((e,t,a,i)=>{const n=[...e.items[t].children];return n.splice(i,0,a),x(e,t,{children:n,hasChildren:!0})})(u,a.parentId,e,a.index);else{const i=g[t.parentId],n=i.children.indexOf(e);if(-1!==n){const e=[...i.children];e.splice(n,1),u=(0,b.U)(u,t.parentId,{children:e,hasChildren:e.length>0,isExpanded:e.length>0&&i.isExpanded})}const s=[...u.items[a.parentId].children];s.splice(a.index,0,e),u=(0,b.U)(u,a.parentId,{children:s,hasChildren:!0})}else{e===(null==l?void 0:l.id)&&!h.isExpanded&&h.hasChildren&&0===h.children.length&&(r?(m=u,v=h.id,f={hasSyntheticChild:!0},u=x(m,v,{data:(0,n.Z)((0,n.Z)({},m.items[v].data),f)})):u=(0,b.U)(u,h.id,{data:(0,n.Z)((0,n.Z)({},h.data),{},{hasSyntheticChild:!0})}));u=(r?E:P.d)(u,t,a)}var m,v,f;0===u.items[t.parentId].children.length&&p.delete(t.parentId),d(w.setStateWithUIAttributes({pages:u.items,rootId:u.rootId,expandedPages:p})),s&&d(w.expandPage(h,i))},handleLoadingError:e=>({setState:t},{onLoadError:a})=>{if(!e)return;const i={apolloError:e};(0,S.rw)(e)&&((0,y.Xb)(e),i.isExpected=!0),t({error:i}),a&&a(e,{isExpected:i.isExpected})},updateSinglePage:(e,t)=>({getState:a,dispatch:i})=>{const{pages:s}=a(),r=(0,n.Z)((0,n.Z)({},s[e]),{},{data:(0,n.Z)((0,n.Z)({},s[e].data),t)});i(w.setStateWithUIAttributes({pages:(0,n.Z)((0,n.Z)({},s),{},{[e]:r})}))},setFocusPageId:()=>({getState:e,setState:t},{currentPageId:a,highlightPages:i=[]})=>{const{blogPeekRoot:n}=e();t({focusedPageId:n||a||i[0]})}},k=(0,m.M)({initialState:(0,n.Z)((0,n.Z)({},Z),{},{expandedPages:new Set,loadingPages:new Set}),actions:w,name:"pageTreeState"}),D=(0,v.f)(k,{onInit:w.initializeState,onUpdate:w.derivedStateFromPropsReplacement}),A=(0,f.Bi)(k);var M=a(99687),L=a(577864),R=a(612726),N=a(890441);const O=({statuses:e})=>{const[t,a]=A(),i=(e=>{const{refetch:t}=(0,d.aM)(e,{skip:!0});return(0,s.useCallback)((e=>t(e)),[t])})(L.w),r=(0,s.useCallback)(((t,s,o,d,l)=>i((0,n.Z)({contentId:t,spaceKey:s,isSuperAdmin:o,statuses:e,ptStatuses:e},d)).then((e=>{const{data:i,error:n}=e;if(n)a.handleLoadingError(n);else if(i&&Object.keys(i).length>0){const{currentPage:e,rootLevelPages:a}=i,n=(0,T.y4)(e,l);if((0,T.HM)(e)){const a=(0,T.EH)(e,d);return r(t,s,o,a,n)}return{mergedPages:n,rootLevelPages:a}}}))),[i,a,e]);return{loadAllPages:r}};var F=a(625764);const U=({statuses:e,isSuperAdmin:t})=>{const[a,i]=A(),n=(e=>{const{refetch:t}=(0,d.aM)(e,{fetchPolicy:"no-cache",skip:!0});return(0,s.useCallback)((e=>t(e)),[t])})(F.i),r=(0,s.useCallback)(((a,i,s={count:0,nodes:[]})=>n({contentId:a,statuses:e,first:N.P_,after:i,isSuperAdmin:t||!1}).then((e=>{if(e.data){const{children:t}=e.data.page,i=(0,T.XJ)(s,t);return t.pageInfo.hasNextPage?r(a,t.pageInfo.endCursor,i):i}}))),[n,t,e]),o=(0,s.useCallback)((()=>{r(a.focusedPageId)}),[r,a.focusedPageId]);return{queryChildren:r,reloadChildren:o}};var j=a(34642);const $=(e,t,a,i,s,r)=>{const o=e?L.w:R.c,d=e?{spaceKey:s,isSuperAdmin:r,statuses:j.Mx,ptStatuses:j.Mx,contentId:e}:{spaceKey:s,isSuperAdmin:r,statuses:j.Mx,emojiTitleEnabled:!0},l=(0,n.Z)({paginationLimit:N.Nx},d);return{query:o,options:{fetchPolicy:i?"no-cache":a?"network-only":"cache-first",variables:!0!==t&&e?d:l}}},H=(e,t,a,i,n,r)=>{const{query:o,options:l}=(0,s.useMemo)((()=>$(e,t,a,i,n,r)),[e,t,a,i,n,r]);return(0,d.aM)(o,{skip:!0,fetchPolicy:l.fetchPolicy})},B=(e,t,a)=>{if(void 0===a.index)return{pageId:t,parentId:a.parentId};const i=0===a.index,n=e.children.indexOf(t),s=n>-1&&n<a.index,r=i||s?a.index:a.index-1;return{pageId:t,siblingId:String(e.children[r]),positionToSibling:0===a.index?"before":"after"}},K=({onMoveInvalid:e,syntheticItem:t,onPageMove:a,queryChildren:i})=>{const[n,r]=A(),{pages:d,space:l}=n,c=(0,p.TW)("confluence.frontend.page-tree.pragmatic-dnd");return(0,s.useCallback)(((n,s)=>{var g,p;const u=((e,t,a,i)=>t&&!o()(e,t)&&a[t.parentId]?"DRAFT"===a[t.parentId].data.status?"INVALID_MOVE_LOCATION_DRAFT":!i&&Object.keys(a).length>=N.D2?"TREE_TOO_LARGE":null:"INVALID_MOVE_LOCATION")(n,s,d,c);if(null!==u)return void(e&&e({reason:u}));const h=(null==t?void 0:t.id)||d[n.parentId].children[n.index],m=(null===(g=d[h])||void 0===g||null===(p=g.data)||void 0===p?void 0:p.status)||null,v=d[s.parentId],f=d[n.parentId],I=h===(null==t?void 0:t.id);r.movePageInState(h,n,s,i,I,c);const P=B(v,h,s);a(P,{contentStatus:m,destination:s,movedPageTitle:d[h].data.title,source:n,sourceParent:f,spaceId:null==l?void 0:l.id,revertMove:()=>{const{pages:e}=r.getState(),t=e[f.id],a=t.children.length>0?n:{parentId:f.id};return r.movePageInState(h,s,a,!0,!0,c),B(t,h,a)}})}),[r,d,l,e,a,i,null==t?void 0:t.id,c])},Q=()=>{},q="confluence.frontend.page-tree.pragmatic-dnd",V=(0,s.memo)((({currentPageId:e,isPeekingFromBlogs:t,isSuperAdmin:a,spaceKey:i,statuses:r,expandSpaceHomepage:d=!1,onInitialLoadComplete:m=Q,onLoadMore:v=Q,onDragStart:f=Q,onPageMove:I=Q,setIsViewingSpaceHomepage:P=Q,setHasItemsToDisplay:b=Q,setIsPageTreeLoading:S=Q,onMoveInvalid:y,renderItem:E,treeWrapperComponent:x,forceFetchCurrentPage:T=!1,forceFetchedCallback:Z,highlightPages:_=[],isDraggable:w,syntheticItem:k,detached:D=!1,syntheticItemIsDraft:L,isDraggingItem:R,setIsDraggingItem:F,dragPreview:j})=>{var B;const V=(0,s.useRef)({previousPageId:"",previousSpaceKey:"",previousHighlightedPages:[],previousForceFetchCurrentPage:!1,loadingUseEffect:!1}),[z,W]=A(),{pages:G,space:X,rootId:J,isTreeTruncated:Y,isPageTreeLoading:ee,focusedPageId:te}=z,ae=(Number((0,g.y)("confluence.ssr.page-tree.render-limit")),(0,p.TW)(q)),ie=(0,s.useCallback)((()=>{const e=document.querySelector(`div[data-contentid="${te}"]`);e&&(0,h.F1)(e),v&&v()}),[v,te]),{loadMorePages:ne,reloadChildren:se,queryChildren:re}=((e,t,a,i)=>{const[n,r]=A(),{focusedPageId:o}=n,{loadAllPages:d}=O({statuses:a}),{reloadChildren:l,queryChildren:c}=U({statuses:a,isSuperAdmin:t});return{loadMorePages:(0,s.useCallback)((async()=>{r.setIsPageTreeLoading(!0);const{mergedPages:a,rootLevelPages:s}=await d(o,e,t,n.cursors,n.initialPages),l=(0,C.oH)(a,s);r.expandSpaceHomepage(),r.setStateWithUIAttributes({pages:l}),r.setIsPageTreeLoading(!1),r.setIsTreeTruncated(!1),i&&i()}),[r,d,o,t,i,e,n.cursors,n.initialPages]),reloadChildren:l,queryChildren:c}})(i,a,r,ie),{refetch:oe}=H("1",!0,!1,D,i,a),{refetch:de}=H("1",!0,!0,D,i,a),{refetch:le}=H(void 0,!0,!0,D,i,a),ce=((e,t,a,i=!1,n=!1,r,o)=>{const[d,l]=A(),{queryChildren:c}=U({statuses:r,isSuperAdmin:n});return(0,s.useCallback)((n=>{if(n&&Object.keys(n).length>0){var s,r;const g=null===(s=n.space)||void 0===s||null===(r=s.homepage)||void 0===r?void 0:r.id,p=(0,C.Tu)(n,e,d,i,a,o);l.setStateWithUIAttributes(p);const{rootId:u,pages:h}=p;return t&&g&&u!==g&&h[g]?l.expandPage(h[g],c):h}return n}),[e,d,i,a,o,l,t,c])})(i,d,k,t,a,r,L),ge=(0,s.useCallback)((async({data:e,error:t})=>t?(W.handleLoadingError(t),e):(W.setIsPageTreeLoading(!1),ce(e),T&&Z&&Z(e),e)),[ce,W,T,Z]),pe=(0,s.useCallback)((async e=>{var n,s;if(null!=e&&null!==(n=e.space)&&void 0!==n&&null!==(s=n.homepage)&&void 0!==s&&s.id){var r,o;const n=null==e||null===(r=e.space)||void 0===r||null===(o=r.homepage)||void 0===o?void 0:o.id;if(t&&n&&"noHomepageFound"!==n){const{options:e}=$(n,!0,!1,D,i,a);return de(e.variables).then((e=>ge(e)))}}}),[D,de,ge,t,a,i]),ue=K({onMoveInvalid:y,syntheticItem:k,onPageMove:I,queryChildren:re}),he=(0,s.useCallback)((e=>{var t;const a=null==X||null===(t=X.homepage)||void 0===t?void 0:t.id;S(ee),b(Object.keys(e).length>0),P(te===a)}),[S,ee,b,P,te,null==X||null===(B=X.homepage)||void 0===B?void 0:B.id]);(0,s.useEffect)((()=>{const{previousPageId:n,previousSpaceKey:s,previousHighlightedPages:r,previousForceFetchCurrentPage:d}=V.current,{options:l}=$(e,!0,!1,D,i,a),c=e?oe:le;(!V.current.loadingUseEffect||T&&!d)&&(V.current.loadingUseEffect=!0,(async()=>{if(e&&(T||n!==e)){const t=G[e];if(T&&!0!==d)return de(l.variables).then((e=>ge(e)));if(_.length&&!o()(r,_)){const e=G[_[0]];if(!e)return de(l.variables).then((e=>ge(e)));if(e)return W.expandPage(e,re)}else{if(!t||i!==s&&""!==s)return c(l.variables).then((e=>ge(e)));if(!window.__SSR_RENDERED__&&""===n)return de(l.variables).then((async e=>ge(e)));if(n!==e&&t&&t.hasChildren)return W.expandPage(t,re)}}if(!e&&i!==s)return c(l.variables).then((e=>t?pe(e.data):ge(e)))})().then((e=>{if(e){const{pages:a}=(0,C.Tu)(e,i,z,t,k,L);he(a)}V.current.loadingUseEffect=!1}))),V.current.previousPageId=e,V.current.previousSpaceKey=i,V.current.previousHighlightedPages=_,V.current.previousForceFetchCurrentPage=T,Object.keys(G).length>=0&&W.updatePersistedState()}),[W,e,W.expandPage,T,de,_,oe,le,G,i,Z,re,he,D,ge,a,pe,t,z,k,L]);const me=(0,s.useCallback)((async e=>{var t,a;if(!k)return;const i=null==k?void 0:k.id;if((null==e?void 0:e.id)===i)return;const n=Object.keys(G).find((e=>{var t,a,n,s;return(null===(t=G[e])||void 0===t||null===(a=t.data)||void 0===a?void 0:a.hasSyntheticChild)||(null===(n=G[e])||void 0===n||null===(s=n.children)||void 0===s?void 0:s.includes(i))}));if(!n)return;const s={parentId:n,index:null===(t=G[n])||void 0===t||null===(a=t.children)||void 0===a?void 0:a.indexOf(i)},r={parentId:e.id};-1!==s.index&&ue(s,r)}),[G,k,ue]),ve=(0,s.useCallback)((e=>{W.expandPage(e,re)}),[W,re]),fe=(0,s.useCallback)((e=>w(e,{space:X})),[X,w]),Ie=(0,s.useCallback)((e=>{var t;const a=null==X||null===(t=X.homepage)||void 0===t?void 0:t.id;return E((0,n.Z)((0,n.Z)({},e),{},{spaceHomePageId:a,onClick:me,updateSinglePage:W.updateSinglePage,isDraggingItem:R}))}),[X,E,me,W.updateSinglePage,R]),Pe=(0,s.useCallback)((()=>{f&&f(),Object.keys(G).length>N.D2&&(window.dispatchEvent(new Event("scroll")),!ae&&y&&y({reason:"TREE_TOO_LARGE"}))}),[f,G,y,ae]);return s.createElement(s.Fragment,null,s.createElement(M.x,{isDraggable:fe,isTreeTruncated:Y,loadMorePages:ne,onCollapse:W.collapsePage,onDragStart:Pe,onDragEnd:ue,onExpand:ve,onInitialLoadComplete:m,tree:{rootId:J,items:G},treeWrapperComponent:x,loading:ee,refactor:!0,renderItem:Ie,isPragmaticDnDEnabled:ae,isDraggingItem:R,setIsDraggingItem:F,dragPreview:j}),s.createElement(u.h,{event:"reload-content",contentId:e||null,callback:se}),s.createElement(l.h,{name:"pagetree",types:[c.ai.content],reload:se}),!1)})),z=e=>{let t=(0,i.Z)({},e);const{query:a,options:n}=$(t.currentPageId,!0,!1,!1,t.spaceKey,t.isSuperAdmin),{data:r}=(0,d.aM)(a,{variables:n.variables,fetchPolicy:"cache-only"});return s.createElement(D,{currentPageId:t.currentPageId,highlightPages:t.highlightPages,initialData:r,spaceKey:t.spaceKey,syntheticItem:t.syntheticItem,onExpand:t.onExpand,onLoadError:t.onLoadError,syntheticItemIsDraft:t.syntheticItemIsDraft,isPeekingFromBlogs:t.isPeekingFromBlogs,detached:t.detached},s.createElement(V,{currentPageId:t.currentPageId,isPeekingFromBlogs:t.isPeekingFromBlogs,isSuperAdmin:t.isSuperAdmin,spaceKey:t.spaceKey,statuses:t.statuses,setHasItemsToDisplay:t.setHasItemsToDisplay,setIsPageTreeLoading:t.setIsPageTreeLoading,setIsViewingSpaceHomepage:t.setIsViewingSpaceHomepage,expandSpaceHomepage:t.expandSpaceHomepage,onInitialLoadComplete:t.onInitialLoadComplete,onLoadMore:t.onLoadMore,onDragStart:t.onDragStart,onPageMove:t.onPageMove,onMoveInvalid:t.onMoveInvalid,renderItem:t.renderItem,treeWrapperComponent:t.treeWrapperComponent,isDraggable:t.isDraggable,syntheticItem:t.syntheticItem,detached:t.detached,syntheticItemIsDraft:t.syntheticItemIsDraft,forceFetchCurrentPage:t.forceFetchCurrentPage,forceFetchedCallback:t.forceFetchedCallback,highlightPages:t.highlightPages,isDraggingItem:t.isDraggingItem,setIsDraggingItem:t.setIsDraggingItem,setOpenQuickActionsId:t.setOpenQuickActionsId,dragPreview:t.dragPreview}))};z.displayName="PageTreeCoordinator"},199767:(e,t,a)=>{"use strict";a.d(t,{n8:()=>_,N_:()=>k,du:()=>w});var i=a(991332),n=a(790632),s=a(122551),r=a(612642),o=a(131436),d=a(685753),l=a(615139),c=a(288815),g=a(810602),p=a(917465),u=a(891322),h=a(803384),m=a(756850),v=a(117918),f=a(28201);const I=(0,f.ZR)({__loadable_id__:"dyBhk",name:"HomepageIcon",loader:async()=>(await a.e(61794).then(a.bind(a,903886))).HomepageIcon}),P=(0,f.ZR)({__loadable_id__:"49YQy",name:"DraftLozenge",loader:async()=>(await a.e(94184).then(a.bind(a,119388))).DraftLozenge});var b=a(44127);const S="medium",y=(0,s.memo)((0,n.Z)("div",{target:"e1a4ig9z0"})("width:24px;font-size:12pt;display:flex;align-items:center;justify-content:center;color:",(e=>e.itemIsRestricted?(0,r.Z)("color.icon.danger",o.$H):"inherit"),";")),E=(0,s.memo)((0,n.Z)("div",{target:"e1a4ig9z1"})({name:"ux5l63",styles:"height:3px;line-height:0;"})),x=(0,n.Z)("span",{target:"e1a4ig9z2"})({name:"k008qs",styles:"display:flex;"}),C=(0,n.Z)("span",{target:"e1a4ig9z3"})({name:"xrz7ko",styles:"display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"}),T=(0,n.Z)("div",{target:"e1a4ig9z4"})({name:"5hz1ob",styles:"margin:0 4px;"}),Z=(0,n.Z)("span",{target:"e1a4ig9z5"})({name:"g261oz",styles:"pointer-events:none;display:flex;flex-shrink:0;margin-right:6px;align-items:center;"}),_=(0,s.memo)((({item:e,isSuperAdmin:t,onExpand:a,onCollapse:n})=>{const{isChildrenLoading:g,hasChildren:p,isExpanded:u,hasRestrictions:h,hasInheritedRestrictions:m}=e,v=!!t&&(h||m),f=v?(0,r.Z)("color.icon.danger",o.$H):void 0,I=(0,i.Z)({display:"flex",zIndex:1,border:"none",margin:0,padding:0,textDecoration:"none",backgroundColor:"transparent",color:"inherit",cursor:"pointer"},!1);return g?s.createElement(T,{"data-testid":"tree-item-spinner"},s.createElement(d.Z,{size:16})):p?u?s.createElement("button",{onClick:n,"data-testid":"chevron-down",style:I,"aria-expanded":u,"aria-labelledby":e.id},s.createElement(l.default,{primaryColor:f,label:"",size:S})):s.createElement("button",{onClick:a,"data-testid":"chevron-right",style:I,"aria-expanded":u,"aria-labelledby":e.id},s.createElement(c.default,{primaryColor:f,label:"",size:S})):s.createElement(y,{itemIsRestricted:v,"data-testid":"dot-icon"},s.createElement(E,null,"•"))})),w=(0,s.memo)((({id:e,displayHomePageIcon:t,displayEmoji:a,displayTitle:i,isDraft:n})=>s.createElement(x,null,t?s.createElement(I,null):null,a?s.createElement(g.gN,{key:a,emoji:a,context:"pageTree",height:14,parentComponent:"PageTreeItem",wrapper:Z}):null,s.createElement(C,{id:e,className:"title"},i),n&&s.createElement(P,null)))),k=function({item:e,draftText:t="",spaceHomePageId:a,onExpand:n,onCollapse:r,onHighlight:o,snapshot:d,draggableState:l,isSuperAdmin:c,onClick:g,spaceKey:f,indent:I,dragHandleProps:P,isHoverPageCardOptedIn:S,hoverPageCardTriggerRef:y,closeAllHoverPageCards:E,isQuickActionsOpen:x,setOpenQuickActionsId:C,isQuickActionsFocused:T,setFocusedQuickActionsId:Z,isEditingTitle:k,setIsEditingTitleId:D,isHoveringPageCard:A,onEnterHoverTarget:M,onLeaveHoverTarget:L,onBlurHoverTarget:R,isDraft:N,updateSinglePage:O,shouldRenderAfterIcon:F,contentStatus:U,isPragmaticDndEnabled:j,isDraggingItem:$}){var H,B,K,Q,q,V,z;const W=null==e||null===(H=e.data)||void 0===H?void 0:H.emoji,G=(null==e||null===(B=e.data)||void 0===B?void 0:B.title)||t,X=null==e||null===(K=e.data)||void 0===K?void 0:K.isHighlighted,J=null==e||null===(Q=e.data)||void 0===Q?void 0:Q.isSelected,Y=`${p.b}${null==e||null===(q=e.data)||void 0===q?void 0:q.webui}`;(0,s.useEffect)((()=>{X&&setTimeout(o,1e3*u.tO)}),[X,o]);const[ee,te]=(0,s.useState)(!1);return s.createElement("div",(0,i.Z)((0,i.Z)({},P),{},{onMouseDown:()=>{E(),j&&x&&C(null)},onBlur:e=>R(e,Z),ref:y,"data-contentid":null==e?void 0:e.id}),s.createElement(v.r,{id:null==e?void 0:e.id,title:null==e||null===(V=e.data)||void 0===V?void 0:V.fullTitle,displayEmoji:null==e||null===(z=e.data)||void 0===z?void 0:z.emojiFromProperties,isEditingTitle:k,setIsEditingTitleId:D,setFocusedQuickActionsId:Z,updateSinglePage:O,isDraft:N,contentStatus:U},s.createElement(m.p,{title:G,isHoverPageCardOptedIn:S,isQuickActionsOpen:x},s.createElement(b.JF,{dragHandleProps:P,onMouseEnter:()=>{!$&&M(null==e?void 0:e.id.toString(),T,ee)},onFocus:()=>M(null==e?void 0:e.id.toString(),T,ee),onMouseLeave:L,onBlur:R,isSelected:J,onClick:g,href:Y,item:e,snapshot:d,draggableState:l,isSuperAdmin:c,indent:I,forceHoverBackground:x||A||ee,isQuickActionsFocused:T,isPragmaticDndEnabled:j,beforeIcon:s.createElement(_,{item:e,isSuperAdmin:c,onExpand:t=>{t.preventDefault(),t.stopPropagation(),n(null==e?void 0:e.id)},onCollapse:t=>{t.preventDefault(),t.stopPropagation(),r(null==e?void 0:e.id)}}),afterIcon:F&&s.createElement(h.$,{setFocusedQuickActionsId:Z,isSuperAdmin:c,isQuickActionsOpen:x,setOpenQuickActionsId:C,setIsEditingTitleId:D,closeAllHoverPageCards:E,spaceKey:f,item:e,isContextualCreateFocused:ee,setIsContextualCreateFocused:te})},s.createElement(w,{id:null==e?void 0:e.id.toString(),displayHomePageIcon:(null==e?void 0:e.id)===a,isDraft:N,displayTitle:G,displayEmoji:W})))))};k.displayName="PageTreeItem"},44127:(e,t,a)=>{"use strict";a.d(t,{Xx:()=>c,Uc:()=>g,rn:()=>p,JF:()=>b});var i=a(991332),n=a(790632),s=a(122551),r=a(336198),o=a(131436),d=a(612642),l=a(891322);const c="--hover-display-after-icon",g="--hover-opacity-after-icon",p="--hover-bg-color",u=r.F4`
from {
  background: ${(0,d.Z)("color.background.brand.bold",o.BA)};
}
to {
  background: none;
}
`,h=(0,n.Z)("span",{target:"e1wjl5rj0"})((({draggableState:e})=>({marginRight:"4px",display:"flex",height:"24px",width:"24px","-webkit-box-align":"center","-webkit-box-pack":"center",alignItems:"center",justifyContent:"center",flexShrink:0,color:"dragging"===e?(0,d.Z)("color.icon.disabled",o.n2):(0,d.Z)("color.text",o.Mx)}))),m=(0,n.Z)("span",{target:"e1wjl5rj1"})({name:"1j3a96u",styles:"display:flex;flex-shrink:0;margin-left:12px;"}),v=(0,n.Z)("div",{target:"e1wjl5rj2"})({name:"1hwuaz7",styles:"width:100%;display:flex;min-height:24px;-webkit-box-align:center;align-items:center;margin:0;padding:0;z-index:1;"}),f=(0,n.Z)("div",{target:"e1wjl5rj3"})((({indent:e})=>({":before":{position:"absolute",zIndex:0,content:'""',backgroundColor:(0,d.Z)("color.background.selected.hovered",o.BA),height:"100%",top:0,left:`${e}px`,right:0,borderRadius:"3px"}}))),I=(0,n.Z)("span",{target:"e1wjl5rj4"})({name:"1fz0h1q",styles:"-webkit-box-flex:1;flex-grow:1;text-align:left;overflow:hidden;outline:none;display:flex;flex-direction:column;line-height:1.22;"}),P=(0,n.Z)("a",{target:"e1wjl5rj5"})((({item:e,snapshot:t={},draggableState:a,isSuperAdmin:i,indent:n,forceHoverBackground:s,isQuickActionsFocused:r,isSelected:h,isPragmaticDndEnabled:m})=>{var v,f;const{hasRestrictions:I,hasInheritedRestrictions:P}=e,{isDragging:b,draggingOver:S,combineTargetFor:y}=t,E=null==e||null===(v=e.data)||void 0===v?void 0:v.isHighlighted,x={position:"relative",padding:`0 10px 0 ${8+n}px`,backgroundColor:h?(0,d.Z)("color.background.selected",o.gt):"transparent","&:visited, &:active, &:focus":{color:h?(0,d.Z)("color.text.selected",o.AX):(0,d.Z)("color.text",o.Mx),textDecoration:"none"},"--display-after-icon":s||r?"flex":"none","--opacity-after-icon":s||r?"100%":"0%","&:hover, &:focus-within":{"--display-after-icon":`var(${c}, flex)`,"--opacity-after-icon":`var(${g}, 100%)`,backgroundColor:`var(${p}, ${(0,d.Z)("color.background.neutral.hovered",o.gt)})`},width:"100%",display:"flex",minHeight:24,WebkitBoxAlign:"center",alignItems:"center",fontSize:14,userSelect:"none",borderRadius:3,borderColor:"none",color:h?(0,d.Z)("color.text.selected",o.AX):(0,d.Z)("color.text",o.Mx),height:40,boxSizing:"border-box",animation:"0s ease 0s 1 normal none running none",margin:"0px !important",textDecoration:"none","&[data-react-beautiful-dnd-drag-handle]":{cursor:"pointer"},"&:hover":{textDecoration:"none",color:h?(0,d.Z)("color.text.selected",o.AX):(0,d.Z)("color.text",o.Mx)},"&:active":{backgroundColor:(0,d.Z)("color.background.selected",o.BA),boxShadow:"none",border:"none"},"&:focus":{outline:"none",boxShadow:`${(0,d.Z)("color.border.selected","#388BFF")} 0px 0px 0px 2px inset`,backgroundColor:(0,d.Z)("color.background.selected",o.BA)}};return"DRAFT"===(null==e||null===(f=e.data)||void 0===f?void 0:f.status)&&(x["& .title"]={opacity:"0.7"}),i&&(I||P)&&(x.color=(0,d.Z)("color.text.danger",o.$H)),b&&(x["&:active"]={border:"none",boxShadow:(0,d.Z)("elevation.shadow.overlay",`${o.VG} 1px 5px 11px 2px`),backgroundColor:(0,d.Z)("elevation.surface.overlay",o.gt)},x.borderRadius=5,S||(x.color=(0,d.Z)("color.text.subtlest",o.Bn),x.borderColor=(0,d.Z)("color.border",o.Bn))),m&&a&&"idle"!==a&&(x["&:active"]={border:"none",boxShadow:"none",backgroundColor:"transparent"},x["&:focus"]={outline:"none",boxShadow:"none",backgroundColor:"transparent"},"dragging"===a&&(x.color=`${(0,d.Z)("color.text.disabled",o.n2)} !important`)),y&&(x.backgroundColor=(0,d.Z)("color.background.neutral.hovered",o.gt)),x.animation=E?`${u} ${l.tO}s linear`:"none",s&&(x.backgroundColor=(0,d.Z)("color.background.accent.gray.subtler",o.gt)),x})),b=({dragHandleProps:e,item:t,isSelected:a,onMouseEnter:n,onMouseLeave:r,onBlur:o,onFocus:d,onClick:l,href:c,snapshot:g,draggableState:p,isSuperAdmin:u,indent:b,forceHoverBackground:S,isQuickActionsFocused:y,isPragmaticDndEnabled:E,beforeIcon:x,afterIcon:C,children:T})=>s.createElement(P,(0,i.Z)((0,i.Z)({},e),{},{onMouseEnter:n,onFocus:d,onMouseLeave:r,onBlur:o,isSelected:a,onClick:l,href:c,item:t,snapshot:g,draggableState:p,"data-testid":"page-tree-item",isSuperAdmin:u,indent:b,forceHoverBackground:S,isQuickActionsFocused:y,isPragmaticDndEnabled:E,"aria-current":a?"page":void 0}),s.createElement(v,null,s.createElement(h,{draggableState:p},x),s.createElement(I,null,T),s.createElement(m,null,C)),E&&"desired-parent-for-reparent"===p?s.createElement(f,{indent:b}):null);b.displayName="PageTreeLinkItem"},590941:(e,t,a)=>{"use strict";a.d(t,{Ks:()=>n,BQ:()=>s,D6:()=>r,hw:()=>o,_Z:()=>d,aE:()=>l,ar:()=>c});var i=a(991332);const n=({source:e,contentStatus:t,pageId:a,previousParentPageId:n,newParentPageId:s,previousSpaceId:r,newSpaceId:o,referrer:d})=>({type:"sendTrackEvent",data:{action:"updated",source:e,containerType:"space",containerId:r,objectType:"page",objectId:a,actionSubject:"page",attributes:(0,i.Z)({contentStatus:null!=t?t:null,previousSpaceId:r,previousParentPageId:n,newSpaceId:o,newParentPageId:s},d?{referrer:d}:void 0)}}),s=()=>({type:"sendUIEvent",data:{action:"dragged",actionSubject:"pageTree",source:"viewPageScreen"}}),r=e=>({type:"sendUIEvent",data:{action:"dropped",actionSubject:"pageTree",source:"viewPageScreen",attributes:{isValidTarget:e}}}),o=()=>({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"pageTreeDragDropUndo",source:"viewPageScreen"}}),d=()=>({type:"sendUIEvent",data:{action:"pressed",actionSubject:"keyboardShortcut",actionSubjectId:"pageTreeDragDropUndo",source:"viewPageScreen"}}),l=(e,t,a,i,n,s)=>{const r={type:"sendUIEvent",data:{containerType:"space",containerId:t,objectType:"page",objectId:null!=n?n:"",action:e,actionSubject:"pageTree",source:a?"pageTreeDrawer":"containerNavigation",attributes:{navigationLayer:"container",spaceView:"TREE",contentStatus:null!=i?i:null}}};return s&&(r.data.attributes.navdexPointType=s),r},c=()=>({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"showAllButton",source:"containerNavigation"}})},802059:(e,t,a)=>{"use strict";a.d(t,{UQ:()=>d,s3:()=>l,nJ:()=>c,Ny:()=>g,Gv:()=>p,XJ:()=>u,HM:()=>h,pL:()=>m,y4:()=>v,EH:()=>f});var i=a(991332),n=a(514645),s=a(724260),r=a.n(s),o=a(587090);const d=e=>{var t;return null!=e&&null!==(t=e.nodes)&&void 0!==t&&t.length?e.nodes.filter((e=>"string"==typeof e||!1===e.blank)):[]},l=e=>e.map((e=>e.id)),c=(e,t,a)=>{if(!a||!e||!t)return o.q;const i=e[t];if(!i)return o.q;switch(t){case a:return a;case o.c:return o.c;default:return c(e,i.parentId,a)}},g=e=>!e.hasChildren||Boolean(e.children)&&e.children.length>0,p=(e,t)=>(0,n.ZP)(e,(a=>{for(const n in t){const s=e[n],r=t[n];if(s){const e=g(r)?r.children:s.children;a[n]=(0,i.Z)((0,i.Z)({},r),{},{parentId:s.parentId,children:e})}else a[n]=r}return a})),u=(e,t)=>({count:e.count+t.count,nodes:[...e.nodes,...t.nodes]}),h=e=>{if(!e)return!1;const{previousSiblings:t,followingSiblings:a,children:i,nearestAncestors:n}=e;return n.nodes.filter((e=>e.previousSiblings.pageInfo.hasNextPage||e.followingSiblings.pageInfo.hasNextPage)).length>0||t.pageInfo.hasNextPage||a.pageInfo.hasNextPage||i.pageInfo.hasNextPage},m=(e,t,a)=>{if(t[e]){const{parentId:i}=t[e];if(i)return a.add(i),m(i,t,a)}return a},v=(e,t)=>t?(0,n.ZP)(t,(t=>{const{previousSiblings:a,followingSiblings:i,nearestAncestors:n,children:s}=e,{previousSiblings:o,followingSiblings:d,nearestAncestors:l,children:c}=t;o.nodes=r()(o.nodes,a.nodes,"id"),d.nodes=r()(d.nodes,i.nodes,"id"),c.nodes=r()(c.nodes,s.nodes,"id");const g=r()(n.nodes,l.nodes,"id");return l.nodes.forEach((e=>{const t=g.filter((t=>t.id===e.id));if(t.length>0){const{previousSiblings:a,followingSiblings:i}=t[0];a.nodes=r()(e.previousSiblings.nodes,a.nodes,"id"),i.nodes=r()(e.followingSiblings.nodes,i.nodes,"id")}})),l.nodes=g,o.pageInfo.hasNextPage=o.pageInfo.hasNextPage&&a.pageInfo.hasNextPage,d.pageInfo.hasNextPage=d.pageInfo.hasNextPage&&i.pageInfo.hasNextPage,l.pageInfo.hasNextPage=l.pageInfo.hasNextPage&&n.pageInfo.hasNextPage,t})):e,f=(e,t)=>{if(!e)return t;const{previousSiblings:a,followingSiblings:i,nearestAncestors:n,children:s}=e,r={},{endCursor:o}=a.pageInfo;r.previousSiblingsCursor=o||t.previousSiblingsCursor;const{endCursor:d}=i.pageInfo;r.followingSiblingsCursor=d||t.followingSiblingsCursor;const{endCursor:l}=n.pageInfo;r.nearestAncestorsCursor=l||t.nearestAncestorsCursor;const{endCursor:c}=s.pageInfo;r.childrenCursor=c||t.childrenCursor;const g=n.nodes.filter((e=>e.previousSiblings.pageInfo.hasNextPage)),p=g.length>0?g[0].previousSiblings.pageInfo.endCursor:null;r.naPreviousSiblingsCursor=p||t.naPreviousSiblingsCursor;const u=n.nodes.filter((e=>e.followingSiblings.pageInfo.hasNextPage)),h=u.length>0?u[0].followingSiblings.pageInfo.endCursor:null;return r.naFollowingSiblingsCursor=h||t.naFollowingSiblingsCursor,r}},960284:(e,t,a)=>{"use strict";a.d(t,{sq:()=>g,G3:()=>u,oH:()=>h,xl:()=>m,IX:()=>f,Tu:()=>P});var i=a(991332),n=a(514645),s=a(490398),r=a.n(s),o=a(724507),d=a(923269),l=a(802059),c=a(587090);const g=e=>{var t;const{text:a,emoji:i,selectedEmoji:n}=(0,d.u2)(e.title,(0,o.xV)(e),(0,o.bm)(e),e.status);return{id:e.id,children:(0,l.UQ)(e.children),parentId:null,hasChildren:e.hasChildren,isExpanded:!1,isChildrenLoading:!1,hasRestrictions:e.hasRestrictions||!1,hasInheritedRestrictions:e.hasInheritedRestrictions||!1,blockedInstructions:"CURRENT"===e.status?void 0:["make-child"],data:{title:a,fullTitle:e.title,status:e.status,blank:e.blank,emoji:i,emojiFromProperties:n,webui:null===(t=e.links)||void 0===t?void 0:t.webui}}},p=(e,t={})=>{if(!e)return;const a=(0,l.UQ)(e.children),i=(0,l.UQ)(e.nearestAncestors),n=[...(0,l.UQ)(e.previousSiblings),...(0,l.UQ)(e.followingSiblings)];return t[e.id]=g(e),n.forEach((e=>p(e,t))),i.forEach((e=>p(e,t))),a.forEach((e=>p(e,t))),t},u=(e,t={},a=!0)=>{const i=(0,l.UQ)(e).map((e=>{const a=g(e);return t[e.id]=a,a}));return t[c.q]={id:c.q,children:(0,l.s3)(i),parentId:null,hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,hasRestrictions:!1,hasInheritedRestrictions:!1,data:{title:"",status:"",blank:!1,webui:""}},t[c.c]={id:c.c,children:[],parentId:c.q,hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,hasRestrictions:!1,hasInheritedRestrictions:!1,data:{title:"",status:"",blank:!1,webui:""}},a&&(t=v(t)),t},h=(e,t)=>{let a={};if(!e)return a;a=p(e,a)||{},a=u(t,a,!1);const i=(0,l.UQ)(e.nearestAncestors),n=(0,l.UQ)(e.children),s=[...[...(0,l.UQ)(e.previousSiblings)].reverse(),{id:e.id,children:n},...(0,l.UQ)(e.followingSiblings)];i.forEach(((e,t)=>{let n=[];if(0===t)n=s;else{const e=i[t-1];n=[...[...(0,l.UQ)(e.previousSiblings)].reverse(),e,...(0,l.UQ)(e.followingSiblings)]}a[e.id].children=(0,l.s3)(n)})),a[e.id].children=(0,l.s3)(n);let r=s;if(i.length){const e=i[i.length-1];r=[...[...(0,l.UQ)(e.previousSiblings)].reverse(),e,...(0,l.UQ)(e.followingSiblings)]}return a[c.c].children=(0,l.s3)(r),a=v(a),a},m=(e,t,a,i,s)=>(0,n.ZP)(e,(e=>{for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];r.isExpanded=a.has(n),r.isChildrenLoading=i.has(n),r.data.isSelected=r.id===t,r.data.isHighlighted=(null==s?void 0:s.includes(r.id))||!1}})),v=e=>(0,n.ZP)(e,(e=>{Object.keys(e).forEach((t=>{const a=e[t];a&&a.children&&a.children.length&&a.children.forEach((t=>{"string"!=typeof t||a.id===c.c&&e[t].parentId===c.q||(e[t].parentId=a.id)}))}))})),f=(e,t,a)=>{const i=(0,n.ZP)(e,(e=>{e[t].children=a})),s=I(i,a,t);return v(s)},I=(e,t,a)=>(0,n.ZP)(e,(e=>{t.forEach((t=>{if(e[t]&&e[t].parentId&&e[t].parentId!==a){const a=e[e[t].parentId];a.children=r()(a.children,t)}}))})),P=(e,t,a,n,s,r)=>{var o;const{currentPage:d,rootLevelPages:c,space:g}=e,p=((e,t)=>e?h(e,t):u(t))(d,c),m=(0,l.EH)(d,{});let v=(0,l.Gv)(a.pages,p);const f=null==g||null===(o=g.homepage)||void 0===o?void 0:o.id,I=(0,l.nJ)(v,null==d?void 0:d.id,f),P=n?g.homepage&&g.homepage.id||"noHomepageFound":void 0;v=((e,t,a,n)=>{if(t=(0,i.Z)({},t),e&&e.id){var s;t[e.id]||t[a].children.some((t=>t===e.id))||(t[a]=(0,i.Z)((0,i.Z)({},t[a]),{},{children:[e.id,...t[a].children]}));const r=(null===(s=t[e.id])||void 0===s?void 0:s.data)||{};t[e.id]=(0,i.Z)((0,i.Z)({},e),{},{data:n?(0,i.Z)((0,i.Z)({},r),e.data):(0,i.Z)((0,i.Z)({},e.data),r)})}return t})(s,v,I,r);return{rootId:I,pages:v,space:g,spaceKey:t,expandedPages:((e,t)=>{for(const a in e){const i=e[a];i.hasChildren&&(0,l.Ny)(i)&&t.add(i.id)}return t})(v,a.expandedPages),isTreeTruncated:(0,l.HM)(d),cursors:m,initialPages:d,blogPeekRoot:P}}},971151:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});const i=(0,a(464984).defineMessages)({flagErrorTitle:{id:"page-tree.dragndrop.failed.title",defaultMessage:"Something went wrong"},flagErrorDescription:{id:"page-tree.dragndrop.failed.description",defaultMessage:"Refresh the page and try again. If this keeps happening, contact your space administrator."},flagErrorAction:{id:"page-tree.dragndrop.failed.action.visitsupport",defaultMessage:"Visit Atlassian Support"},flagMovePagePermissionErrorTitle:{id:"page-tree.dragndrop.permissions.error.title",defaultMessage:"This page can’t be moved"},flagMovePagePermissionErrorDescription:{id:"page-tree.dragndrop.permissions.error.decription",defaultMessage:"You don’t have the right permission to move this restricted page. Contact your space administrator to resolve this."},flagUndoTitle:{id:"page-tree.dragndrop.undo.title",defaultMessage:'Moved "{pageTitle}"'},flagUndoUntitled:{id:"page-tree.dragndrop.undo.untitled",defaultMessage:'Moved "Untitled"'},flagUndoAction:{id:"page-tree.dragndrop.undo.action",defaultMessage:"Undo"},flagLargePageTreeTitle:{id:"page-tree.dragndrop.lpt.title",defaultMessage:"Too many pages"},flagLargePageTreeDescription:{id:"page-tree.dragndrop.lpt.description",defaultMessage:"Drag and drop is not available within a list of 500 pages or more. Refresh and try again without expanding the page tree, or go to space settings to reorder."},flagLargePageTreeSettingsAction:{id:"page-tree.dragndrop.lpt.settings.action",defaultMessage:"Go to space settings"},flagLargePageTreeRefreshAction:{id:"page-tree.dragndrop.lpt.refresh.action",defaultMessage:"Refresh page"},flagInvalidMoveDraftTitle:{id:"page-tree.dragndrop.invalid-move-draft.title",defaultMessage:"You can't move a page here"},flagInvalidMoveDraftDescription:{id:"page-tree.dragndrop.invalid-move-draft.description",defaultMessage:"A page can’t be nested under a draft. Publish the draft to move a page here."},untitledDraftText:{id:"page-tree.untitled-draft",defaultMessage:"Untitled"}})},719742:(e,t,a)=>{"use strict";a.d(t,{Gg:()=>r,jG:()=>d,ZA:()=>o});var i=a(902195);const n=(0,a(464984).defineMessages)({noCreatePermissionsErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.no-create-permissions-error.title",defaultMessage:"This page can’t be moved"},noCreatePermissionsErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.no-create-permissions-error.description",defaultMessage:"Moving a page to another space requires that you have permission to create a page in this space."},permissionsErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.permissions-error.title",defaultMessage:"This page can’t be moved"},permissionsErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.permissions-error.description",defaultMessage:"Moving a page to another space requires permissions you don’t have."},parentChildLoopErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.parent-child-loop.title",defaultMessage:"This page can’t be moved"},parentChildLoopErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.parent-child-loop.description",defaultMessage:"Pages can't be moved underneath themselves or their children."},singleConflictingPageNameErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name.title",defaultMessage:"A page with this name already exists"},singleConflictingPageNameErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name.description",defaultMessage:"A page called {conflictingPageName} already exists in the {destinationSpace} space. Rename the page you are moving."},multipleConflictingPageNamesErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.multiple-conflicting-page-name.title",defaultMessage:"Pages with the same names already exist"},multipleConflictingPageNamesErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.multiple-conflicting-page-name.description",defaultMessage:"The following pages already exist in the {destinationSpace} space: {listOfConflictingPageNames}. Rename the pages you are moving."},restrictionsPermissionErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.no-restrictions-permissions.title",defaultMessage:"This page can’t be moved"},restrictionsPermissionErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.no-restrictions-permissions.description",defaultMessage:"This page has restricted visibility, and you don’t have permission to create a page with restrictions in the new space. Remove the restrictions before moving it."},destinationDoesNotExistErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.destination-does-not-exist.title",defaultMessage:"Select a different destination"},destinationDoesNotExistErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.destination-does-not-exist.description",defaultMessage:"Someone just moved or archived the parent page you selected. Select a different destination for this page."},sourceDoesNotExistErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.source-does-not-exist.title",defaultMessage:"This page can no longer be moved"},sourceDoesNotExistErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.source-does-not-exist.description",defaultMessage:"Someone just archived this page, and archived pages can’t be moved."},defaultErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.default.title",defaultMessage:"We’re having issues moving this page"},defaultErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.default.description",defaultMessage:"Refresh the page, and try moving again. If that doesn’t solve the issue, try again later."},currentlyUpdatedErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.currently-updated.title",defaultMessage:"We couldn’t move your page"},currentlyUpdatedErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.currently-updated.description",defaultMessage:"Updates are happening to this page or its children. Refresh the page and try again."}}),s=e=>(e=>e.includes("A page with the name(s)")&&e.includes("already exist(s) in the space"))(e)?(e=>{const t="A page with the name(s) ",a=" already exist(s) in the space ",i=e.substring(e.indexOf(t)+t.length,e.indexOf(a)).split(","),s=e.substring(e.indexOf(a)+a.length,e.indexOf(". You must rename the page title before moving it."));return 1===i.length?{title:n.singleConflictingPageNameErrorTitle,description:n.singleConflictingPageNameErrorDescription,props:{values:{conflictingPageName:i[0],destinationSpace:s}}}:{title:n.multipleConflictingPageNamesErrorTitle,description:n.multipleConflictingPageNamesErrorDescription,props:{values:{listOfConflictingPageNames:(r=i,2===r.length?r.join(" and "):r.length>2?`${r.slice(0,r.length-1).join(", ")}, and ${r[r.length-1]}`:r.join(", ")),destinationSpace:s}}};var r})(e):(e=>e.includes("creates a parent-child loop"))(e)?{title:n.parentChildLoopErrorTitle,description:n.parentChildLoopErrorDescription}:(e=>e.includes("You can not restrict pages in the destination space."))(e)?{title:n.restrictionsPermissionErrorTitle,description:n.restrictionsPermissionErrorDescription}:void 0,r=e=>{var t;const a=null==e||null===(t=e.graphQLErrors)||void 0===t?void 0:t[0],r=(0,i.e)(a),o=null==a?void 0:a.message;return"400"===r?s(o):"404"===r?(e=>(e=>e.includes("The target page provided does not exist.")||e.includes("The target page with ID = ")&&e.includes("is archived"))(e)?{title:n.destinationDoesNotExistErrorTitle,description:n.destinationDoesNotExistErrorDescription}:(e=>e.includes("The source page provided does not exist.")||e.includes("The source page with ID = ")&&e.includes("is archived"))(e)?{title:n.sourceDoesNotExistErrorTitle,description:n.sourceDoesNotExistErrorDescription}:void 0)(o):"500"===r?(e=>(e=>e.includes("Can not set page as its own parent."))(e)?{title:n.parentChildLoopErrorTitle,description:n.parentChildLoopErrorDescription}:(e=>e.includes("UnexpectedRollbackException"))(e)?{title:n.currentlyUpdatedErrorTitle,description:n.currentlyUpdatedErrorDescription}:void 0)(o):void 0},o=e=>{var t;return"403"===(0,i.e)(null==e||null===(t=e.graphQLErrors)||void 0===t?void 0:t[0])?{title:n.permissionsErrorTitle,description:n.permissionsErrorDescription}:{title:n.defaultErrorTitle,description:n.defaultErrorDescription}},d=()=>({title:n.noCreatePermissionsErrorTitle,description:n.noCreatePermissionsErrorDescription})},34642:(e,t,a)=>{"use strict";let i;a.d(t,{Mx:()=>n}),function(e){e.CURRENT="CURRENT",e.DRAFT="DRAFT"}(i||(i={}));const n=[i.CURRENT,i.DRAFT]},890441:(e,t,a)=>{"use strict";a.d(t,{Nx:()=>i,P_:()=>n,D2:()=>s});const i=500,n=100,s=500},625764:(e,t,a)=>{"use strict";a.d(t,{i:()=>s});var i=a(331377);const n=i.ZP`fragment PageInfoFragment on Page{id title status blank hasChildren hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)links{webui}properties(keys:["emoji-title-published" "emoji-title-draft"]){nodes{id key value version{number}}}}`,s=i.ZP`query PageTreeChildrenQuery($contentId:ID!$statuses:[PTGraphQLPageStatus]$first:Int$after:String$isSuperAdmin:Boolean!){page(id:$contentId status:$statuses){...PageInfoFragment children(first:$first after:$after){count nodes{...PageInfoFragment}pageInfo{hasNextPage endCursor}}}}${n}`},577864:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});var i=a(331377);const n=i.ZP`fragment PageListFragment on PaginatedPageList{count nodes{...PageInfoFragment}pageInfo{hasNextPage endCursor}}`,s=i.ZP`fragment PageInfoFragment on Page{id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)links{webui}properties(keys:["emoji-title-published" "emoji-title-draft"]){nodes{id key value version{number}}}}`,r=i.ZP`query PageTreeQuery($spaceKey:String!$statuses:[GraphQLPageStatus]$ptStatuses:[PTGraphQLPageStatus]$contentId:ID!$paginationLimit:Int$nearestAncestorCursor:String$naPreviousSiblingsCursor:String$naFollowingSiblingsCursor:String$previousSiblingsCursor:String$followingSiblingsCursor:String$childrenCursor:String$isSuperAdmin:Boolean!){currentPage:page(id:$contentId spaceKey:$spaceKey pageTree:$paginationLimit status:$ptStatuses enablePaging:true){...PageInfoFragment nearestAncestors(after:$nearestAncestorCursor){count pageInfo{hasNextPage endCursor}nodes{...PageInfoFragment previousSiblings(after:$naPreviousSiblingsCursor){...PageListFragment}followingSiblings(after:$naFollowingSiblingsCursor){...PageListFragment}}}previousSiblings(after:$previousSiblingsCursor){...PageListFragment}followingSiblings(after:$followingSiblingsCursor){...PageListFragment}children(after:$childrenCursor){...PageListFragment}}rootLevelPages:pages(spaceKey:$spaceKey status:$statuses){nodes{...PageInfoFragment}}space(key:$spaceKey){id homepage{id}operations{operation targetType}}}${s}${n}`},612726:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});const i=a(331377).ZP`query PageTreeRootLevelPages($spaceKey:String!$statuses:[GraphQLPageStatus]$emojiTitleEnabled:Boolean=false$isSuperAdmin:Boolean!$paginationLimit:Int){rootLevelPages:pages(spaceKey:$spaceKey status:$statuses limit:$paginationLimit){nodes{id hasChildren title status blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)properties(keys:["emoji-title-published" "emoji-title-draft"])@include(if:$emojiTitleEnabled){nodes{id key value version{number}}}links{webui}}}space(key:$spaceKey){id homepage{id}operations{operation targetType}}}`},117918:(e,t,a)=>{"use strict";a.d(t,{r:()=>o});var i=a(991332),n=a(415911),s=a(122551),r=a(303674);const o=e=>{let{children:t,isEditingTitle:a}=e,o=(0,n.Z)(e,["children","isEditingTitle"]);return a?s.createElement(r.Fo,(0,i.Z)((0,i.Z)({},o),{},{isEditingTitle:a}),t):s.createElement(s.Fragment,null,t)};o.displayName="ConditionalInlineRename"},303674:(e,t,a)=>{"use strict";a.d(t,{e0:()=>n,Fo:()=>s});var i=a(28201);const n=(0,i.ui)({__loadable_id__:"oDYxo",name:"PageTreeQuickActions",loader:async()=>(await Promise.all([a.e(61769),a.e(31110)]).then(a.bind(a,942384))).PageTreeQuickActions}),s=(0,i.ui)({__loadable_id__:"l8oLh",name:"InlineRename",loader:async()=>(await Promise.all([a.e(61769),a.e(46003),a.e(11385),a.e(12557),a.e(72787),a.e(29466)]).then(a.bind(a,182584))).InlineRename,loading:({children:e})=>e})},154697:(e,t,a)=>{"use strict";a.d(t,{p:()=>p});var i=a(991332),n=a(415911),s=a(122551),r=a(499082),o=a(331377);const d=o.ZP`mutation MovePageAfterMutation($pageId:ID!$siblingId:ID!){movePageAfter(input:{pageId:$pageId siblingId:$siblingId}){page{id}}}`,l=o.ZP`mutation MovePageAppendMutation($pageId:ID!$parentId:ID!){movePageAppend(input:{pageId:$pageId parentId:$parentId}){page{id}}}`,c=o.ZP`mutation MovePageBeforeMutation($pageId:ID!$siblingId:ID!){movePageBefore(input:{pageId:$pageId siblingId:$siblingId}){page{id}}}`,g=o.ZP`mutation MovePageTopLevelMutation($pageId:ID!$spaceKey:String!){movePageTopLevel(input:{pageId:$pageId targetSpaceKey:$spaceKey}){page{id}}}`,p=()=>{const[e]=(0,r.Db)(d),[t]=(0,r.Db)(c),[a]=(0,r.Db)(l),[o]=(0,r.Db)(g);return{movePage:(0,s.useCallback)((async s=>{const r=e=>t=>{let{data:a}=t,s=(0,n.Z)(t,["data"]);return(0,i.Z)((0,i.Z)({},s),{},{data:void 0===a?void 0:{mutationResult:e(a)}})};return"parentId"in s?a({variables:{pageId:s.pageId,parentId:s.parentId}}).then(r((e=>e.movePageAppend))):"spaceKey"in s?o({variables:{pageId:s.pageId,spaceKey:s.spaceKey}}).then(r((e=>e.movePageTopLevel))):"after"===s.positionToSibling?e({variables:{pageId:s.pageId,siblingId:s.siblingId}}).then(r((e=>e.movePageAfter))):t({variables:{pageId:s.pageId,siblingId:s.siblingId}}).then(r((e=>e.movePageBefore)))}),[e,a,t,o])}}},587090:(e,t,a)=>{"use strict";a.d(t,{q:()=>i,c:()=>n});const i="VIRTUAL_ROOT_ID",n="VIRTUAL_LOCAL_ROOT_ID"},758105:(e,t,a)=>{"use strict";a.d(t,{U:()=>i});const i=new(a(259873).EventBus)},745454:(e,t,a)=>{"use strict";a.d(t,{h:()=>n});var i=a(812949);const n=e=>((0,i.k)(e),null)},812949:(e,t,a)=>{"use strict";a.d(t,{k:()=>s});var i=a(122551),n=a(758105);const s=({event:e,callback:t,contentId:a})=>{(0,i.useEffect)((()=>{const i=n.U.on(e,(async i=>{for(const r of i)if(r.contentId===a)try{await t(i);break}catch(s){n.U.stream([{type:"reload-error",event:e}])}}));return()=>n.U.off(e,i)}),[e,a])}},590726:(e,t,a)=>{"use strict";a.d(t,{h:()=>n});var i=a(602722);const n=e=>((0,i.t)(e),null)},602722:(e,t,a)=>{"use strict";a.d(t,{t:()=>s});var i=a(122551),n=a(90995);const s=e=>{const{contentId:t,registerReloader:a}=(0,i.useContext)(n.qC);(0,i.useEffect)((()=>{a(e)}),[t,e.reload,e.name])}},271128:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});let i="undefined"!=typeof window&&window.__SSR_FEATURE_FLAGS__||{};function n(e){return e in i?i[e]:null}},694881:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=(i=a(122551))&&i.__esModule?i:{default:i},s=a(386056);const r=e=>n.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17H5V7h1V5H5a2 2 0 00-2 2v10a2 2 0 002 2h1v-2zm13-6.995V19H9V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H9a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));r.displayName="DocumentsIcon";var o=r;t.default=o},425431:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=(i=a(122551))&&i.__esModule?i:{default:i},s=a(386056);const r=e=>n.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="10" cy="8" r="1"/><circle cx="14" cy="8" r="1"/><circle cx="10" cy="16" r="1"/><circle cx="14" cy="16" r="1"/><circle cx="10" cy="12" r="1"/><circle cx="14" cy="12" r="1"/></g></svg>'},e));r.displayName="DragHandlerIcon";var o=r;t.default=o},658350:(e,t,a)=>{"use strict";a.d(t,{d:()=>n});var i=a(472783);const n=(e,t,a)=>{const{tree:n,itemRemoved:s}=(0,i.cu)(e,t);return(0,i.d3)(n,a,s)}}}]);
//# sourceMappingURL=95563.T2LSJdgHWz.js.map