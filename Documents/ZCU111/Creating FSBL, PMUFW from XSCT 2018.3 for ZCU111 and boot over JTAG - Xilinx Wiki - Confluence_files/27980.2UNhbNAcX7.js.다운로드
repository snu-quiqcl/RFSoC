"use strict";(self._cf=self._cf||[]).push([[27980],{457733:(e,t,r)=>{r.r(t),r.d(t,{CustomHeaderFooter:()=>b});var s=r(122551),a=r(923813),n=r(89557),l=r(806297),o=r(170915),c=r(464984),u=r(603494),d=r(883383),m=r(612642),f=r(335320),i=r(131436),y=r(325834),p=r(526770),E=r(188358),h=r(684528),_=r(588745),Z=r(991332),g=r(415911),v=r(358280);r(743887),r(114486),r(663035),r(521089),r(406634),r(765526),r(964045),r(749592),r(698297),r(593940),r(410258),r(416473);const M=(0,s.forwardRef)(((e,t)=>{let{as:r="div",style:a}=e,n=(0,g.Z)(e,["as","style"]);return s.createElement(r,(0,Z.Z)((0,Z.Z)({},n),{},{style:a,ref:t,className:(0,v.Z)(["_19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qo7ao _u5f3gktf _n3tdo7ao _19bvgktf",n.className])}))}));const A=(0,s.forwardRef)(((e,t)=>{let{as:r="div",style:a}=e,n=(0,g.Z)(e,["as","style"]);return s.createElement(r,(0,Z.Z)((0,Z.Z)({},n),{},{style:a,ref:t,className:(0,v.Z)(["_1skznkob",n.className])}))}));const H=(0,s.forwardRef)(((e,t)=>{let{as:r="div",style:a}=e,n=(0,g.Z)(e,["as","style"]);return s.createElement(r,(0,Z.Z)((0,Z.Z)({},n),{},{style:a,ref:t,className:(0,v.Z)(["_y3gn1h6o _1e0c1ule",n.className])}))}));const N=(0,s.forwardRef)(((e,t)=>{let{as:r="div",style:a}=e,n=(0,g.Z)(e,["as","style"]);return s.createElement(r,(0,Z.Z)((0,Z.Z)({},n),{},{style:a,ref:t,className:(0,v.Z)(["_19pk12am _y3gn1h6o _1e0c1ule",n.className])}))}));const k=(0,c.defineMessages)({unsupportedMacrosTitle:{id:"custom-header-footer.unsupported.macros.title",defaultMessage:"Unsupported macros"}}),w=(0,u.ZP)((({spaUnfriendlyMacros:e=[],type:t,js:r,css:a,html:n,intl:l})=>{const o=t===_.t.HEADER?H:N,c=s.createRef(),u=s.createRef(),{createAnalyticsEvent:Z}=(0,y._)();return(0,s.useEffect)((()=>{Z({type:"sendScreenEvent",data:{name:"customHeaderAndFooter",attributes:{type:t===_.t.HEADER?"header":"footer"}}}).fire()}),[Z,t]),(0,s.useEffect)((()=>{u.current&&c.current&&(0,p.n)().then((()=>{u.current&&(0,E.K)(u.current,r).then((()=>{c.current&&(0,h.V)(c.current)}))}))})),s.createElement(M,null,e.length?s.createElement(A,null,s.createElement(f.default,{primaryColor:(0,m.Z)("color.icon.warning",i.zx),label:l.formatMessage(k.unsupportedMacrosTitle)}),s.createElement(d.Z,{id:"custom-header-footer.unsupported.macros.list",defaultMessage:"The following macros are not currently supported in the {type}:",values:{type:t}}),s.createElement("ul",null,e.map((e=>e&&e.name&&s.createElement("li",{key:e.name},e.name))))):null,s.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),s.createElement(o,{"data-test-id":`custom-settings-${t}`,dangerouslySetInnerHTML:{__html:n},ref:c}),s.createElement("div",{ref:u}))}));const R=r(331377).ZP`query CustomHeaderAndFooterQuery($spaceKey:String){space(key:$spaceKey){id settings{customHeaderAndFooter{header{html js css spaUnfriendlyMacros{name}}footer{html js css spaUnfriendlyMacros{name}}}}}}`;function b({type:e}){return s.createElement(l.S,{attribution:o.x.BACKBONE},s.createElement(n.z1.Consumer,null,(({spaceKey:t,contentId:r})=>s.createElement(a.AE,{query:R,variables:{spaceKey:t}},(({loading:t,error:a,data:n})=>{var l,o,c;const u=null==n||null===(l=n.space)||void 0===l||null===(o=l.settings)||void 0===o||null===(c=o.customHeaderAndFooter)||void 0===c?void 0:c[e];return t||a||null==u||!u.html?null:s.createElement(w,{spaUnfriendlyMacros:Array.from(new Set(u.spaUnfriendlyMacros)),type:e,css:u.css,js:u.js,html:u.html,key:r})})))))}b.displayName="CustomHeaderFooter"}}]);
//# sourceMappingURL=27980.2UNhbNAcX7.js.map