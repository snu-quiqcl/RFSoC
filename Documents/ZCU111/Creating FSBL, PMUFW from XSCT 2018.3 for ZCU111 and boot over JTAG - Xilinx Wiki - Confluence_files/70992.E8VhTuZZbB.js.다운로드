(self._cf=self._cf||[]).push([[70992],{170250:(e,t,r)=>{var n=r(725719);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},904408:e=>{e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},330472:e=>{e.exports=function(e,t,r,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}},454203:(e,t,r)=>{var n=r(115525),o=r(87371)(n);e.exports=o},697729:e=>{e.exports=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},115525:(e,t,r)=>{var n=r(799344),o=r(550477);e.exports=function(e,t){return e&&n(e,t,o)}},725719:(e,t,r)=>{var n=r(697729),o=r(999079),a=r(545324);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,o,r)}},999079:e=>{e.exports=function(e){return e!=e}},105535:e=>{e.exports=function(e,t,r,n,o){return o(e,(function(e,o,a){r=n?(n=!1,e):t(r,e,o,a)})),r}},935813:(e,t,r)=>{var n=r(630652),o=r(170250),a=r(904408),i=r(788370),d=r(939752),c=r(439363);e.exports=function(e,t,r){var s=-1,l=o,u=e.length,f=!0,v=[],I=v;if(r)f=!1,l=a;else if(u>=200){var y=t?null:d(e);if(y)return c(y);f=!1,l=i,I=new n}else I=t?[]:v;e:for(;++s<u;){var p=e[s],h=t?t(p):p;if(p=r||0!==p?p:0,f&&h==h){for(var m=I.length;m--;)if(I[m]===h)continue e;t&&I.push(h),v.push(p)}else l(I,h,r)||(I!==v&&I.push(h),v.push(p))}return v}},87371:(e,t,r)=>{var n=r(452608);e.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var a=r.length,i=t?a:-1,d=Object(r);(t?i--:++i<a)&&!1!==o(d[i],i,d););return r}}},939752:(e,t,r)=>{var n=r(215867),o=r(231307),a=r(439363),i=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=i},545324:e=>{e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},231307:e=>{e.exports=function(){}},957646:(e,t,r)=>{var n=r(330472),o=r(454203),a=r(420879),i=r(105535),d=r(591413);e.exports=function(e,t,r){var c=d(e)?n:i,s=arguments.length<3;return c(e,a(t,4),r,s,o)}},219167:(e,t,r)=>{var n=r(818114),o=r(957857),a=r(935813),i=r(830104),d=o((function(e){return a(n(e,1,i,!0))}));e.exports=d},686319:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});const n=r(331377).ZP`query EditorContentStateQuery($contentId:ID!$isDraft:Boolean!){singleContent(id:$contentId){id contentState(isDraft:$isDraft){id name color}}availableContentStates(contentId:$contentId){customContentStates{name color id}spaceContentStates{name color id}}}`},523344:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(331377),o=r(146740);const a=n.ZP`query ConfluenceDraftQuery($contentId:ID!$status:[String]!)@SLA{content(id:$contentId status:$status){nodes{...contentAppearanceDraftFragment id type status title body{atlas_doc_format{value}}}}}${o.t}`},436786:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=r(331377);const o=n.ZP`fragment emojiTitleInnerFragment on PaginatedJsonContentPropertyList{nodes{id key value version{number}}}`,a=n.ZP`query getEmojiTitleProperty($contentId:ID$status:[String]$draftShareId:String$skipPublishedFragment:Boolean!){content(id:$contentId draftShareId:$draftShareId status:$status){nodes{id emojiTitlePublished:properties(key:"emoji-title-published")@skip(if:$skipPublishedFragment){...emojiTitleInnerFragment}emojiTitleDraft:properties(key:"emoji-title-draft"){...emojiTitleInnerFragment}}}}${o}`},860315:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(902195);const o=e=>(0,n.j)(e,"404")},452892:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(331377).ZP`query NativeCollabProviderQuery($accountId:ID){user(id:$accountId){id displayName photos{value isPrimary}}}`},798532:(e,t,r)=>{"use strict";r.d(t,{_:()=>o,A:()=>a});var n=r(907721);const o=e=>0===(null==e?void 0:e.indexOf("CREATE_")),a=e=>o(e)||n.Iw.includes(e)},907721:(e,t,r)=>{"use strict";r.d(t,{r8:()=>n,Bp:()=>o,Dc:()=>a,Yc:()=>i,Zy:()=>d,AD:()=>c,QI:()=>s,s5:()=>l,vQ:()=>u,Ae:()=>f,y_:()=>v,SR:()=>I,ub:()=>y,sP:()=>p,bl:()=>h,cZ:()=>m,Iw:()=>b});const n="confluence.frontend.tiny.editor.remove.fabric.preloaders",o="PAGE_EDIT_BUTTON_CLICK",a="BLOG_EDIT_BUTTON_CLICK",i="SPACE_EDIT_BUTTON_CLICK",d="PAGE_EDIT_SHORTCUT_E",c="BLOG_EDIT_SHORTCUT_E",s="SPACE_EDIT_SHORTCUT_E",l="NAVIGATION_RECENT_DROPDOWN_EDIT_BUTTON_CLICK",u="confluence.frontend.preload.tiny.js",f="PAGECARD_EDIT_BUTTON_CLICK",v="QUICK_ACTIONS_EDIT_BUTTON_CLICK",I="CREATE_PAGE_SHORTCUT",y="CREATE_NAV_BUTTON_CLICK",p="CREATE_PAGETREE_BLOG_BUTTON_CLICK",h="CREATE_PAGETREE_CHILDPAGE_BUTTON_CLICK",m="CREATE_PAGETREE_PAGE_BUTTON_CLICK",b=[l,f,"PAGECARD_DRAFT_EDIT_BUTTON_CLICK",v]},984314:(e,t,r)=>{"use strict";r.d(t,{xA:()=>a,tY:()=>i,I$:()=>d});var n=r(315677),o=r(697912);const a=async({contentId:e,createAnalyticsEvent:t})=>{const r=(0,n.WQ)(),a=performance.now(),i=await r.query({query:o.V,variables:{contentId:e},fetchPolicy:"cache-first",context:{single:"true"}});return t&&((e,{queryLoadTime:t,contentId:r})=>{e({type:"sendOperationalEvent",data:{action:"fetchEditorTypeAndVersionPropertyQuery",actionSubject:"nativeEditor",source:"confluenceFrontend",objectId:r,attributes:{queryLoadTime:t}}}).fire()})(t,{queryLoadTime:performance.now()-a,contentId:e}),null==i?void 0:i.data},i=e=>{var t,r,n,o,a,i,d;const c=null==e||null===(t=e.content)||void 0===t||null===(r=t.nodes)||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.editor)||void 0===o||null===(a=o.edges)||void 0===a||null===(i=a[0])||void 0===i||null===(d=i.node)||void 0===d?void 0:d.value;return'"v2"'===c||"v2"===c},d=e=>{var t,r,n;return(null==e||null===(t=e.content)||void 0===t||null===(r=t.nodes)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.type)||null}},886404:(e,t,r)=>{"use strict";r.d(t,{v:()=>P});var n=r(439754),o=r(616158),a=r(83914);function i(e,t){return(0,n.I)({query:a.x,variables:{contentId:e,status:["current","draft"],draftShareId:t}})}var d=r(436786);const c=(e,t)=>(0,n.I)({query:d.G,variables:{contentId:e,draftShareId:t,status:["current","draft"],skipPublishedFragment:!1}});var s=r(686319);function l(e){return(0,n.I)({query:s.r,variables:{contentId:e,isDraft:!0}})}var u=r(365332),f=r(551029);var v=r(800487),I=r(159605),y=r(101569);var p=r(991332),h=r(523344),m=r(32459),b=r(936647),_=r(452892);const S=r(331377).ZP`query embeddedPropertyPreloadQuery($contentId:ID$draftShareId:String){content(id:$contentId status:["current" "draft"]draftShareId:$draftShareId){nodes{id metadata{frontend{embedded}}}}}`;var E=r(480287);const g=(0,o.j)("load-edit-page");async function P({contentId:e,spaceKey:t,userId:r},o,a=!0,d=!1,s=!1,P=!1){g.debug`Calling preloadEditorData ${performance.now()/1e3} for ${{preloadSynchronyData:a,preloadNativeCollabData:d,preloadEmbeddedEditorData:s}}`;const T=(0,u.e)(),C=[(0,n.I)({query:I.q})];a&&C.push(function(e,t){return(0,n.I)({query:v.$,variables:{contentId:e,docFormat:"atlas_doc_format",status:["current","draft"],draftShareId:(0,u.e)()},fetchPolicy:"network-only",context:t})}(e,o),function(e){return(0,n.I)({query:y.O,variables:{spaceKey:e}})}(t),(e=>(0,n.I)({query:f.x,variables:{contentId:e,status:["current","draft"]}}))(e),function(e){return(0,n.I)({query:E.G,variables:{contentId:e}})}(e)),d&&e&&C.push(function(e,t){return(0,n.I)({query:h.M,variables:{contentId:e,status:["draft"]},fetchPolicy:t?"cache-first":"network-only"})}(e,P),function(e,t,r){return(0,n.I)({query:m.U,variables:(0,p.Z)({contentId:e},t&&{draftShareId:t}),fetchPolicy:r?"cache-first":"network-only",context:{single:"true"}})}(e,T,P),function(e,t,r,o){return(0,n.I)({query:b.z,variables:(0,p.Z)((0,p.Z)({contentId:e},t&&{draftShareId:t}),{},{status:null!=o?o:["draft","current"]}),fetchPolicy:r?"cache-first":"network-only",context:{single:"true"}})}(e,T,P),function(e,t){return(0,n.I)({query:_.T,variables:{accountId:e},fetchPolicy:t?"cache-first":"network-only",context:{single:"true"}})}(r,P)),s&&e&&C.push(function(e,t,r){return(0,n.I)({query:S,variables:(0,p.Z)({contentId:e},t&&{draftShareId:t}),fetchPolicy:r?"cache-first":"network-only"})}(e,T,P));const $=await Promise.all(C),L=await Promise.all([c(e,T),i(e,T),l(e)]);return g.debug`preloadEditorData complete ${performance.now()/1e3}`,[...$,...L]}},697912:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});const n=r(331377).ZP`query EditorTypeAndVersionPropertyQuery($contentId:ID){content(id:$contentId status:["current" "draft"]){nodes{id type editor:properties(key:"editor"){edges{node{id value}}}}}}`},480287:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});const n=r(331377).ZP`query ContentEditorBindingsQuery($contentId:ID){content(id:$contentId){nodes{id metadata{frontend{migratedRecently}}space{id name}}}}`},507181:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var n=r(991332),o=r(185858),a=r(704951);const i=(0,o.M)({initialState:(0,n.Z)({},{editSource:""}),actions:{setEditSource:e=>({setState:t})=>{t({editSource:e})}},name:"setEditSource"}),d=(0,a.Bi)(i)},32459:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});const n=r(331377).ZP`query getCollabServiceWithMigrationQuery($contentId:ID$draftShareId:String)@SLA{content(id:$contentId status:["current" "draft"]draftShareId:$draftShareId){nodes{id metadata{frontend{collabServiceWithMigration}}}}}`},936647:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});const n=r(331377).ZP`query NativeCollabQuery($contentId:ID$draftShareId:String$status:[String])@SLA{content(id:$contentId draftShareId:$draftShareId status:$status){nodes{id type status version{number}history{createdBy{displayName}}}}}`},185263:(e,t,r)=>{"use strict";r.d(t,{H0:()=>n,Tl:()=>o,fB:()=>a,qy:()=>i,LD:()=>d,Mc:()=>c});const n="confluence.frontend.collab.ncs.enabled",o="confluence.frontend.collab.ncs.recovery",a="confluence.frontend.page-share-and-permissions",i="confluence.frontend.ncs.disconnected.delay.ms",d="confluence.frontend.load.ncs.data.on.hover",c="confluence.frontend.ignore.errors"},883701:(e,t,r)=>{"use strict";r.d(t,{b:()=>f,t:()=>u});var n=r(991332),o=r(315677),a=r(207976),i=r(152675),d=r(32459);const c=r(331377).ZP`query getCollabServiceQuery($contentId:ID$draftShareId:String)@SLA{content(id:$contentId status:["current" "draft"]draftShareId:$draftShareId){nodes{id metadata{frontend{collabService}}}}}`;var s=r(213489),l=r(860315);const u=async({contentId:e,draftShareId:t,createAnalyticsEvent:r,useCache:a=!1})=>{const u=(0,o.WQ)(),I=performance.now();let y,p,h,m=0;try{p=await u.query({query:d.U,variables:(0,n.Z)({contentId:e},t&&{draftShareId:t}),fetchPolicy:a?"cache-first":"network-only",context:{single:"true"}}),y=f(p.data)}catch(L){if((0,s.T)(L)||(0,l.X)(L))throw L;h=L}if(!y){var b,_,S,E,g,P,T;let r;try{r=await u.query({query:c,variables:(0,n.Z)({contentId:e},t&&{draftShareId:t}),fetchPolicy:"network-only",context:{single:"true"}})}catch(L){if((0,s.T)(L)||(0,l.X)(L))throw L;h=L}y=null===(b=r)||void 0===b||null===(_=b.data)||void 0===_||null===(S=_.content)||void 0===S||null===(E=S.nodes)||void 0===E||null===(g=E[0])||void 0===g||null===(P=g.metadata)||void 0===P||null===(T=P.frontend)||void 0===T?void 0:T.collabService,m++}var C,$;r&&(((e,{queryLoadTime:t,contentId:r,numRetries:n})=>{e({type:"sendOperationalEvent",data:{action:"timed",actionSubject:"fetchCollabServiceProperty",source:"editorLoad",objectId:r,attributes:{queryLoadTime:t,numRetries:n}}}).fire()})(r,{queryLoadTime:performance.now()-I,contentId:e,numRetries:m}),y||((e,{contentId:t,queryRes:r,extraAttributes:o})=>{var a;e({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"fetchCollabServiceProperty",source:"editorLoad",objectId:t,attributes:(0,n.Z)({resultData:null!==(a=JSON.stringify(null==r?void 0:r.data))&&void 0!==a?a:JSON.stringify(null==r?void 0:r.errors)},o)}}).fire()})(r,{contentId:e,queryRes:p,extraAttributes:{useCache:a,errorMessage:(0,i.rs)(null===(C=h)||void 0===C?void 0:C.message),errorStack:(0,i.rs)(null===($=h)||void 0===$?void 0:$.stack)}}));if(!y)try{y=await v({contentId:e,draftShareId:t})}catch(h){if(r&&((e,{contentId:t,error:r})=>{e({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"fetchCollabServiceProperty.rest.fallback",source:"editorLoad",objectId:t,attributes:(0,n.Z)({},r.message?{error:r.message}:{})}}).fire()})(r,{contentId:e,error:h}),(0,l.X)(h))throw h}return y},f=e=>{var t,r,n,o,a;return null==e||null===(t=e.content)||void 0===t||null===(r=t.nodes)||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.metadata)||void 0===o||null===(a=o.frontend)||void 0===a?void 0:a.collabServiceWithMigration},v=async({contentId:e,draftShareId:t})=>{const r=await(0,a.y)(`/wiki/rest/api/content/${e}?status=current&status=draft&expand=metadata.frontend.collabService${t?`&draftShareId=${t}`:""}`),{metadata:{frontend:{collabService:n}}}=await r.json();return n}},851574:(e,t,r)=>{"use strict";let n;r.d(t,{_:()=>n}),function(e){e.NCS="ncs",e.SYNCHRONY="synchrony"}(n||(n={}))},83914:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});const n=r(331377).ZP`query CoverPictureQuery($contentId:ID$status:[String]$draftShareId:String){content(id:$contentId draftShareId:$draftShareId status:$status){nodes{id properties(keys:["cover-picture-id-draft" "cover-picture-id-published"]){nodes{id key value version{number}}}}}}`},439754:(e,t,r)=>{"use strict";r.d(t,{I:()=>d});var n=r(991332),o=r(997811),a=r(57230),i=r(297828);function d({query:e,variables:t,fetchPolicy:r="cache-first",context:d}){const c=(0,i.r)(e),s=window.GLOBAL_APOLLO_CLIENT;let l;if(window.GLOBAL_GQL&&"string"==typeof e&&(e=window.GLOBAL_GQL(e)),"string"==typeof e){if(!c)return Promise.resolve(i.i)}else{if(!s)return Promise.resolve(i.i);if(l={query:e,variables:t,errorPolicy:"all",fetchPolicy:r,context:(0,n.Z)({single:!0},d)},!c)return s.query(l)}return(0,a.E)().load({name:c,variables:t},(()=>l?s.query(l):fetch(`/cgraphql?q=QueryPreloader_${c}`,(0,o.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,n.Z)({"X-APOLLO-OPERATION-NAME":c,"Content-Type":"application/json"},d&&d.headers),body:JSON.stringify({query:e,variables:t})})).then((e=>e.ok?e.json():i.i)).catch((()=>i.i))))}},297828:(e,t,r)=>{"use strict";r.d(t,{i:()=>o,r:()=>i});const n=/query\s+(\w+).*?\{/,o={data:null};function a(e){return"OperationDefinition"===e.kind}function i(e){var t;if("string"!=typeof e)return null===(t=(e.definitions||[]).filter(a).map((e=>e.name)).filter((e=>null!=e))[0])||void 0===t?void 0:t.value;{const t=e.match(n);if(t)return t[1]}}},365332:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});const n=()=>new URLSearchParams(window.location.search.substring(1)).get("draftShareId")||""},152675:(e,t,r)=>{"use strict";r.d(t,{rs:()=>o,Q4:()=>a});class n{constructor(e){this.value=e,this.valueOf=this.toString=this.toJSON=()=>this.value}}const o=e=>new n(e),a=(...e)=>t=>e.includes(t)?Object.freeze(new n(t)):t},170472:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,k:()=>i});var n=r(984994);const o="confluence.fabric.editor.download",a=async()=>{(0,n.Cd)(`${o}.start`);const e=await Promise.all([r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(89990),r.e(12953),r.e(61201),r.e(97996),r.e(91306),r.e(52140),r.e(45442),r.e(1054),r.e(43101),r.e(33079),r.e(82985),r.e(46810),r.e(80256),r.e(13156),r.e(41780),r.e(51514),r.e(52364),r.e(1235),r.e(11385),r.e(90052),r.e(26495),r.e(12557),r.e(97027),r.e(83353),r.e(71627),r.e(74333),r.e(45533),r.e(9602),r.e(49286)]).then(r.bind(r,809430));return(0,n.Cd)(`${o}.end`),e},i=()=>Promise.all([r.e(61769),r.e(99096),r.e(45116)]).then(r.bind(r,956106))},229265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(28201).ZR)({__loadable_id__:"TDCDG",name:"packages.confluence-fabric-editor.src.components.FullPageEditorWrapper.FullPageEditorWrapperLoader",loader:()=>Promise.all([r.e(12705),r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(96207),r.e(99319),r.e(28201),r.e(38639),r.e(15677),r.e(17774),r.e(18683)]).then(r.bind(r,37023))})},332734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(28201).ZR)({__loadable_id__:"6GhdA",name:"packages.confluence-fabric-editor.src.components.ContentEditorBindings.ContentEditorBindingsLoader.ts",loader:()=>Promise.all([r.e(12705),r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(82985),r.e(46810),r.e(26572),r.e(49655),r.e(20484),r.e(99096),r.e(75100),r.e(58157),r.e(79774)]).then(r.bind(r,229388))})},26214:(e,t,r)=>{"use strict";r.d(t,{O:()=>o,w:()=>a});var n=r(28201);const o=(0,n.ZR)({__loadable_id__:"Z4eXx",name:"EditPageLoader",loader:()=>Promise.all([r.e(12705),r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(89990),r.e(12953),r.e(17774),r.e(71779),r.e(94500)]).then(r.bind(r,525139))}),a=(0,n.ZR)({__loadable_id__:"0eOll",name:"EditPageDataLoaderLoader",loader:()=>Promise.all([r.e(61769),r.e(20484),r.e(99096),r.e(75100),r.e(58157),r.e(21217)]).then(r.bind(r,592650))})},647279:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(28201).ZR)({__loadable_id__:"QBuEe",name:"packages.confluence-fabric-editor.src.components.EditPageBrowserTitle.EditPageBrowserTitleLoader.ts",loader:()=>Promise.all([r.e(78248),r.e(54936),r.e(11216),r.e(96207),r.e(28201),r.e(84786),r.e(64364)]).then(r.bind(r,741183))})},970179:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(28201).ZR)({__loadable_id__:"p8q6l",name:"packages.confluence-fabric-editor.src.components.EditorBreadcrumbs.EditorBreadcrumbsLoader.ts",loader:()=>Promise.all([r.e(12705),r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(52364),r.e(20484),r.e(2277),r.e(36691)]).then(r.bind(r,674800))})},763797:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(28201).ZR)({__loadable_id__:"wE_O2",name:"packages.confluence-fabric-editor.src.components.FullPageEditor.FullPageEditorLoader.ts",loader:()=>Promise.all([r.e(12705),r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(89990),r.e(12953),r.e(61201),r.e(97996),r.e(91306),r.e(46003),r.e(52140),r.e(45442),r.e(1054),r.e(43101),r.e(33079),r.e(85606),r.e(80241),r.e(86888),r.e(49149),r.e(82985),r.e(46810),r.e(80256),r.e(13156),r.e(41780),r.e(51514),r.e(80776),r.e(17774),r.e(79551),r.e(76701),r.e(76530),r.e(52364),r.e(33839),r.e(1235),r.e(71913),r.e(58874),r.e(41232),r.e(19129),r.e(68948),r.e(26572),r.e(64288),r.e(59029),r.e(33763),r.e(17912),r.e(13353),r.e(93824),r.e(82848),r.e(39002),r.e(80969),r.e(69708),r.e(54283),r.e(12595),r.e(92337),r.e(67922),r.e(24333),r.e(45203),r.e(6794),r.e(31557)]).then(r.bind(r,475203))})},910959:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});const n=(0,r(28201).ZR)({__loadable_id__:"QPsuu",name:"TinyEditPageDataLoaderLoader",loader:()=>Promise.all([r.e(61769),r.e(20484),r.e(99096),r.e(75100),r.e(58157),r.e(21217)]).then(r.bind(r,417540))})},970992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getEditorPreloader:()=>P});var n=r(122551),o=r(499082),a=r(325834),i=r(483565),d=r(158466),c=r(886404);const s=({contentId:e,spaceKey:t})=>{const r="NO_PARENT_PRODUCTS"!==(0,i.hS)("confluence.frontend.embedded-confluence.enable.migration"),{userId:o}=(0,d.D)();return(0,n.useEffect)((()=>{(async()=>{await(0,c.v)({contentId:e,spaceKey:t,userId:o},null,!1,!0,r)})()}),[e,t,o,r]),null};var l=r(697912),u=r(984314),f=r(907721),v=r(798532),I=r(185263),y=r(32459),p=r(883701),h=r(851574),m=r(507181),b=r(857318),_=r(487587),S=r(26214),E=r(910959);const g=({contentId:e,spaceKey:t,isEmbeddedEditor:d})=>{const c=performance.now(),{createAnalyticsEvent:g}=(0,a._)(),P=(0,i.TW)(I.Tl),T=(0,i.TW)(I.LD),C=(0,i.TW)(f.r8),$=(0,i.TW)("confluence.frontend.home-recent-preloading"),L=(0,i.TW)(I.H0),w=(0,i.TW)(f.vQ),[{editSource:O}]=(0,m.L)(),D=(0,v._)(O),A=(0,v.A)(O),q=!C||d||D||!e,Z=P||d||D||!e,{data:R,loading:x,error:N}=(0,o.aM)(l.V,{variables:{contentId:e},context:$?void 0:{single:"true"},skip:q}),{data:k,loading:B,error:j}=(0,o.aM)(y.U,{variables:{contentId:e},context:$?void 0:{single:"true"},skip:Z}),G=q||!x,Q=Z||!B,U=P||d||(0,p.b)(k)===h._.NCS||L&&D,K=!U&&(Z||!!j||(0,p.b)(k)===h._.SYNCHRONY);let F=!0,W=null;q||x||(F=!!N||(0,u.tY)(R),W=N?W:(0,u.I$)(R));const M=()=>{g({type:"sendOperationalEvent",data:{actionSubject:"editor",action:"preloader.timing",source:"editorPreloader",attributes:{timing:performance.now()-c,collabService:U?"ncs":"synchrony",isFabricEditor:F,contentId:e}}}).fire()};return(0,n.useEffect)((()=>{Promise.all([r.e(61769),r.e(78248),r.e(54936),r.e(11216),r.e(96207),r.e(63152)]).then(r.bind(r,508882)).then((({getPubSubClient:e})=>e())),G&&(F?Q&&(U?(0,_.l1)().then((()=>{M()})):K&&(0,b.Z)().then((()=>{M()}))):(0,_.bJ)({shouldLoadTinyDataLoader:C,shouldLoadTinyJS:w}).then((()=>{M()})))}),[k,R,U,K,F]),D||!e||A?null:G&&!F?n.createElement(E.D,{contentId:e,contentType:W}):G&&Q&&K?n.createElement(S.w,{contentId:e,spaceKey:t,draftShareId:""}):T&&G&&Q&&U?n.createElement(s,{contentId:e,spaceKey:t}):null},P=()=>(e,t,r)=>n.createElement(g,{contentId:e,spaceKey:t,isEmbeddedEditor:r})},857318:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(229265),o=r(332734),a=r(170472),i=r(647279),d=r(970179),c=r(763797),s=r(26214),l=r(487587),u=r(917068),f=r(185263);const v=(0,u.g)();async function I(e=!1){const t=await v,{featureFlags:r}=t;if(r[f.H0]&&((0,l.l1)(),r[f.Tl]||e))return;const u=[void(0,a.c)(),void(0,a.k)(),void n.Z.preload(),void o.Z.preload(),void i.Z.preload(),void d.Z.preload(),void c.Z.preload(),void s.O.preload(),void s.w.preload()];Promise.all(u)}},984994:(e,t,r)=>{"use strict";r.d(t,{w8:()=>s,Cd:()=>l});r(957646);var n=r(219167),o=r.n(n),a=r(550477),i=r.n(a),d=r(724421),c=r.n(d);const s=(e,t,r=[])=>{if(e===t)return!0;const n=o()(i()(e),i()(t));for(const o of n)if(!(r.indexOf(o)>=0)&&e[o]!==t[o])return!1;return!0},l=e=>{c().performance&&c().performance.mark(e)}}}]);
//# sourceMappingURL=70992.E8VhTuZZbB.js.map