(self._cf=self._cf||[]).push([[86108],{170250:(e,a,l)=>{var t=l(725719);e.exports=function(e,a){return!!(null==e?0:e.length)&&t(e,a,0)>-1}},904408:e=>{e.exports=function(e,a,l){for(var t=-1,n=null==e?0:e.length;++t<n;)if(l(a,e[t]))return!0;return!1}},697729:e=>{e.exports=function(e,a,l,t){for(var n=e.length,r=l+(t?1:-1);t?r--:++r<n;)if(a(e[r],r,e))return r;return-1}},725719:(e,a,l)=>{var t=l(697729),n=l(999079),r=l(545324);e.exports=function(e,a,l){return a==a?r(e,a,l):t(e,n,l)}},999079:e=>{e.exports=function(e){return e!=e}},935813:(e,a,l)=>{var t=l(630652),n=l(170250),r=l(904408),o=l(788370),s=l(939752),d=l(439363);e.exports=function(e,a,l){var i=-1,c=n,u=e.length,b=!0,p=[],m=p;if(l)b=!1,c=r;else if(u>=200){var v=a?null:s(e);if(v)return d(v);b=!1,c=o,m=new t}else m=a?[]:p;e:for(;++i<u;){var f=e[i],y=a?a(f):f;if(f=l||0!==f?f:0,b&&y==y){for(var g=m.length;g--;)if(m[g]===y)continue e;a&&m.push(y),p.push(f)}else c(m,y,l)||(m!==p&&m.push(y),p.push(f))}return p}},939752:(e,a,l)=>{var t=l(215867),n=l(231307),r=l(439363),o=t&&1/r(new t([,-0]))[1]==1/0?function(e){return new t(e)}:n;e.exports=o},545324:e=>{e.exports=function(e,a,l){for(var t=l-1,n=e.length;++t<n;)if(e[t]===a)return t;return-1}},231307:e=>{e.exports=function(){}},724260:(e,a,l)=>{var t=l(818114),n=l(420879),r=l(957857),o=l(935813),s=l(830104),d=l(659945),i=r((function(e){var a=d(e);return s(a)&&(a=void 0),o(t(e,1,s,!0),n(a,2))}));e.exports=i},286108:(e,a,l)=>{"use strict";l.r(a),l.d(a,{LabelsSelect:()=>Se});var t=l(991332),n=l(415911),r=l(962285),o=l(358280),s=l(122551),d=l(464984),i=l(883383),c=l(524798),u=l(612642),b=l(229154),p=l(138504),m=l(865518),v=l(131436),f=l(171945),y=l(325834),g=l(57198),h=l(973369),Z=l(28201),L=l(186483),E=l(259220),_=l(499082),I=l(197728),x=l.n(I),w=l(724260),C=l.n(w),M=l(26011),S=l.n(M),P=l(451379),k=l(199319),T=l(158466),R=l(315677),N=l(401487),Q=l(954510),D=l.n(Q);const V=/\[messageKey=((?:\w|\.)+){1},\s*args=\[((?:.)+)?\]\]\]/;function $(e){let a="",l="";const t=[];if("object"==typeof e&&e.message&&(a=e.message),"string"==typeof a&&a.indexOf("messageKey")>=0&&V.test(a)){const e=V.exec(a);l=e[1];const n=e[2]?e[2].split(","):[];n&&(t[0]=D()(n),t[1]=n.slice(1).join(", "))}return{message:a,messageKey:l,args:t}}var A=l(15648),O=l(331377);const j=O.ZP`query LabelSearchQuery($contentId:ID!$searchText:String!){contentLabelSearch(contentId:$contentId searchText:$searchText){suggestedLabels{prefix name id label}otherLabels{prefix name id label}}}`,F=O.ZP`mutation AddLabelsMutation($contentId:ID!$labels:[LabelInput!]!){addLabels(input:{contentId:$contentId labels:$labels}){labels{count nodes{id prefix name label}}}}`,q=O.ZP`mutation DeleteLabelMutation($contentId:ID!$label:String!){deleteLabel(input:{contentId:$contentId label:$label}){contentId label}}`,K=O.ZP`query LabelsQuery($contentId:ID!$refetchQuery:Boolean!$status:[String]){content(id:$contentId status:$status){nodes{id type operations@skip(if:$refetchQuery){operation targetType}space{id}labels(orderBy:{sortField:LABELLING_CREATIONDATE direction:ASCENDING}){count nodes{id label name prefix}}}}}`,B=O.ZP`query RecommendedLabelsQuery($contentId:ID!$spaceId:ID){getRecommendedLabels(entityId:$contentId entityType:"page" spaceId:$spaceId){recommendedLabels{id name namespace strategy}}}`,z=(0,d.defineMessages)({suggestedLabels:{id:"labels.use-labels-select-props.suggested-labels",defaultMessage:"Suggested labels"}}),U=e=>{const a=e.replace(/^my:/,"");return a.match(A.xd)?"labelsValidationInvalidCharacter":a.match(/^~/)?"labelsValidationTilde":a.length>255?"labelsValidationLength":""},W=e=>/No label found with name/.test($(e).message),Y=(e="")=>{var a;return null===(a=e.match(/my|global|team/))||void 0===a?void 0:a[0]},G=e=>"my:favourite"===e||"my:favorite"===e,H=(e,a)=>(e||[]).filter((e=>(null==e?void 0:e.prefix)===a)),X=(e,a)=>`${e&&"global"!==e?`${e}:`:""}${a}`,J=e=>{var a;return null==e||null===(a=e.getRecommendedLabels)||void 0===a?void 0:a.recommendedLabels},ee=e=>a=>{const l=X(a.prefix,a.label);return{id:a.id,label:l,value:l,prefix:a.prefix,name:a.name,strategy:e}},ae=e=>{const a=X(e.namespace,e.name);return{id:e.id,label:a,value:a,prefix:e.namespace,name:e.name,strategy:"recommended",subStrategy:e.strategy}},le=({contentId:e,source:a,onUpdateSuccess:l})=>{var n,r,o,d,i,u,b,m,v,f,g;const{createAnalyticsEvent:h}=(0,y._)(),Z=(0,s.useContext)(P.F),{featureFlagClient:L,activationId:E}=(0,T.D)(),[I,w]=(0,s.useState)(""),[M,Q]=(0,s.useState)(""),D=L.getBooleanValue("confluence.frontend.add.labels.recommendations",{default:!1,shouldTrackExposureEvent:!0}),{data:V,loading:O,error:X}=(0,_.aM)(K,{variables:{contentId:e,refetchQuery:!1,status:A.sY},fetchPolicy:"cache-and-network"}),le=(0,s.useMemo)((()=>{return(e=V)?((null==e||null===(a=e.content)||void 0===a||null===(l=a.nodes)||void 0===l||null===(t=l[0])||void 0===t||null===(n=t.labels)||void 0===n?void 0:n.nodes)||[]).map(ee("current")).filter((({label:e})=>!G(e))):[];var e,a,l,t,n}),[V]),te=null==V||null===(n=V.content)||void 0===n||null===(r=n.nodes)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.type,ne=null==V||null===(d=V.content)||void 0===d||null===(i=d.nodes)||void 0===i||null===(u=i[0])||void 0===u||null===(b=u.space)||void 0===b?void 0:b.id,re=!(null!=V&&null!==(m=V.content)&&void 0!==m&&null!==(v=m.nodes)&&void 0!==v&&null!==(f=v[0])&&void 0!==f&&null!==(g=f.operations)&&void 0!==g&&g.find((e=>"update"===(null==e?void 0:e.operation)&&(null==e?void 0:e.targetType)===te)));(0,s.useEffect)((()=>{!O&&h({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"labels",containerId:ne,containerType:"space",objectId:e,objectType:te,source:a,attributes:{count:{global:H(le,"global").length,personal:H(le,"my").length,total:le.length}}}}).fire()}),[O,le,ne,e,te,a,h]);const[oe,{error:se}]=(0,_.Db)(F,{update(a,{data:{addLabels:l}}){var t,n;const r=a.readQuery({query:K,variables:{contentId:e,refetchQuery:!1,status:A.sY}});if(null!=r&&null!==(t=r.content)&&void 0!==t&&null!==(n=t.nodes)&&void 0!==n&&n[0]&&null!=l&&l.labels){var o;const t=C()(null===(o=r.content.nodes[0].labels)||void 0===o?void 0:o.nodes,l.labels.nodes,"id");r.content.nodes[0].labels={count:t.length,nodes:t,__typename:"PaginatedLabelList"},a.writeQuery({query:K,variables:{contentId:e,refetchQuery:!1,status:A.sY},data:r})}},onCompleted:()=>{l&&l()}}),de=(0,s.useCallback)(((a,{data:l})=>{var n,r,o,s,d,i,c,u;const b=a.readQuery({query:K,variables:{contentId:e,refetchQuery:!1,status:A.sY}});if(null!=b&&null!==(n=b.content)&&void 0!==n&&null!==(r=n.nodes)&&void 0!==r&&null!==(o=r[0])&&void 0!==o&&null!==(s=o.labels)&&void 0!==s&&s.nodes&&null!=(null==b||null===(d=b.content)||void 0===d||null===(i=d.nodes)||void 0===i||null===(c=i[0])||void 0===c||null===(u=c.labels)||void 0===u?void 0:u.count)){const n=b.content.nodes[0].labels.nodes.filter((e=>{var a;return(null==e?void 0:e.label)!==(null==l||null===(a=l.deleteLabel)||void 0===a?void 0:a.label)}));a.writeQuery({query:K,variables:{contentId:e,refetchQuery:!1,status:A.sY},data:{content:{nodes:[(0,t.Z)((0,t.Z)({},b.content.nodes[0]),{},{labels:{nodes:n,count:n.length,__typename:"PaginatedLabelList"}})],__typename:"PaginatedContentListWithChild"}}})}}),[e]),[ie,{error:ce}]=(0,_.Db)(q,{update:de,onCompleted:()=>{l&&l()}}),ue=W(ce)?void 0:ce,[be,{data:pe,loading:me,error:ve}]=(0,_.td)(j,{onCompleted:()=>{Z.succeed({name:k.Ts0})},onError:e=>{(e=>/Unexpected status code 403/.test($(e).message))(e)&&((0,N.Xb)(e),Z.abort({name:k.Ts0,reason:"User was logged out"})),Z.fail({error:e,name:k.Ts0})}}),[fe,{data:ye,loading:ge}]=(0,_.td)(B,{variables:{contentId:e,spaceId:ne},onCompleted:l=>{Z.succeed({name:k.KD});const t=J(l);t&&h({type:"sendTrackEvent",data:{action:"shown",actionSubject:"labelRecommendations",source:a,containerId:ne,containerType:"space",objectId:e,objectType:te,attributes:{count:null==t?void 0:t.length}}}).fire()},onError:e=>{Z.fail({error:e,name:k.KD})}}),he=(0,s.useCallback)((()=>{D&&"page"===te&&!re&&(Z.start({name:k.KD}),fe())}),[D,te,Z,fe,re]),Ze=J(ye),Le=(({searchLabelQueryResults:e,recommendedLabelsQueryResults:a,hasInput:l})=>{const t=(0,c.Z)();return(0,s.useMemo)((()=>{if(l){var n,r;const a=((null==e||null===(n=e.contentLabelSearch)||void 0===n?void 0:n.otherLabels)||[]).map(ee("searched_other"));return[...((null==e||null===(r=e.contentLabelSearch)||void 0===r?void 0:r.suggestedLabels)||[]).map(ee("searched_suggested")),...a]}{const e=(J(a)||[]).map(ae);return[{label:t.formatMessage(z.suggestedLabels),options:e}]}}),[e,a,l,t])})({searchLabelQueryResults:pe,recommendedLabelsQueryResults:ye,hasInput:Boolean(M)}),Ee=(0,s.useMemo)((()=>S()(be,150,{leading:!0})),[be]),_e=(0,s.useCallback)((({action:l,labels:t})=>{t.map((({id:t,name:n,prefix:r,strategy:o,subStrategy:s})=>{const d=null==Ze?void 0:Ze.findIndex((({id:e})=>e===t));let i;var c;d>=0&&(i=d,null!==(c=o)&&void 0!==c&&c.startsWith("searched")&&(o="recommended_searched",s=Ze[d].strategy));h({type:"sendTrackEvent",data:{action:l,actionSubject:"label",source:a,objectType:te,objectId:e,containerType:"space",containerId:ne,attributes:{contentId:e,labelId:t,strategy:o,subStrategy:s,isNewLabel:"newly_created"===o,privacySafeLabelPrefix:Y(r),activationId:E,recommendedCount:null==Ze?void 0:Ze.length,hasRecommendations:!(null==Ze||!Ze.length),recommendedRanking:i},nonPrivacySafeAttributes:{labelName:n,labelPrefix:r}}}).fire()}))}),[te,a,e,ne,h,E,Ze]),Ie=(0,s.useCallback)((async a=>{Z.start({name:k.Sz0});try{var l,t,n,r,o,s,d,i;await oe({variables:{labels:[{name:a.name,prefix:a.prefix}],contentId:e},optimisticResponse:{addLabels:{__typename:"AddLabelsPayload",labels:{__typename:"PaginatedLabelList",count:((null==V||null===(l=V.content)||void 0===l||null===(t=l.nodes)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.labels)||void 0===r?void 0:r.count)||0)+1,nodes:[...(null==V||null===(o=V.content)||void 0===o||null===(s=o.nodes)||void 0===s||null===(d=s[0])||void 0===d||null===(i=d.labels)||void 0===i?void 0:i.nodes)||[],{__typename:"Label",id:a.id,prefix:a.prefix,name:a.name,label:a.name}]}}}}),Z.succeed({name:k.Sz0}),_e({action:"add",labels:[a]})}catch(c){Z.fail({error:c,name:k.Sz0})}}),[Z,oe,V,_e,e]),xe=(0,s.useCallback)((async a=>{Z.start({name:k.CZ5});try{var l,t,n,r,o,s,d,i,c,u;const{data:b}=await oe({variables:{labels:[{name:a.value,prefix:""}],contentId:e},optimisticResponse:{addLabels:{__typename:"AddLabelsPayload",labels:{__typename:"PaginatedLabelList",count:((null==V||null===(l=V.content)||void 0===l||null===(t=l.nodes)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.labels)||void 0===r?void 0:r.count)||0)+1,nodes:[...(null==V||null===(o=V.content)||void 0===o||null===(s=o.nodes)||void 0===s||null===(d=s[0])||void 0===d||null===(i=d.labels)||void 0===i?void 0:i.nodes)||[],{name:a.value,prefix:"",__typename:"Label",id:x()(),label:a.value}]}}}});Z.succeed({name:k.CZ5}),_e({action:"add",labels:((null==b||null===(c=b.addLabels)||void 0===c||null===(u=c.labels)||void 0===u?void 0:u.nodes)||[]).map(ee("newly_created")).filter((({value:e})=>a.value===e))})}catch(b){Z.fail({error:b,name:k.CZ5})}}),[Z,oe,V,_e,e]),we=(0,s.useCallback)((async a=>{const l={deleteLabel:{__typename:"DeleteLabelPayload",contentId:e,label:null==a?void 0:a.name}};if(a){Z.start({name:k.u7L});try{await ie({variables:{label:a.name,contentId:e},optimisticResponse:l}),Z.succeed({name:k.u7L}),_e({action:"deleted",labels:[a]})}catch(t){W(t)?((0,N.Xb)(t),de((0,R.WQ)(),{data:l}),Z.abort({name:k.u7L,reason:"label already deleted"})):Z.fail({error:t,name:k.u7L})}}}),[Z,ie,_e,e,de]),Ce=(0,s.useCallback)((()=>{he(),h({type:"sendTrackEvent",data:{action:"open",actionSubject:"labelsSelect",source:a,containerId:ne,containerType:"space",objectId:e,objectType:te,attributes:{isRecommendationsEnabled:D}}}).fire()}),[a,ne,e,te,h,D,he]),Me=me||ge;return{options:Me?[]:Le,value:O?[]:le,filterOption:({value:e})=>!ve&&(0,p.c)({})&&!G(e)&&!U(e),onChange:async(e,{action:a,option:l,removedValue:t})=>{a===A.MF.SELECT_OPTION?Ie(l):a===A.MF.CREATE_OPTION?xe(l):a!==A.MF.REMOVE_VALUE&&a!==A.MF.POP_VALUE||we(t)},onMenuOpen:Ce,onInputChange:a=>{const l=U(a);w(l),Q(a.toLowerCase().replace(/\s/g,"-")),Boolean(a)?(Z.start({name:k.Ts0}),I||Ee({variables:{searchText:a,contentId:e}})):he()},inputValue:M,isLoading:Me,isDisabled:re,labelsQueryLoading:O,labelsQueryError:X,labelsMutationError:se||ue,labelsSearchQueryError:ve,validationError:I,fetchRecommendedLabels:he}};var te=l(892637),ne=l(250630);l(456928),l(167767),l(525286),l(683559),l(354326),l(816583),l(355958),l(234119),l(527354),l(991532),l(873933),l(370306),l(144961),l(413076),l(66777),l(563952);const{ValueContainer:re,Input:oe,Control:se,MultiValueContainer:de,MultiValueLabel:ie,Option:ce}=b.c,ue=(0,Z.ui)({__loadable_id__:"aFYo2",name:"LabelsQueryErrorDisplayLoader",loader:async()=>(await Promise.all([l.e(61769),l.e(78248),l.e(54936),l.e(11216),l.e(46003),l.e(98689)]).then(l.bind(l,695201))).LabelsQueryErrorDisplay}),be=(0,Z.ui)({__loadable_id__:"1ThvE",name:"LabelsMutationErrorDisplayLoader",loader:async()=>(await Promise.all([l.e(61769),l.e(78248),l.e(54936),l.e(11216),l.e(46003),l.e(98689)]).then(l.bind(l,695201))).LabelsMutationErrorDisplay}),pe=(0,Z.ui)({__loadable_id__:"IbGu1",name:"LabelsValidationErrorLoader",loader:async()=>(await Promise.all([l.e(61769),l.e(78248),l.e(54936),l.e(11216),l.e(46003),l.e(98689)]).then(l.bind(l,695201))).LabelsValidationError}),me=(0,d.defineMessages)({inputPlaceholder:{id:"labels.labels-select.input-placeholder",defaultMessage:"Search or create a label"},createNewLabel:{id:"labels.labels-select.create-new-label",defaultMessage:"Create new label"},labelAlreadyAddedMessage:{id:"labels.labels-select.create-new-label-already-added",defaultMessage:"{inputValue} was already added to the page"},labelSearchErrorMessage:{id:"labels.labels-select.labels-search-error",defaultMessage:"Suggestions aren't loading. Try writing it again or refresh the page."},addLabelPlaceholder:{id:"labels.view-page-labels.placeholder",defaultMessage:"Add label"}}),ve=(0,s.forwardRef)(((e,a)=>{let{as:l="span",style:d}=e,i=(0,n.Z)(e,["as","style"]);return s.createElement(l,(0,t.Z)((0,t.Z)({},i),{},{style:(0,t.Z)((0,t.Z)({},d),{},{"--_1rfcblr":(0,r.Z)((0,u.Z)("color.background.inverse.subtle",v.IR)),"--_ypa99r":(0,r.Z)((0,u.Z)("color.background.inverse.subtle.pressed",v.uv))}),ref:a,className:(0,o.Z)(["_1e0c1o8l _k48p1nn1 _1wybdlk8 _vwz4gktf _ca0qidpf _u5f31y44 _n3tdidpf _19bv1y44 _2rko1l7b _bfhkkcr1 _1d26da8q",i.className])}))}));const fe=(0,s.forwardRef)(((e,a)=>{let{as:l="div",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(l,(0,t.Z)((0,t.Z)({},d),{},{style:r,ref:a,className:(0,o.Z)(["_1e0c1txw _zulpftgi",d.className])}))}));const ye=(0,s.forwardRef)(((e,a)=>{let{as:l="div",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(l,(0,t.Z)((0,t.Z)({},d),{},{style:r,ref:a,className:(0,o.Z)(["_1o9zidpf",d.className])}))}));const ge={valueContainer:e=>(0,t.Z)((0,t.Z)({},e),{},{paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",display:"flex"}),group:e=>(0,t.Z)((0,t.Z)({},e),{},{paddingTop:"0"}),groupHeading:e=>(0,t.Z)((0,t.Z)((0,t.Z)({},e),(0,f.qm)()),{},{marginTop:"0",marginBottom:"8px"}),multiValueLabel:e=>(0,t.Z)((0,t.Z)({},e),{},{fontWeight:400,fontSize:"14px",lineHeight:"20px",paddingLeft:"4px",paddingRight:"2px",padding:0,maxWidth:"400px",overflow:"hidden",textOverflow:"ellipsis"}),multiValue:e=>(0,t.Z)((0,t.Z)({},e),{},{margin:"4px",backgroundColor:(0,u.Z)("color.background.neutral",v.IR),"&:hover, &:focus-within":{backgroundColor:(0,u.Z)("color.background.neutral.pressed",v.uv)},"&:hover .labels__multi-value__label span":{backgroundColor:(0,u.Z)("color.background.neutral.pressed",v.uv)},borderRadius:"3px","&:hover a, &:focus-within a":{textDecoration:"none"},pointerEvents:"auto",overflow:"hidden",flexDirection:"row-reverse","div:hover + div":{backgroundColor:(0,u.Z)("color.background.accent.red.subtler",v.Xd)},"a > .labels__multi-value__label":{color:(0,u.Z)("color.text",v.q2)}}),option:e=>(0,t.Z)((0,t.Z)({},e),{},{width:"max-content",minWidth:"100%"}),input:e=>(0,t.Z)((0,t.Z)({},e),{},{input:{fontFamily:"inherit","::placeholder":{color:(0,u.Z)("color.text.subtle",v.iw)},width:"auto !important"},maxWidth:0})},he=e=>e?{control:e=>(0,t.Z)((0,t.Z)({},e),{},{"&:hover, &:focus, &:active, &:focus-within":{borderColor:(0,u.Z)("color.border.inverse","white")},"&:focus-within, :hover":{borderColor:(0,u.Z)("color.border.inverse","white")},cursor:"default !important",borderWidth:"0px"}),multiValueLabel:e=>(0,t.Z)((0,t.Z)({},e),{},{paddingRight:"4px"})}:{},Ze=e=>{let{children:a}=e,l=(0,n.Z)(e,["children"]);const{isFocused:r}=l;return s.createElement(se,(0,t.Z)({},l),s.Children.map(a,(e=>(null==e?void 0:e.type)===Ie?(0,s.cloneElement)(e,{isFocused:r}):e)))};Ze.displayName="CustomControl";const Le=(0,s.forwardRef)(((e,a)=>{let{as:l="div",style:d}=e,i=(0,n.Z)(e,["as","style"]);return s.createElement(l,(0,t.Z)((0,t.Z)({},i),{},{style:(0,t.Z)((0,t.Z)({},d),{},{"--_1b5y5cj":(0,r.Z)((0,u.Z)("color.text.subtle",v.iw))}),ref:a,className:(0,o.Z)(["_syaz1fw9",i.className])}))}));const Ee=(0,s.forwardRef)(((e,a)=>{let{as:l="div",style:r}=e,d=(0,n.Z)(e,["as","style"]);return s.createElement(l,(0,t.Z)((0,t.Z)({},d),{},{style:r,ref:a,className:(0,o.Z)(["_1e0c1txw _4cvr1h6o",d.className])}))}));const _e=()=>s.createElement(Ee,null,s.createElement(h.default,{label:""}),s.createElement(i.Z,(0,t.Z)({},me.addLabelPlaceholder)));_e.displayName="AddLabelPlaceholder";const Ie=e=>{let{children:a,isFocused:l}=e,r=(0,n.Z)(e,["children","isFocused"]);return s.createElement(re,(0,t.Z)({},r),s.Children.map(a,(e=>(null==e?void 0:e.type)===xe?(0,s.cloneElement)(e,{isFocused:l}):e)),s.createElement(Le,null,l?null:r.selectProps.placeholder))};Ie.displayName="CustomValueContainer";const xe=e=>{let{isFocused:a}=e,l=(0,n.Z)(e,["isFocused"]);const r=(0,c.Z)();return s.createElement(oe,(0,t.Z)((0,t.Z)({},l),{},{placeholder:a?r.formatMessage(me.inputPlaceholder):void 0}))};xe.displayName="CustomInput";const we=e=>{let{children:a}=e,l=(0,n.Z)(e,["children"]);return s.createElement(de,(0,t.Z)({},l),s.Children.toArray(a).reverse())};we.displayName="CustomMultiValueContainer";const Ce=e=>{let{spaceKey:a,source:l}=e,r=(0,n.Z)(e,["spaceKey","source"]);const{createAnalyticsEvent:o}=(0,y._)(),d=(0,s.useCallback)((()=>{o({type:"sendUIEvent",data:{action:"clicked",actionSubject:"label",source:l,attributes:{privacySafePrefix:Y(r.data.prefix)}}}).fire()}),[l,r.data.prefix,o]);return s.createElement("div",{onMouseDown:e=>e.stopPropagation()},s.createElement(g.Z,{content:String(r.data.value).length>=50?r.data.value:""},(e=>s.createElement("a",(0,t.Z)((0,t.Z)({href:`/wiki/label/${a}/${r.data.value}`},e),{},{onClick:d}),s.createElement(ie,(0,t.Z)({},r))))))};Ce.displayName="CustomMultiValueLabel";const Me=e=>{let{children:a}=e,l=(0,n.Z)(e,["children"]);const{data:{__isNew__:r},value:o}=l;return s.createElement(ce,(0,t.Z)({},l),r?s.createElement(fe,null,s.createElement(ye,null,s.createElement(i.Z,(0,t.Z)({},me.createNewLabel))),s.createElement(ve,null,o)):s.createElement(ve,null,o))};Me.displayName="CustomOption";const Se=(0,s.forwardRef)(((e,a)=>{let{contentId:l,source:r,experienceName:o,components:d,styles:i,spaceKey:u,forwardedRef:b,isInDialog:v,onUpdateSuccess:f}=e,y=(0,n.Z)(e,["contentId","source","experienceName","components","styles","spaceKey","forwardedRef","isInDialog","onUpdateSuccess"]);const g=le({contentId:l,source:r,onUpdateSuccess:f}),{isDisabled:h,labelsQueryLoading:Z,labelsQueryError:_,labelsMutationError:I,labelsSearchQueryError:x,validationError:w,fetchRecommendedLabels:C}=g,M=(0,n.Z)(g,["isDisabled","labelsQueryLoading","labelsQueryError","labelsMutationError","labelsSearchQueryError","validationError","fetchRecommendedLabels"]),S=(0,c.Z)();return s.createElement(s.Fragment,null,_?s.createElement(ue,{experienceName:o,error:_}):v||!Z?s.createElement("div",{onMouseEnter:C},s.createElement(m.Z,(0,t.Z)((0,t.Z)({components:(0,t.Z)((0,t.Z)((0,t.Z)({DropdownIndicator:null,Placeholder:()=>null,Control:Ze},!h&&{ValueContainer:Ie}),{},{Input:xe,MultiValueContainer:we,MultiValueLabel:e=>s.createElement(Ce,(0,t.Z)({spaceKey:u,source:r},e))},h&&{MultiValueRemove:()=>null}),{},{Option:Me},d),ref:a,noOptionsMessage:({inputValue:e})=>(e=>!e||G(e)||w?null:x?S.formatMessage(me.labelSearchErrorMessage):S.formatMessage(me.labelAlreadyAddedMessage,{inputValue:e}))(e),styles:(0,p.m)(ge,(0,p.m)(he(Boolean(h)),i||{})),isClearable:!1,openMenuOnClick:!0,"aria-label":S.formatMessage(me.addLabelPlaceholder),isSearchable:!h,closeMenuOnSelect:!1,defaultOptions:!0,isMulti:!0,classNamePrefix:"labels",placeholder:s.createElement(_e,null),validationState:w?"error":"default"},M),y)),I&&s.createElement(be,{error:I}),w&&s.createElement(pe,{error:w,input:M.inputValue}),!Z&&s.createElement(L.F,{name:o}),"viewPage"==r&&s.createElement(E.M,{metric:ne.H})):s.createElement(te.O,null))}))},973369:(e,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t,n=(t=l(122551))&&t.__esModule?t:{default:t},r=l(386056);const o=e=>n.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7a1 1 0 00-2 0v4H7a1 1 0 000 2h4v4a1 1 0 002 0v-4h4a1 1 0 000-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="EditorAddIcon";var s=o;a.default=s}}]);
//# sourceMappingURL=86108.H1XfsqpqWk.js.map