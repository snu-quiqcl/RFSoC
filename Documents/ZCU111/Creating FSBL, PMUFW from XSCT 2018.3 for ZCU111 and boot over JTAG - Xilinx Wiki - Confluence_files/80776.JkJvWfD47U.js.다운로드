"use strict";(self._cf=self._cf||[]).push([[80776],{194782:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});const i=t(380776),n=t(930484),s=t(79055),o=";v=",u="[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}",p=[s.pattern(new RegExp(`^${u}$`,"i"))],c=[s.pattern(new RegExp(`^(${u}|static)$`,"i"))];class a{constructor(e){this.json=e,this.validate()}get appId(){return this.json.appId}get environmentId(){return this.json.environmentId}get version(){return this.json.version}get extensionGroupId(){return this.json.extensionGroupId}get extensionKey(){return this.json.extensionKey}toJSON(){return this.json}static parse(e){const{resourceOwner:r,resourceType:t,resourceId:n}=e;if(r!==i.AppFamilyAri.resourceOwner)throw new i.NotAppFamilyAriError(e,`resourceOwner (${r}) must be ${i.AppFamilyAri.resourceOwner}`);if(!t||i.AppFamilyAri.appFamilyResourceTypes.indexOf(t)<0)throw new i.NotAppFamilyAriError(e,`resourceType must be one of ${i.AppFamilyAri.appFamilyResourceTypes}`);if(!n)throw new i.NotAppFamilyAriError(e,"resourceId is must be provided");const s=n.indexOf(o);if(s>0&&n.lastIndexOf(o)>s)throw new i.NotAppFamilyAriError(e,"can only include one version suffix");const[u,p]=n.split(o),c=u.split("/").map(d);if(c.length>4)throw new i.NotAppFamilyAriError(e,`no path segments can be added after extensionKey ${c.slice(4)}`);const[l,h,A,y]=c;if(!l)throw new i.NotAppFamilyAriError(e,"appId must be included");const m=A||(t===i.AppFamilyAri.extensionGroupResourceType||t===i.AppFamilyAri.extensionResourceType?"static":void 0);if(!(t!==i.AppFamilyAri.extensionResourceType||h&&A&&y))throw new i.NotAppFamilyAriError(e,`environmentId, extensionGroupId, extensionKey must all be provided for resourceType ${i.AppFamilyAri.extensionResourceType}`);if(!(t!==i.AppFamilyAri.extensionGroupResourceType||h&&m&&!y))throw new i.NotAppFamilyAriError(e,`environmentId, extensionGroupId must all be provided for resourceType ${i.AppFamilyAri.extensionGroupResourceType}`);if(t===i.AppFamilyAri.environmentResourceType&&(!h||A||y))throw new i.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${i.AppFamilyAri.environmentResourceType}`);if(t===i.AppFamilyAri.appResourceType&&(h||A||y))throw new i.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${i.AppFamilyAri.environmentResourceType}`);return new a({appId:l,environmentId:h,extensionGroupId:m,extensionKey:y,version:p})}asAppAri(){return this.returnIf((()=>this.isAppAri()),"app")}asAppEnvironmentAri(){return this.returnIf((()=>this.isAppEnvironmentAri()),"environment")}asExtensionGroupAri(){return this.returnIf((()=>this.isExtensionGroupAri()),"extension-group")}asExtensionAri(){return this.returnIf((()=>this.isExtensionAri()),"extension")}isAppAri(){return!this.isAtLeastAppEnvironmentAri}isAppEnvironmentAri(){return this.isAtLeastAppEnvironmentAri&&!this.isAtLeastExtensionGroupAri}isExtensionGroupAri(){return this.isAtLeastExtensionGroupAri&&!this.isExtensionAri()}isExtensionAri(){return this.isAtLeastExtensionGroupAri&&void 0!==this.extensionKey}returnIf(e,r){if(!e())throw new i.NotExpectedAppFamilyAriTypeError(r,this);return this}get isAtLeastAppEnvironmentAri(){return void 0!==this.environmentId}get isAtLeastExtensionGroupAri(){return this.isAtLeastAppEnvironmentAri&&void 0!==this.extensionGroupId}validate(){const e=[s.validateField(this,"environmentId",p),s.validateField(this,"appId",p),s.validateField(this,"extensionGroupId",c)].filter((e=>e));if(e.length>0)throw n.InvalidAriError.withConstraintViolations(this.toString(),e)}toAri(){const e=i.AppFamilyAri.resourceOwner,{appId:r,environmentId:t,extensionGroupId:s,extensionKey:o,version:u}=this.toJSON();function p(e){const r=e.join("/");return u?`${r};v=${u}`:r}return this.isExtensionAri()?new n.ResourceIdentifier({resourceOwner:e,resourceType:i.AppFamilyAri.extensionResourceType,resourceId:p([r,t,s,o])}):this.isExtensionGroupAri()?new n.ResourceIdentifier({resourceOwner:e,resourceType:i.AppFamilyAri.extensionGroupResourceType,resourceId:p([r,t,s])}):this.isAppEnvironmentAri()?new n.ResourceIdentifier({resourceOwner:e,resourceType:i.AppFamilyAri.environmentResourceType,resourceId:p([r,t])}):new n.ResourceIdentifier({resourceOwner:e,resourceType:i.AppFamilyAri.appResourceType,resourceId:r})}toString(){return this.toAri().toString()}}function d(e){if(!e)return;const r=e.trim();return 0!==r.length?r:void 0}r.AppFamilyAriImpl=a},380776:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});const i=t(194782);!function(e){e.resourceOwner="ecosystem",e.appResourceType="app",e.environmentResourceType="environment",e.extensionGroupResourceType="extension-group",e.extensionResourceType="extension",e.appFamilyResourceTypes=[e.appResourceType,e.environmentResourceType,e.extensionGroupResourceType,e.extensionResourceType]}(r.AppFamilyAri||(r.AppFamilyAri={}));class n extends Error{constructor(e,r){super(e),this.cause=r}}r.AppFamilyAriError=n;r.NotAppFamilyAriError=class extends n{constructor(e,r){super(`ari is not a valid App family ari: ${e.toString()} as ${r}`),this.reason=r}};r.NotExpectedAppFamilyAriTypeError=class extends n{constructor(e,r,t){super(`App family ari (${r.toString()}) is not of expected type: ${e}`,t),this.cause=t}},r.parseAppAri=function(e){return i.AppFamilyAriImpl.parse(e)},r.createAppAri=function(e){return new i.AppFamilyAriImpl(e)}},79055:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});const i=t(124302);class n{constructor(e,r){this.min=e,this.max=r}get description(){return`length must be between ${this.min} and ${this.max}`}isValid(e){return!e||e.length>=this.min&&e.length<=this.max}}r.LengthConstraint=n;class s{constructor(e){this.regex=e}get description(){return`value must match regex ${this.regex.source}`}isValid(e){return!e||this.regex.test(e)}}r.RegexConstraint=s;r.GeneralValidationError=class{constructor(e){this.error=e}toString(){return this.error}};class o{constructor(e,r,t){this.fieldName=e,this.value=r,this.constraints=t}toString(){const e=this.constraints.map((e=>`  - ${e.description}`)).join("\n");return`'${this.value}' is not a valid value for ${this.fieldName} as it violates the following constraints:\n${e}`}}r.ConstraintViolation=o,r.lengthBetween=function(e,r){return new n(e,r)},r.pattern=function(e){return new s(e)},r.validateField=function(e,r,t){const n=e[r],s=t.map((e=>e.isValid(n)?void 0:e)).filter(i.isDefined);return s.length>0?new o(r,n,s):void 0}},930484:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});const i=t(349656),n=t(79055);i.__exportStar(t(380776),r);class s extends Error{constructor(e,r){super(`Invalid ari string: ${e}${r?". "+r:""}`),this.ariString=e,Object.setPrototypeOf(this,s.prototype)}static withConstraintViolations(e,r){return new s(e,r.map((e=>e.toString())).join("\n"))}}function o(e,r){return e===r||void 0===e}r.InvalidAriError=s;const u=n.pattern(/^[a-z][a-z.-]*$/),p=n.pattern(/^[a-z][a-z.-]*$/i),c=[n.lengthBetween(3,255),u],a=[n.lengthBetween(3,255),p],d=[n.lengthBetween(3,255)],l="site",h=/[\w-._~:@#]/.source,A=[n.pattern(new RegExp(`^${h}+(/${h}*)*(;v=${h}*)*$`))];class y{get cloudId(){return this.resourceType===l?this.internalCloudId?this.internalCloudId:this.resourceId:this.internalCloudId}constructor(e){const{resourceId:r,resourceOwner:t,resourceType:i,cloudId:n}=function(e){const{resourceId:r,resourceOwner:t,cloudId:i}=e;return!r&&i?{resourceOwner:t,resourceType:l,resourceId:i}:e}(e);this.resourceOwner=t,this.internalCloudId=n,this.resourceType=i,this.resourceId=r,this.validate()}static parse(e){if(!e)throw new s(e);const r=e.match(/^ari:cloud:([^:/]+):([^:/]*):([^:/]*)\/(.*)$/);if(!r||5!==r.length)throw new s(e);const t=r.map((e=>e&&e.length>0?e:void 0)),i=t[1];if(!i)throw new s(e);return new y({resourceOwner:i,cloudId:t[2],resourceType:t[3],resourceId:t[4]})}static parseEncoded(e){return m(decodeURIComponent(e))}toString(){if(!this.ariString){const e=this.resourceType===l&&this.internalCloudId?this.internalCloudId:this.resourceId||"",r=this.resourceType||"",t=this.resourceType===l?"":this.internalCloudId||"";this.ariString=`ari:cloud:${this.resourceOwner}:${t}:${r}/${e}`}return this.ariString}toJSON(){return this.toString()}equals(e){return e instanceof y&&this.resourceOwner===e.resourceOwner&&this.cloudId===e.cloudId&&this.resourceType===e.resourceType&&this.resourceId===e.resourceId}contains(e){return this.matches(new y(e))}matches(e){return o(this.resourceOwner,e.resourceOwner)&&o(this.cloudId,e.cloudId)&&(this.resourceType===l&&!!e.resourceType||o(this.resourceType,e.resourceType))&&(this.resourceType===l&&!!e.resourceType||o(this.resourceId,e.resourceId))}validateSiteWide(){const{resourceType:e,cloudId:r}=this;if(e===l&&!r)return new n.GeneralValidationError("site wide ARIs must have a cloudId")}validate(){const e=[n.validateField(this,"resourceOwner",c),n.validateField(this,"resourceType",a),n.validateField(this,"resourceId",A),n.validateField(this,"cloudId",d),this.validateSiteWide()].filter((e=>e));if(e.length>0)throw s.withConstraintViolations(this.toString(),e);if(void 0!==this.resourceId&&void 0===this.resourceType)throw new s(this.toString(),"The resource type must be specified if the resource id is defined.")}urlEncode(){return encodeURIComponent(this.toString())}urlDecode(){return decodeURIComponent(this.toString())}}function m(e){return y.parse(e)}r.ResourceIdentifier=y,r.parse=m,r.parseEncoded=function(e){return y.parseEncoded(e)}},124302:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.hasValueAtKey=r.hasPresentKey=r.isFilled=r.isDefined=r.isPresent=void 0,r.isPresent=function(e){return null!=e},r.isDefined=function(e){return void 0!==e},r.isFilled=function(e){return null!==e},r.hasPresentKey=function(e){return function(r){return void 0!==r[e]&&null!==r[e]}},r.hasValueAtKey=function(e,r){return function(t){return t[e]===r}}}}]);
//# sourceMappingURL=80776.JkJvWfD47U.js.map