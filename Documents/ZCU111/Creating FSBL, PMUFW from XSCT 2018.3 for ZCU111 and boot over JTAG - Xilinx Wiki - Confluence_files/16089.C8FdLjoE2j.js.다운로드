"use strict";(self._cf=self._cf||[]).push([[16089],{998805:(e,t,n)=>{n.r(t),n.d(t,{ProfileComponent:()=>L});var a=n(991332),l=n(415911),o=n(122551),s=n(358280),i=n(499082),r=n(464984),c=n(603494),d=n(915194),u=n(325834),p=n(452557),v=n(920818),g=n(953307),f=n(627490),m=n(362076);const y=e=>{const{tooltip:t}=e,n=(0,l.Z)(e,["tooltip"]);return o.createElement(m.h,(0,g.Z)({icon:o.createElement(f.default,{label:"string"==typeof t?t:"Sign-in Icon"}),tooltip:t},n))},h=m.h;var C=n(197996),A=n(824464),E=n(275513),b=n(199319),Z=n(772610),x=n(661315),M=n(940362),_=n(457872),I=n(529);var k=n(917465),N=n(309006),P=n(405665),H=n(28201),V=n(221831);n(638550),n(559627),n(464211);const w=`${k.b}/login.action?os_destination=${window.location.pathname.replace(k.b,"")}`,z=(0,r.defineMessages)({signIn:{id:"app-navigation.sign.in.tooltip",defaultMessage:"Sign In"},profile:{id:"app-navigation.profile.label",defaultMessage:"Your profile and preferences"}}),S=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,r=(0,l.Z)(e,["as","style"]);return o.createElement(n,(0,a.Z)((0,a.Z)({},r),{},{style:i,ref:t,className:(0,s.Z)(["_c71l132o",r.className])}))}));const O=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,r=(0,l.Z)(e,["as","style"]);return o.createElement(n,(0,a.Z)((0,a.Z)({},r),{},{style:i,ref:t,className:(0,s.Z)(["_1bsb14no _4t3i14no",r.className])}))}));const j=(0,H.ui)({__loadable_id__:"VqAcq",name:"ProfileMenuLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(25806),n.e(37176)]).then(n.bind(n,558947))).ProfileMenu}),T=(0,o.memo)((({intl:e,openDialog:t,isOpen:n,onClose:l,onClick:s})=>{const{match:r}=(0,o.useContext)(Z.M),{createAnalyticsEvent:c}=(0,u._)(),{data:g,loading:f}=(0,i.aM)(V.U),{isAnonymous:m,loading:k}=(0,o.useContext)(P.wu),H=(0,o.useCallback)((()=>{(0,E.OV)().abort({name:b.nPk,reason:"dropdown closed by user"}),l()}),[l]),T=(0,o.useCallback)((()=>{c({type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"login",attributes:{selectedItemPageContext:r?r.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:N.yo}}}).fire()}),[r,c]),L=(0,o.useCallback)((()=>{s(),n&&H(),c({type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"profile",attributes:{selectedItemPageContext:r?r.name:void 0,navigationLayer:"global",navVersion:"3",navdexPointType:N.yo}}}).fire()}),[n,H,s,r,c]),R=(0,o.useCallback)((()=>{Promise.all([(0,_.M)({location:I.I0})]),j.preload()}),[]);if(f||k)return o.createElement(O,null);if(m)return o.createElement("span",{"data-testid":"app-navigation-login",onClick:T},o.createElement(y,{tooltip:e.formatMessage(z.signIn),href:w}));{var U,q;const l=(null!=(q=g)?q.user:q)||{photos:[],displayName:null,id:null},s=null!=(U=l)&&null!=(U=U.photos)&&null!=(U=U[0])?U.value:U,i=l.displayName?l.displayName:null,r=o.createElement(C.Z,{src:s,size:"small"});return o.createElement(A.Z,{isOpen:n,onClose:H,offset:[14,0],content:({update:e})=>o.createElement(S,null,o.createElement(j,{onClose:H,dialogFn:t,scheduleUpdate:e})),trigger:t=>o.createElement("span",{"data-testid":"app-navigation-profile"},o.createElement(p.ZP,null,o.createElement(v.Z,{name:"nav-profile"},o.createElement(x.u,{metricName:M.EE},o.createElement(h,(0,a.Z)((0,a.Z)({},t),{},{icon:r,onClick:L,onFocus:R,onMouseEnter:R,tooltip:i,isSelected:n,"aria-label":e.formatMessage(z.profile),"aria-haspopup":!0,"aria-expanded":n})))),o.createElement(d.bH,{engagementId:"nav-profile"}))),placement:"bottom-end"})}})),L=(0,c.ZP)(T)},457872:(e,t,n)=>{n.d(t,{M:()=>o});var a=n(439754),l=n(870336);function o({location:e=null,contentId:t=null,spaceKey:n=null,version:o=null}={}){const s={location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:t,spaceKey:n,version:o};return(0,a.I)({query:l.W,variables:s})}},177690:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(29298),l=n(122551),o=n(64172),s=n.n(o),i=n(782380);const r={getAtlaskitAnalyticsContext:s().func,getAtlaskitAnalyticsEventHandlers:s().func},c=()=>[];class d extends l.Component{constructor(e){super(e),(0,a.Z)(this,"getChildContext",(()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext}))),(0,a.Z)(this,"getAnalyticsContext",(()=>{const{data:e}=this.props,{getAtlaskitAnalyticsContext:t=c}=this.context;return[...t(),e]})),(0,a.Z)(this,"getAnalyticsEventHandlers",(()=>{const{getAtlaskitAnalyticsEventHandlers:e=c}=this.context;return e()})),this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:e}=this.props;return l.createElement(i.Z.Provider,{value:this.contextValue},e)}}d.displayName="AnalyticsContext",(0,a.Z)(d,"contextTypes",r),(0,a.Z)(d,"childContextTypes",r);const u=d},652459:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(177690),l=n(122551),o=n(782380),s=n(300805),i=n(274317);const r=({data:e,children:t})=>{const n=(0,i.V)(e),a=(0,s.O)(),r=(0,l.useCallback)((()=>[...a.getAtlaskitAnalyticsContext(),n.current]),[a,n]),c=(0,l.useMemo)((()=>({getAtlaskitAnalyticsContext:r,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers})),[a,r]);return l.createElement(o.Z.Provider,{value:c},t)};var c;let d;d="undefined"!=typeof process&&null!==process&&null!==(c=process.env)&&void 0!==c&&c.ANALYTICS_NEXT_MODERN_CONTEXT?r:a.Z;const u=d},627658:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(991332),l=n(415911),o=n(953307),s=n(122551),i=n(652459);const r=e=>t=>{const n=(0,s.forwardRef)(((n,r)=>{let{analyticsContext:c}=n,d=(0,l.Z)(n,["analyticsContext"]);const u=(0,s.useMemo)((()=>(0,a.Z)((0,a.Z)({},e),c)),[c]);return s.createElement(i.Z,{data:u},s.createElement(t,(0,o.Z)({},d,{ref:r})))}));return n.displayName=`WithAnalyticsContext(${t.displayName||t.name})`,n}},78651:(e,t,n)=>{n.d(t,{Z:()=>a});const a=e=>t=>n=>{const a=n(t),l=a.clone();return l&&l.fire(e),a}},941117:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=(a=n(122551))&&a.__esModule?a:{default:a},o=n(386056);const s=e=>l.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M6 14c0-1.105.902-2 2.009-2h7.982c1.11 0 2.009.894 2.009 2.006v4.44c0 3.405-12 3.405-12 0V14z"/><circle cx="12" cy="7" r="4"/></g></svg>'},e));s.displayName="PersonIcon";var i=s;t.default=i},311933:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=(a=n(122551))&&a.__esModule?a:{default:a},o=n(386056);const s=e=>l.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M6 12h8v-2H6v2zM4 8.99C4 8.445 4.456 8 5.002 8h9.996C15.55 8 16 8.451 16 8.99V14H4V8.99z" fill-rule="nonzero"/><path d="M6 7.005C6 5.898 6.898 5 7.998 5h2.004C11.106 5 12 5.894 12 7.005V10H6V7.005zm4 0V7H7.999c.005 0 .002.003.002.005V8h2v-.995z"/><path d="M4.5 17h13.994l1.002-3H4.14l.36 3zm-2.495-4.012A.862.862 0 012.883 12h18.393c.55 0 .857.417.681.944l-1.707 5.112c-.174.521-.758.944-1.315.944H3.725a1.149 1.149 0 01-1.118-.988l-.602-5.024z" fill-rule="nonzero"/></g></svg>'},e));s.displayName="ShipIcon";var i=s;t.default=i},627490:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=(a=n(122551))&&a.__esModule?a:{default:a},o=n(386056);const s=e=>l.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M15.503 3H12v2h7v14h-7v2h7.006c1.1 0 1.994-.893 1.994-1.995V4.995A1.993 1.993 0 0019.006 3h-3.503z"/><path d="M3.977 11A.99.99 0 003 12.001c0 .551.437.999.977.999h11.047a.988.988 0 00.976-.999.99.99 0 00-.976-1.001H3.977z"/><path d="M12.303 8.305a1.053 1.053 0 000 1.478L14.5 12l-2.197 2.217a1.05 1.05 0 000 1.476c.404.409 1.06.409 1.465 0l2.93-2.955a1.055 1.055 0 000-1.477l-2.93-2.956a1.034 1.034 0 00-1.465 0z"/></g></svg>'},e));s.displayName="SignInIcon";var i=s;t.default=i}}]);
//# sourceMappingURL=16089.C8FdLjoE2j.js.map