"use strict";(self._cf=self._cf||[]).push([[43101],{520212:(e,t,i)=>{let s,n,a,r,o,d;i.d(t,{Gr:()=>s,yI:()=>n,pr:()=>a,RG:()=>r,sY:()=>o,Uz:()=>d}),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.UsageFrequency=2]="UsageFrequency"}(s||(s={})),function(e){e.SITE="SITE",e.STANDARD="STANDARD",e.ATLASSIAN="ATLASSIAN",e.UNKNOWN="UNKNOWN",e.SINGLE="SINGLE"}(n||(n={})),function(e){e.EMOJI_RENDERED="emoji-rendered",e.EMOJI_RESOURCE_FETCHED="emoji-resource-fetched",e.EMOJI_PICKER_OPENED="emoji-picker-opened",e.EMOJI_SELECTION_RECORDED="emoji-selection-recorded",e.EMOJI_UPLOADED="emoji-uploaded",e.EMOJI_SEARCHED="emoji-searched"}(a||(a={})),function(e){e.EMOJI="emoji",e.EMOJI_PICKER="emoji-picker",e.EMOJI_PROVIDER="emoji-provider"}(r||(r={})),function(e){e.FMP="fmp",e.MOUNTED="emoji-mount",e.METADATA="emoji-metadata",e.MEDIADATA="emoji-media",e.ONLOAD="emoji-onload"}(o||(o={})),function(e){e.FMP_END="fmp",e.MOUNTED_END="emoji-mount_end",e.METADATA_START="emoji-metadata_start",e.METADATA_END="emoji-metadata_end",e.MEDIA_START="emoji-media_start",e.MEDIA_END="emoji-media_end",e.ONLOAD_START="emoji-onload_start",e.ONLOAD_END="emoji-onload_end"}(d||(d={}))},10629:(e,t,i)=>{i.d(t,{x3:()=>o});var s=i(991332);const n={},a=e=>1===e||0!==e&&Math.random()*e<=1,r=e=>!!n[e.id]&&(e.instanceId?n[e.id].sampledInstance[e.instanceId]:n[e.id].sampled),o=e=>(n[e.id]||(n[e.id]={sampled:!1,sampledInstance:{}}),(0,s.Z)((0,s.Z)({},e),{},{start:async t=>{if(r(e))return;return(t.samplingFunc||a)(t.samplingRate)?(e.instanceId&&(n[e.id].sampledInstance[e.instanceId]=!0,n[e.id].sampled=!0),e.start(t.startTime)):(e.instanceId&&(n[e.id].sampledInstance[e.instanceId]=!1),void(n[e.id].sampled=!1))},addMetadata:t=>{if(r(e))return e.addMetadata(t)},success:async t=>r(e)?e.success(t):null,failure:async t=>r(e)?e.failure(t):null,abort:async t=>r(e)?e.abort(t):null,mark:(t,i)=>{if(r(e))return e.mark(t,i)},markFMP:t=>{if(r(e))return e.markFMP(t)},markInlineResponse:t=>{if(r(e))return e.markInlineResponse(t)}}))},438229:(e,t,i)=>{i.d(t,{vb:()=>h,oY:()=>c,R6:()=>u,PI:()=>_});var s=i(520212),n=i(253851),a=i(849278),r=i(938141),o=i(10629);const d=e=>({platform:{component:e},type:n.Z.Load,performanceType:n.R.PageSegmentLoad}),E=e=>({platform:{component:e},type:n.Z.Experience,performanceType:n.R.InlineResult}),l=[{key:s.sY.FMP,endMark:s.Uz.FMP_END},{key:s.sY.METADATA,component:"resourced-emoji",startMark:s.Uz.METADATA_START,endMark:s.Uz.METADATA_END},{key:s.sY.MEDIADATA,component:"caching-emoji",startMark:s.Uz.MEDIA_START,endMark:s.Uz.MEDIA_END},{key:s.sY.MOUNTED,component:"emoji",endMark:s.Uz.MOUNTED_END},{key:s.sY.ONLOAD,startMark:s.Uz.ONLOAD_START,endMark:s.Uz.ONLOAD_END}],h={"emoji-rendered":new a.I(s.pr.EMOJI_RENDERED,{platform:{component:s.RG.EMOJI},type:n.Z.Operation,performanceType:n.R.Custom,timings:l}),"emoji-resource-fetched":new a.I(s.pr.EMOJI_RESOURCE_FETCHED,d(s.RG.EMOJI_PROVIDER)),"emoji-picker-opened":new r.Q(s.pr.EMOJI_PICKER_OPENED,d(s.RG.EMOJI_PICKER)),"emoji-selection-recorded":new r.Q(s.pr.EMOJI_SELECTION_RECORDED,E(s.RG.EMOJI_PROVIDER)),"emoji-uploaded":new r.Q(s.pr.EMOJI_UPLOADED,E(s.RG.EMOJI_PICKER)),"emoji-searched":new r.Q(s.pr.EMOJI_SEARCHED,E(s.RG.EMOJI_PICKER))},c=e=>(0,o.x3)(h["emoji-rendered"].getInstance(e.id||e.shortName)),u=(e,t)=>e.metrics.marks.some((e=>e.name===t)),_=e=>(0,o.x3)(h["emoji-resource-fetched"].getInstance(e))},895053:(e,t,i)=>{i.d(t,{N0:()=>s,Ap:()=>n,M4:()=>a,sZ:()=>r,kB:()=>o,BR:()=>d,BT:()=>E,z6:()=>l,$u:()=>h,nD:()=>c,Xr:()=>u,DV:()=>_,P$:()=>m,JN:()=>D,gK:()=>T,lD:()=>p,Qz:()=>S,D$:()=>R,VO:()=>I,uC:()=>A});const s="CUSTOM",n="FREQUENT",a="allUploadsCustomCategory",r="userUploadsCustomCategory",o="data:",d="delete-emoji",E=1e5,l=20,h=350,c=80,u="medium",_=260,m=295,D=m-58,T=m+54,p="fabric.emoji",S=`${p}.selectedTone`,R=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"],I=20,A=100},396428:(e,t,i)=>{i.d(t,{q:()=>s});const s="0.1.5"},592532:(e,t,i)=>{i.d(t,{ur:()=>a,oY:()=>r,o5:()=>o,US:()=>d,sG:()=>E});var s=i(152129),n=i(508687);const a=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},r=e=>{var t,i;!globalThis.__UFO_GLOBAL_EVENT_STREAM__||null!==(t=globalThis.__UFO_GLOBAL_EVENT_STREAM__)&&void 0!==t&&t.__buffer_only__?(null!==(i=globalThis.__UFO_GLOBAL_EVENT_STREAM__)&&void 0!==i&&i.__buffer_only__&&globalThis.__UFO_GLOBAL_EVENT_STREAM__.getStream().forEach(e.push.bind(e)),globalThis.__UFO_GLOBAL_EVENT_STREAM__=e):(0,s.hl)("Global Event Stream already initialised. Ignoring new event stream setup")},o=(e,t)=>({type:n.pp.SUBSCRIBE,payload:{experienceId:e,callback:t}}),d=(e,t)=>({type:n.pp.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}),E=e=>({type:n.pp.EXPERIENCE_PAYLOAD,payload:e})},152129:(e,t,i)=>{i.d(t,{b6:()=>a,Hw:()=>r,hl:()=>o});var s=i(29298);class n{constructor(){(0,s.Z)(this,"enabled",!1)}log(...e){this.enabled&&console.log(n.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(n.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}}(0,s.Z)(n,"UFOprefix","[ufoðŸ›¸]");const a=new n,r=(...e)=>{a.log(...e)},o=(...e)=>{a.warn(...e)}},90934:(e,t,i)=>{i.d(t,{m:()=>a});var s=i(29298),n=i(244819);const a=new class{constructor(){(0,s.Z)(this,"started",!1),(0,s.Z)(this,"observers",[]),(0,s.Z)(this,"broadcast",(()=>{this.observers.forEach((e=>e())),this.observers=[]}))}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),(0,n.d)()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}}},827883:(e,t,i)=>{i.d(t,{F:()=>T,G:()=>D});var s=i(991332),n=i(29298),a=i(781095),r=i(396428),o=i(592532),d=i(152129),E=i(90934),l=i(508687);var h=i(244819),c=i(978671);const u={[c.h.NOT_STARTED.id]:[c.h.STARTED.id],[c.h.STARTED.id]:[c.h.IN_PROGRESS.id,c.h.BLOCKED.id,c.h.SUCCEEDED.id,c.h.SUCCEEDED_WAITING_FOR_DEPS.id,c.h.FAILED.id,c.h.ABORTED.id],[c.h.IN_PROGRESS.id]:[c.h.BLOCKED.id,c.h.SUCCEEDED.id,c.h.SUCCEEDED_WAITING_FOR_DEPS.id,c.h.FAILED.id,c.h.ABORTED.id],[c.h.BLOCKED.id]:[c.h.RECOVERED.id,c.h.ABORTED.id],[c.h.RECOVERED.id]:[c.h.STARTED.id,c.h.SUCCEEDED.id,c.h.SUCCEEDED_WAITING_FOR_DEPS.id,c.h.FAILED.id,c.h.ABORTED.id],[c.h.SUCCEEDED.id]:[c.h.STARTED.id],[c.h.SUCCEEDED_WAITING_FOR_DEPS.id]:[c.h.SUCCEEDED.id,c.h.FAILED.id,c.h.ABORTED.id],[c.h.FAILED.id]:[c.h.STARTED.id],[c.h.ABORTED.id]:[c.h.STARTED.id]};var _=i(253851);const m=()=>(0,h.d)()&&window.document&&"visible"!==window.document.visibilityState?l.Qx.HIDDEN:l.Qx.VISIBLE,D=e=>void 0!==e?~~e:~~performance.now();class T{constructor(e,t,i=null){(0,n.Z)(this,"state",c.h.NOT_STARTED),(0,n.Z)(this,"instanceId",null),(0,n.Z)(this,"parent",null),(0,n.Z)(this,"category",null),(0,n.Z)(this,"metadata",{}),(0,n.Z)(this,"onDoneCallbacks",[]),(0,n.Z)(this,"childExperiences",[]),(0,n.Z)(this,"explicitTimings",{}),(0,n.Z)(this,"isSSROutputAsFMP",!1),(0,n.Z)(this,"uuid",null),(0,n.Z)(this,"_until",null),(0,n.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,n.Z)(this,"performanceConfig",{}),(0,n.Z)(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=l.Qx.MIXED,E.m.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=e,this.category=(null==t?void 0:t.category)||null,this.until=(null==t?void 0:t.until)||null,this.instanceId=i,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=t.type,this.performanceType=t.performanceType,this.performanceConfig=t.performanceConfig||{},this.config=t,this.pageVisibleState=m(),this.featureFlags=t.featureFlags||[],this.timings=t.timings||[],t.performanceType!==_.R.PageLoad&&t.performanceType!==_.R.PageSegmentLoad||(this.isSSROutputAsFMP=t.isSSROutputAsFMP||!1)}async transition(e,t){if((0,d.Hw)("async transition",this.id,this.state.id,e.id),i=this.state,s=e,u[i.id]&&u[i.id].includes(s.id)){if((0,d.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} successful`,this.state.final,!e.final),e===c.h.STARTED&&this._reset(),this.state.final&&!e.final&&(this.metrics.startTime=D(t),this.uuid=(0,a.v4)()),this.state=e,e.final){this.metrics.endTime=D(t),this._isManualStateEnabled()||(0,o.ur)().push((0,o.US)(l.lS,this.handleDoneBind));const e=await this.exportData();(0,d.Hw)("this.parent",this.parent),(0,o.ur)().push((0,o.sG)(e))}return!0}var i,s;return(0,d.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} unsuccessful`),(0,d.hl)(`transition of ${this.id} from ${this.state} to ${e} is not possible`),!1}async start(e){await this.transition(c.h.STARTED,e)&&(this.pageVisibleState=m(),E.m.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||((0,d.Hw)("subscribed",this.id),(0,o.ur)().push((0,o.o5)(l.lS,this.handleDoneBind))))}mark(e,t){e!==l.WR&&e!==l.j3?this._mark(e,t):(0,d.hl)("please use markFMP or markInlineResponse for specialised marks")}_mark(e,t){this.metrics.marks.push({name:e,time:D(t)}),this.transition(c.h.IN_PROGRESS)}markFMP(e){this._mark(l.WR,e)}markInlineResponse(e){this._mark(l.j3,e)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||((0,d.hl)('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),E.m.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}async success(e){return this.switchToEndState(c.h.SUCCEEDED,e)}async failure(e){return this.switchToEndState(c.h.FAILED,e)}async abort(e){return this.switchToEndState(c.h.ABORTED,e)}addMetadata(e){Object.assign(this.metadata,e)}_handleDoneExperience(e){if((0,d.Hw)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){const{done:t,state:i}=this._until(e);t&&!this.state.final&&this.transition(i)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:r.q||"unknown",performanceType:this.performanceType,category:this.category,state:this.state,metadata:(0,s.Z)({},this.metadata),metrics:(0,s.Z)({},this.metrics),children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}},849278:(e,t,i)=>{i.d(t,{I:()=>r});var s=i(29298),n=i(152129),a=i(938141);class r{constructor(e,t){(0,s.Z)(this,"instances",{}),this.experienceId=e,this.config=t}getInstance(e){return this.instances[e]||(this.instances[e]=new a.Q(this.experienceId,this.config,e)),this.instances[e]}release(e){(0,n.Hw)("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}},978671:(e,t,i)=>{i.d(t,{h:()=>s});const s={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},253851:(e,t,i)=>{let s,n;i.d(t,{Z:()=>s,R:()=>n}),function(e){e.Load="load",e.Experience="experience",e.Operation="operation"}(s||(s={})),function(e){e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom"}(n||(n={}))},938141:(e,t,i)=>{i.d(t,{Q:()=>n});var s=i(827883);class n extends s.F{}},244819:(e,t,i)=>{i.d(t,{d:()=>s});const s=()=>"undefined"!=typeof window},508687:(e,t,i)=>{let s,n,a,r,o,d;i.d(t,{pp:()=>s,Qx:()=>n,lS:()=>E,WR:()=>l,j3:()=>h}),function(e){e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE"}(s||(s={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed"}(n||(n={})),function(e){e.fmp="fmp",e.tti="tti"}(a||(a={})),function(e){e.fmp="fmp",e.tti="tti"}(r||(r={})),function(e){e.response="response",e.result="result"}(o||(o={})),function(e){e.duration="duration"}(d||(d={}));const E="__SUBSCRIBE_ALL__",l="fmp",h="inline-response"}}]);
//# sourceMappingURL=43101.JBYcuikQiS.js.map