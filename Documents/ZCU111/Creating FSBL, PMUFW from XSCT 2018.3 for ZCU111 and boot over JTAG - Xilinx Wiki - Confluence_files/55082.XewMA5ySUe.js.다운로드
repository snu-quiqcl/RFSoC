"use strict";(self._cf=self._cf||[]).push([[55082],{729501:(e,t,n)=>{n.d(t,{s:()=>s});var r=n(122551);const a=(0,r.createContext)(void 0),s=()=>Math.min((0,r.useContext)(a)||0,6)},744106:(e,t,n)=>{n.d(t,{l:()=>r});const r={LINK:"link",DISMISS:"dismiss"}},601749:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(991332),a=n(953307),s=n(29298),i=n(122551),o=n(222511);const c=e=>{class t extends i.Component{constructor(...e){super(...e),(0,s.Z)(this,"fireClickEvent",(e=>{this.fireEvent("click",{clickType:e})}))}UNSAFE_componentWillMount(){this.fireEvent("shown")}componentWillUnmount(){this.fireEvent("hidden")}fireEvent(e,t={}){const{createAnalyticsEvent:n,messageId:a,variationId:s,componentId:i,componentType:o,isLast:c}=this.props,l=n((0,r.Z)({action:e},t));l.update({ekMessageId:a,ekVariationId:s,ekComponentId:i,ekComponentType:o,ekIsLast:c}),l.fire("engagement")}render(){return i.createElement(e,(0,a.Z)({},this.props,{fireClickEvent:this.fireClickEvent}))}}return t.displayName="EngagementEventsWrapper",(0,o.Z)()(t)}},319685:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(991332),a=n(953307),s=n(29298),i=n(122551),o=n(64172),c=n.n(o);const l=(e,t)=>{function n(e){const n=e.current;if(n&&n.componentType===t){let t;switch(n.componentType){case"contextualSurvey":t=(0,r.Z)((0,r.Z)({},n),{},{aaid:e.config.aaid,cloudId:e.config.cloudId,stargateUrl:e.config.stargateUrl,product:e.config.product});break;default:t=n}return{message:t}}return{message:null}}class o extends i.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{message:null}),(0,s.Z)(this,"onStoreChange",(e=>{this.setState(n(e))}))}UNSAFE_componentWillMount(){this.canSubscribe()&&(this.unsubscribe=this.subscribeToStore())}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}canSubscribe(){return this.context&&this.context.subscribeEngagementState}subscribeToStore(){return this.context.subscribeEngagementState(this.onStoreChange)}render(){const{children:n,engagementId:r}=this.props,{message:s}=this.state;if(!s)return"inlineDialog"===t&&n||null;if(r&&null!==s&&s.target&&r!==s.target)return null;const o=`${s.messageId}.${s.variationId}.${s.componentId}`;return i.createElement(e,(0,a.Z)({key:o},this.props,s))}}return o.displayName="StoreWrapper",(0,s.Z)(o,"contextTypes",{subscribeEngagementState:c().func}),o}},35591:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(122551);class a extends r.PureComponent{render(){const{html:e}=this.props;return r.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}}a.displayName="HtmlContent"},915194:(e,t,n)=>{n.d(t,{bH:()=>T,Fs:()=>C,ZP:()=>T});var r=n(122551),a=n(907057),s=n(991332),i=n(415911),o=n(29298);function c(e){return e[0]?e[0].length:0}const l=/({{{(((?!}}}).)+)}}})|({{(((?!}}).)+)}})/g;function u(e){return{parts:function(e,t){const n=function(e,t){const n=[];for(let r=t.exec(e);r;r=t.exec(e))n.push(r);return n}(e,t).reduce(((t,n)=>{const r=n.index||0,a=e.slice(t.currentPosition,r);return a&&t.result.push({type:"text",text:a}),t.result.push({type:"match",match:n}),{currentPosition:r+c(n),result:t.result}}),{currentPosition:0,result:[]}),r=e.slice(n.currentPosition,e.length);return r&&n.result.push({type:"text",text:r}),n.result}(e,l).map((e=>"text"===e.type?e:e.match[1]?{type:"unescaped",variableName:e.match[2]||""}:{type:"escaped",variableName:e.match[5]||""}))}}function p(e){return function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=null;return Object.keys(t)}(function(e){return e.parts.filter((e=>"escaped"===e.type||"unescaped"===e.type))}(e).map((e=>e.variableName)))}function d(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39")}function m(e,t,n){const r=p(e).filter((e=>!t[e]));return r.length?{type:"error",errorType:"missing-variables-error",missingVariables:r}:{type:"success",result:n(e,t)}}function g(e,t,n){return e.parts.map((e=>"text"===e.type?e.text:"escaped"===e.type?n(t[e.variableName]):t[e.variableName])).join("")}function h(e,t){return g(e,t,encodeURIComponent)}function y(e,t){return g(e,t,d)}function f(e,t){return function(e,t){return m(e,t,h)}(u(e),t)}function b(e,t){return function(e,t){return m(e,t,y)}(u(e),t)}function x(e,t){return(0,s.Z)((0,s.Z)({},t),{},{data:t.data&&(0,s.Z)((0,s.Z)({},t.data),{},{url:e})})}var v=n(601749),Z=n(319685);const E=function(e){class t extends r.Component{render(){const t=function(e){const{variables:t}=e,n=(0,i.Z)(e,["variables"]),{title:r,body:a,primaryText:o,primaryAction:c,secondaryText:l,secondaryAction:u}=e,p={title:r,body:a,primaryText:o,primaryActionUrl:c&&c.data&&c.data.url,secondaryText:l,secondaryActionUrl:u&&u.data&&u.data.url},d=function(e,t){const n=Object.keys(t),r={};for(let a=0;a<n.length;a++){const s=n[a],i=t[s];if(i){const t="primaryActionUrl"===s||"secondaryActionUrl"===s?f(i,e):b(i,e);if("error"===t.type)return null;r[s]=t.result}}return r}(t||{},p);if(!d)return null;const m=(0,s.Z)((0,s.Z)({},n),{},{title:d.title,body:d.body,primaryText:d.primaryText,secondaryText:d.secondaryText});c&&(m.primaryAction=x(d.primaryActionUrl,c));u&&(m.secondaryAction=x(d.secondaryActionUrl,u));return m}(this.props);return t?r.createElement(e,t):null}}return t.displayName="WithVariables",(0,o.Z)(t,"displayName",`${e.displayName||e.name||""}WithEPVariables`),t}(n(895430).Z),C=(0,v.Z)(E),k=(0,Z.Z)(C,"spotlight");function T(e){return r.createElement(a.Z,null,r.createElement(k,e))}},895430:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(29298),a=n(122551),s=n(231307),i=n.n(s),o=n(629842),c=n(744106),l=n(35591);class u extends a.Component{getButtonClickHandler(e,t){const{fireClickEvent:n}=this.props;switch(t.type){case c.l.LINK:return()=>{n(`${e}`),window.open(t.data.url,t.data.target)};default:return()=>{n(`${e}`)}}}getButtonActions(){const{primaryAction:e,primaryText:t,secondaryAction:n,secondaryText:r}=this.props,a=[];return n&&r&&a.push({onClick:this.getButtonClickHandler("secondary",n),text:r,appearance:n.appearance}),e&&t&&a.push({onClick:this.getButtonClickHandler("primary",e),text:t,appearance:e.appearance,autoFocus:!0}),a}render(){const{body:e,dialogPlacement:t,dialogWidth:n,title:r,image:s,pulse:i,target:c,targetBgColor:u,targetRadius:p}=this.props;return a.createElement(o.Z,{actions:this.getButtonActions(),dialogPlacement:t,dialogWidth:n,heading:r,image:s,pulse:i,target:c,targetBgColor:u,targetRadius:p},a.createElement(l.Z,{html:e}))}}u.displayName="EngagementSpotlight",(0,r.Z)(u,"defaultProps",{fireClickEvent:i()})}}]);
//# sourceMappingURL=55082.XewMA5ySUe.js.map