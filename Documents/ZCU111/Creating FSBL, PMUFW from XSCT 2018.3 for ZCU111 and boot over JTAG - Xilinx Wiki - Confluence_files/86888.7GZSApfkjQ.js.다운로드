"use strict";(self._cf=self._cf||[]).push([[86888],{580441:(e,t,i)=>{i.d(t,{bJ:()=>n,T5:()=>c});var a=i(991332),r=i(999217),s=i.n(r);(0,i(616158).j)("emoji-provider");const o="/gateway/api/emoji",n=(e,t,i,r)=>{const s={providers:[{url:`${o}/standard`},{url:`${o}/atlassian`}],allowUpload:!!t&&!i,currentUser:t?{id:t}:void 0};return e&&t&&s.providers.push({url:`${o}/${e}/site`}),r?(0,a.Z)((0,a.Z)({},s),r):s},l=(e,t)=>{var i,a,r;const s=null!==(i=null==t?void 0:t.cloudId)&&void 0!==i?i:"",o=null!==(a=null==t?void 0:t.source)&&void 0!==a?a:"";return`${s}_${null!==(r=null==t?void 0:t.userId)&&void 0!==r?r:""}_${o}`},d=s()(((e,t)=>{var i,a,r;const s=null!==(i=null==t?void 0:t.cloudId)&&void 0!==i?i:"",o=null!==(a=null==t?void 0:t.userId)&&void 0!==a?a:void 0,l=null==t?void 0:t.disableUpload,d=null!==(r=null==t?void 0:t.emojiSSRConfig)&&void 0!==r?r:void 0;return new e(n(s,o,l,d))}),l),c=s()(((e,t)=>{try{return d(e,t).getEmojiProvider()}catch(i){return Promise.resolve(void 0)}}),l)},516145:(e,t,i)=>{i.d(t,{UX:()=>l,E2:()=>u,ud:()=>g,R1:()=>h});var a=i(991332),r=i(415911),s=i(319209),o=i(426366),n=i(535719);const l=(e,t)=>{const{getRatio:i=c}=e,o=(0,r.Z)(e,["getRatio"]),n=d(i),l=t||{},{queryParams:u={}}=l,f=(0,r.Z)(l,["queryParams"]),m=(0,a.Z)((0,a.Z)({},f),{},{queryParams:(0,a.Z)((0,a.Z)((0,a.Z)({},n),u),{},{preferredRepresentation:"IMAGE"})});return s.utils.requestService(o,m)},d=e=>e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"},c=()=>"undefined"==typeof window?0:window.devicePixelRatio,u=e=>e[d(c).altScale],f=(e,t)=>{if((0,o.Aj)(e)&&t&&t.spriteSheets){const{height:i,width:a,x:r,y:s,xIndex:o,yIndex:n,spriteRef:l}=e,d=t.spriteSheets[l];if(d)return{sprite:d,height:i,width:a,x:r,y:s,xIndex:o,yIndex:n}}else if((0,o.Cy)(e)){const{height:i,width:a,imagePath:r}=e;return((e,t)=>!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url)))(r,t)?(0,o.oX)(e):{height:i,width:a,imagePath:r}}(0,n.ZP)("failed conversion for representation",e,t)},m=(e,t)=>e&&0!==Object.keys(e).length?f(u(e),t):void 0,g=e=>({emojis:e.emojis.map((t=>{const i=f(t.representation,e.meta),s=m(t.altRepresentations,e.meta),n=((e,t)=>{if(!e.skinVariations)return[];const i=e.skinVariations,s=e.id;return i.map((e=>{const{representation:i,altRepresentations:o}=e,n=(0,r.Z)(e,["representation","altRepresentations"]);return(0,a.Z)({baseId:s,representation:f(i,t),altRepresentation:m(o,t)},n)}))})(t,e.meta),{representation:l,skinVariations:d,altRepresentations:c}=t,u=(0,r.Z)(t,["representation","skinVariations","altRepresentations"]),g=(0,a.Z)((0,a.Z)({},u),{},{representation:i,skinVariations:n});return(0,o._p)(g,s)})),mediaApiToken:e.meta&&e.meta.mediaApiToken}),h=(e,t)=>!!(t&&e.altRepresentation&&(e=>c()>1?2*e:e)(t)>e.representation.height)},283176:(e,t,i)=>{i.d(t,{s:()=>a});const a=(0,i(464984).defineMessages)({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file"},emojiChooseFileScreenReaderDescription:{id:"fabric.emoji.choose.file.screenReaderDescription",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB."},emojiSelectSkinToneButtonAriaLabelText:{id:"fabric.emoji.select.skin.tone.ariaLabel",defaultMessage:"Select skin tone, {selectedTone}"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB."},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel"},searchPlaceholder:{id:"fabric.emoji.search.placeholder",defaultMessage:"Search"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search emoji"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB"}})},535719:(e,t,i)=>{i.d(t,{ZP:()=>r});let a=!1;function r(e,...t){a&&console.log(e,...t)}},426366:(e,t,i)=>{i.d(t,{Aj:()=>o,bf:()=>n,Cy:()=>l,$m:()=>d,tI:()=>c,Xt:()=>u,tE:()=>f,k0:()=>m,Hf:()=>g,q0:()=>h,c5:()=>p,Vo:()=>j,AP:()=>b,oX:()=>v,Ez:()=>P,_p:()=>M,WN:()=>R});var a=i(991332),r=i(283176),s=i(895053);const o=e=>!(!e||!e.spriteRef),n=e=>!(!e||!e.sprite),l=e=>!(!e||!e.imagePath),d=e=>!(!e||!e.mediaPath),c=e=>!(!e||!e.then),u=e=>e&&e.shortName&&e.type,f=e=>d(e.representation),m=e=>{return e.category===s.N0&&(t=e.representation,l(t)&&0===t.imagePath.indexOf(s.kB));var t},g=e=>!(!e||!e.skinVariations),h=e=>"baseId"in e,p=e=>e in r.s,j=e=>({shortName:e.shortName,id:e.id,fallback:e.fallback}),b=(e,t)=>{if(!t)return!1;for(let r=0;r<e.length;r++)if((i=e[r])===(a=t)||i&&a&&i.id===a.id&&i.shortName===a.shortName)return!0;var i,a;return!1},v=e=>({mediaPath:e.imagePath,height:e.height,width:e.width}),y=(e,t)=>({imagePath:t||e.mediaPath,height:e.height,width:e.width}),P=(e,t,i)=>{const r=e.representation,s=e.altRepresentation,o=i?void 0:t,n=i?t:void 0;if(!d(r)&&!d(s))return e;const l=d(r)?y(r,o):r,c=d(s)?y(s,n):s,u=(0,a.Z)((0,a.Z)({},e),{},{representation:l});return M(u,c)},M=(e,t)=>t?(0,a.Z)((0,a.Z)({},e),{},{altRepresentation:t}):e,R=e=>e.category},700406:(e,t,i)=>{i.d(t,{h:()=>r});var a=i(501341);const r={on(e,t){a.nA.eventEmitter&&a.nA.eventEmitter.on(e,t)},off(e,t){a.nA.eventEmitter&&a.nA.eventEmitter.off(e,t)},emit(e,t){if(a.nA.eventEmitter)return a.nA.eventEmitter.emit(e,t)}}},501341:(e,t,i)=>{i.d(t,{pl:()=>o,Wf:()=>s,nA:()=>r});var a=i(791306);const r={streams:new(i(608259).LRUMap)(1e3),stateDeferreds:new Map,eventEmitter:new a.EventEmitter2};function s(e){return!!e.clientId}const o=e=>{if(function(e){return!!e.asapIssuer}(e))return e;return{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},319209:(e,t,i)=>{i.r(t),i.d(t,{AbstractResource:()=>o,buildCredentials:()=>r,utils:()=>u});var a={};i.r(a),i.d(a,{requestService:()=>c});const r=e=>e&&e.omitCredentials?"omit":"include";var s=i(29298);class o{constructor(){(0,s.Z)(this,"listeners",new Set)}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach((t=>{t.result(e)}))}notifyError(e){this.listeners.forEach((t=>{t.error&&t.error(e)}))}notifyInfo(e){this.listeners.forEach((t=>{t.info&&t.info(e)}))}notifyNotReady(){this.listeners.forEach((e=>{e.notReady&&e.notReady()}))}}var n=i(991332);const l={},d=(e,t)=>{if(t)for(const i in t)if({}.hasOwnProperty.call(t,i)){const a=t[i];if(Array.isArray(a))for(let t=0;t<a.length;t++)e[i]=a[t];else e[i]=a}},c=(e,t)=>{const{url:i,securityProvider:a,refreshedSecurityProvider:s}=e,{path:o,queryParams:u,requestInit:f}=t||l,m=a&&a(),g=((e,t="",i,a)=>{const r=new URLSearchParams(new URL(e,"https://BASE_FALLBACK").search||void 0);if(e=e.split("?")[0],i)for(const n in i)({}).hasOwnProperty.call(i,n)&&r.append(n,i[n]);if(a&&a.params)for(const n in a.params)if({}.hasOwnProperty.call(a.params,n)){const e=a.params[n];if(Array.isArray(e))for(let t=0;t<e.length;t++)r.append(n,e[t]);else r.append(n,e)}let s="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(s="/");let o=r.toString();return o&&(o="?"+o),`${e}${s}${t}${o}`})(i,o,u,m),h=((e,t)=>{const i={};return d(i,t),e&&d(i,e.headers),i})(m,f&&f.headers),p=r(m),j=(null==t?void 0:t.ignoreResponsePayload)||!1,b=(0,n.Z)((0,n.Z)({},f),{},{headers:h,credentials:p});return fetch(g,b).then((e=>204===e.status?Promise.resolve():e.ok?j?Promise.resolve():e.json():401===e.status&&s?s().then((e=>c({url:i,securityProvider:()=>e},t))):Promise.reject({code:e.status,reason:e.statusText})))},u=a}}]);
//# sourceMappingURL=86888.7GZSApfkjQ.js.map