"use strict";(self._cf=self._cf||[]).push([[56237],{324577:(e,t,n)=>{n.d(t,{Y:()=>l,$:()=>c});var o=n(122551),a=n(499082),r=n(529),i=n(787632);const l=(0,o.createContext)({isReactionsEnabled:!1});l.displayName="CommentContext";const c=({contentId:e,children:t})=>{const{data:n}=(0,a.aM)(i.f,{variables:{contentId:e,location:r.SB},fetchPolicy:"cache-first"});let c=!1;return n&&(c=n.webPanels&&n.webPanels.length>0),o.createElement(l.Provider,{value:{isReactionsEnabled:c}},t)};c.displayName="CommentContextProvider"},330384:(e,t,n)=>{n.d(t,{gu:()=>a,ou:()=>r,X6:()=>i,a1:()=>l});var o=n(331377);const a=o.ZP`fragment authorFragment on AtlassianUser{displayName photos{isPrimary value}id}`,r=o.ZP`fragment commentDataFragment on Comment{id ancestors{id}author{type displayName profilePicture{path}...on KnownUser{accountId permissionType}...on User{accountId permissionType}}body(representation:ATLAS_DOC_FORMAT){value}contentStatus isLikedByCurrentUser likeCount links{webui}parentId permissions{isEditable isRemovable}version{friendlyWhen number when by{type displayName ...on KnownUser{accountId}...on User{accountId}}}}`,i=(o.ZP`fragment contentCommentListFragment on PaginatedContentList{count pageInfo{hasNextPage endCursor}}`,o.ZP`fragment commentListFragment on PaginatedCommentList{totalCount pageInfo{hasNextPage endCursor}}`),l=o.ZP`fragment contentFragment on Content{id operations{operation targetType}space{id homepageId}type history{createdBy{...on KnownUser{accountId}...on User{accountId}}}}`},292004:(e,t,n)=>{n.d(t,{q:()=>r});var o=n(331377),a=n(330384);const r=o.ZP`query CommentsSectionQuery($offset:String$first:Long$contentId:ID!$isPoweredByConfluenceMobileEnabled:Boolean=false){comments(pageId:$contentId type:FOOTER depth:ALL first:$first after:$offset){...commentListFragment edges{cursor node{...commentDataFragment reactionsSummary(pageId:$contentId contentType:"page" childType:"comment"){ari containerAri reactionsCount reactionsSummaryForEmoji{id emojiId count reacted}}commentSource@include(if:$isPoweredByConfluenceMobileEnabled)}}}content(id:$contentId){nodes{...contentFragment}}user(current:true){...authorFragment}}${a.gu}${a.a1}${a.X6}${a.ou}`},588745:(e,t,n)=>{n.d(t,{t:()=>o});const o={HEADER:"header",FOOTER:"footer"}},363844:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(455522);const a=e=>e.getBooleanValue(o.CW,{default:!1})},594398:(e,t,n)=>{n.d(t,{jD:()=>r,tx:()=>i});var o=n(122551);const a=(0,o.createContext)({editorProperty:"",fabricEditorSupported:!1}),r=({editorProperty:e,fabricEditorSupported:t,children:n})=>o.createElement(a.Provider,{value:{editorProperty:e,fabricEditorSupported:t}},n);r.displayName="AutoConversionByLineContextProvider";const i=()=>(0,o.useContext)(a)},664199:(e,t,n)=>{n.d(t,{K:()=>i});var o=n(29298),a=n(507080);const r={isSurveyTriggered:!1,source:""};class i extends a.W2{constructor(...e){super(...e),(0,o.Z)(this,"state",r),(0,o.Z)(this,"triggerSurvey",(({source:e})=>{this.setState({isSurveyTriggered:!0,source:e})})),(0,o.Z)(this,"resetTrigger",(()=>{this.state.isSurveyTriggered&&this.setState((e=>({isSurveyTriggered:!1,source:e.source})))}))}}},454454:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(331377).ZP`query OnboardingLabelsQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id labels{nodes{id label}}}}}`},515137:(e,t,n)=>{n.d(t,{o:()=>a,K:()=>r});var o=n(331377);const a=o.ZP`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`,r=o.ZP`mutation SetOnboardingState($key:String$value:String)@experimental{experimentalSetOnboardingState(key:$key value:$value){key value}}`},555543:(e,t,n)=>{n.d(t,{c:()=>o});const o={PERSISTENT_UPGRADE_EXPERIMENT:"confluence.frontend.growth.experiments.persistent.upgrade",ONBOARDING_EXP_FLAG:"confluence.frontend.onboarding.experience",ADMIN_QUICKSTART_V2:"confluence.frontend.onboarding.admin-quickstart-v2",MIGRATIONS_QUICKSTART:"confluence.frontend.onboarding.migrations.quickstart",CACHE_ONBOADING_STATE:"confluence.frontend.onboarding.cache.state",INVITE_DOMAIN_ACCESS:"confluence.frontend.onboarding-invite-domain-access",SWITCHER_JOINABLE_PRODUCTS_FF:"confluence.frontend.enable.joinable-products",NTH_USER_QUICKSTART:"confluence.frontend.onboarding.nth.user.quickstart",JSW_XFLOW_USER_QUICKSTART:"confluence.frontend.onboarding.xflow.jsw",EASY_MENTIONS_PLACEHOLDER_FEATURE_FLAG:"confluence.frontend.easy.mentions.placeholder",MIGRATIONS_USER_TAGGING:"confluence.frontend.onboarding.migrations.user-tagging",MIGRATIONS_SITE_TRAITS:"confluence.frontend.onboarding.migrations.site-traits",IMPORT_RELEVANCE:"confluence.frontend.onboarding.import-relevance"}},485226:(e,t,n)=>{n.d(t,{C:()=>r});var o=n(555543);const{ONBOARDING_EXP_FLAG:a}=o.c,r=(e,t=!0)=>e.getBooleanValue(a,{default:!1,shouldTrackExposureEvent:t})},206638:(e,t,n)=>{n.d(t,{Hi:()=>c,Gs:()=>s,Si:()=>d,B8:()=>u,wA:()=>m});var o=n(331377),a=n(499082),r=n(401487),i=n(158466),l=n(515137);const c=e=>{const t={},{onboardingState:n}=e||{};return void 0!==n&&n.forEach((({key:e,value:n})=>{const o=e.split(":")[1];n&&(/(true|false)/g.test(n)?t[o]="true"===n:t[o]=n)})),t},s=()=>{const[e,{error:t}]=(0,a.Db)(l.K,{update(e,{data:t}){const n=t.experimentalSetOnboardingState,{key:a,value:r}=n;e.writeFragment({id:a,fragment:o.ZP`fragment myKey on OnboardingState{key value}`,data:{key:a,value:r,__typename:"OnboardingState"}})},onError:e=>{"unauthorized"===e.graphQLErrors[0].message&&(0,r.Xb)(e)}});return{setOnboardingState:({key:t,value:n})=>e({variables:{key:t,value:n},optimisticResponse:{experimentalSetOnboardingState:{key:t,value:n,__typename:"OnboardingState"}}}),error:t}},d=(e,t=!1)=>{const{isLoggedIn:n,isLicensed:o}=(0,i.D)(),r=t||(!n||!o),{data:c,error:s,loading:d,refetch:u}=(0,a.aM)(l.o,{variables:{key:e},skip:r});return{data:c,error:s,loading:d,refetch:u}},u=async(e,t)=>await e.query({query:l.o,variables:{key:t}}),m=async(e,{key:t,value:n})=>await e.mutate({mutation:l.K,variables:{key:t,value:n},update(e){e.writeFragment({id:t,fragment:o.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:n,__typename:"OnboardingState"}})}})},451745:(e,t,n)=>{n.d(t,{g:()=>c});var o=n(499082),a=n(213489),r=n(401487),i=n(454454),l=n(134431);const c=e=>{var t,n,c,s;const{contentId:d,skip:u}=e,{data:m,loading:g,error:E}=(0,o.aM)(i.A,{variables:{contentId:d,status:["current","draft"]},skip:u}),p=(null==m||null===(t=m.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(c=n[0])||void 0===c||null===(s=c.labels)||void 0===s?void 0:s.nodes)||[],f=Boolean(p.find((e=>(null==e?void 0:e.label)===l.z7)));return E&&(0,a.T)(E)&&(0,r.Xb)(E),{isOnboardingTemplate:f,labelsData:m,labelsLoading:g,labelsError:E}}},449577:(e,t,n)=>{n.d(t,{n:()=>o});const o=n(331377).ZP`fragment inlineCommentFragment on Comment{id body(representation:ATLAS_DOC_FORMAT){value}contentStatus links{webui}location{...on InlineComment{type inlineMarkerRef inlineResolveProperties{resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}...on User{accountId}}}`},4521:(e,t,n)=>{n.d(t,{n:()=>r});var o=n(331377),a=n(449577);const r=o.ZP`query InlineCommentsQuery($pageId:ID!$isPoweredByConfluenceMobileEnabled:Boolean=false){content(id:$pageId){nodes{id type space{id}operations{operation targetType}}}comments(pageId:$pageId type:UNRESOLVED depth:ROOT first:1000){nodes{...inlineCommentFragment replies{...inlineCommentFragment commentSource@include(if:$isPoweredByConfluenceMobileEnabled)}commentSource@include(if:$isPoweredByConfluenceMobileEnabled)}}}${a.n}`},892637:(e,t,n)=>{n.d(t,{O:()=>d,t:()=>m});var o=n(991332),a=n(415911),r=n(122551),i=n(358280),l=n(28201),c=n(526938),s=n(250630);n(579982),n(520700);const d=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:l}=e,c=(0,a.Z)(e,["as","style"]);return r.createElement(n,(0,o.Z)((0,o.Z)({},c),{},{style:l,ref:t,className:(0,i.Z)(["_1bsb1osq _4t3i1ylp",c.className])}))}));const u=(0,l.ZR)({__loadable_id__:"hqVUr",name:"ViewPageLabelsLoaderBase",loading:()=>r.createElement(d,null),loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(54936),n.e(86108),n.e(48661)]).then(n.bind(n,291597))).ViewPageLabels}),m=e=>r.createElement(r.Fragment,null,r.createElement(c.q,{metric:s.H}),r.createElement(u,(0,o.Z)({},e)))},250630:(e,t,n)=>{n.d(t,{H:()=>r});var o=n(172033),a=n(202049);const r=(0,o.is)({key:a.e4})},943876:(e,t,n)=>{n.d(t,{N:()=>o});const o=n(331377).ZP`fragment LocalActivityContentFragment on Content{id title hasRestrictions hasInheritedRestrictions space{id key}properties(keys:["emoji-title-published" "emoji-title-draft"]){nodes{id value key version{number}}}}`},184764:(e,t,n)=>{n.d(t,{o:()=>i});var o=n(122551),a=n(236928),r=n(458140);const i=({contentId:e})=>(l(e),null),l=e=>{const{track:t}=(0,r.c)();(0,o.useEffect)((()=>{t(e,a.X.viewed)}),[t,e])}},236928:(e,t,n)=>{let o;n.d(t,{X:()=>o}),function(e){e.deleted="deleted",e.viewed="viewed"}(o||(o={}))},438812:(e,t,n)=>{n.d(t,{o:()=>E,d:()=>m});var o=n(122551),a=n(499082),r=n(331377),i=n(943876);const l=r.ZP`query LocalActivityQuery{localActivity{id action timestamp content{...LocalActivityContentFragment __typename}__typename}}${i.N}`,c=r.ZP`query DehydratedLocalActivityQuery{localActivity{id action timestamp content{id __typename}__typename}}`;var s=n(236928);const d=new Set,u=e=>d.has(e.content.id||""),m=({filters:e,skip:t}={})=>{const{data:n}=(0,a.aM)(l,{fetchPolicy:"cache-only",skip:t}),r=(0,o.useCallback)((e=>{d.add(e)}),[]),i={viewedEvents:[],deletedContentIds:new Set,markAsConsistent:r};return((null==n?void 0:n.localActivity)||[]).forEach((t=>{g(t,e)&&(t.action===s.X.viewed?i.viewedEvents.push(t):t.action===s.X.deleted&&i.deletedContentIds.add(t.content.id||""))})),i},g=(e,t)=>{var n;return!u(e)&&(!t||t.spaceKey===(null===(n=e.content.space)||void 0===n?void 0:n.key))},E=({contentId:e,action:t},n)=>{let o=[];try{const e=n.readQuery({query:c});o=(null==e?void 0:e.localActivity.filter((e=>!u(e))).slice(0,99))||[]}catch(r){}d.clear();const a={localActivity:[{id:`${e}-${t}`,action:t,timestamp:(new Date).toISOString(),content:{id:e,__typename:"Content"},__typename:"LocalActivityEvent"},...o]};n.writeQuery({query:c,data:a})}},458140:(e,t,n)=>{n.d(t,{c:()=>i});var o=n(122551),a=n(499082),r=n(438812);const i=()=>{const e=(0,a.xJ)();return{track:(0,o.useCallback)(((t,n)=>{(0,r.o)({contentId:t,action:n},e)}),[e])}}},910328:(e,t,n)=>{n.d(t,{a:()=>r});var o=n(122551),a=n(325834);const r=()=>{const{createAnalyticsEvent:e}=(0,a._)();return{fireGetEditorOnboardingStateFailed:(0,o.useCallback)((t=>{e({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"getOnboardingState",actionSubjectId:"editorOnboarding",source:t}}).fire()}),[e]),fireEditorPublishSuccessFlagViewed:(0,o.useCallback)((t=>{e({type:"sendScreenEvent",data:{name:"onboardingEditorPublishSuccessFlag",attributes:{type:t}}}).fire()}),[e]),fireEditorPublishSuccessFlagLinkCopied:(0,o.useCallback)((()=>{e({type:"sendUIEvent",data:{source:"onboardingEditorPublishSuccessFlag",actionSubject:"button",action:"copyLink",actionSubjectId:"onboardingEditorPublishSuccessFlag"}}).fire()}),[e]),fireEditorModalPromptClosed:(0,o.useCallback)((()=>{e({type:"sendUIEvent",data:{source:"onboardingEditorModalPrompt",actionSubject:"button",action:"clicked",actionSubjectId:"closeButton"}}).fire()}),[e]),fireEditorModalPromptPublished:(0,o.useCallback)((()=>{e({type:"sendUIEvent",data:{source:"onboardingEditorModalPrompt",actionSubject:"button",action:"clicked",actionSubjectId:"publishButton"}}).fire()}),[e])}}},673009:(e,t,n)=>{let o;n.d(t,{H:()=>o}),function(e){e.ENROLLED="enrolled",e.NOT_ENROLLED="not-enrolled",e.CONTROL="control",e.EXPERIMENT="experiment",e.EXPERIMENT_VARIATION_1="experiment-1",e.EXPERIMENT_VARIATION_2="experiment-2"}(o||(o={}))},77243:(e,t,n)=>{n.d(t,{G:()=>o});const o={MIGRATIONS_QUICKSTART:"confluence.frontend.onboarding.migrations.quickstart",ONBOARDING_STATE_REFACTOR:"confluence.frontend.onboarding.onboarding-state-refactor",SIMPLIFY_ADMIN_SETUP:"confluence.frontend.onboarding.simplify.admin.setup",REMOVE_ROLE_SCREEN:"confluence.frontend.onboarding.remove.role.screen",NTH_USER_QUICKSTART_V2:"confluence.frontend.onboarding.nth-user-quickstart-v2",ACCOUNT_SETUP_MODAL:"confluence.frontend.onboarding.account-setup-modal",REMOVE_SINGLE_SPACE_SELECTION:"confluence.frontend.onboarding.skip-single-space-selection",PERSISTENT_INVITE:"confluence.frontend.onboarding.persistent-invite",PERSISTENT_INVITE_CALIBRATION:"confluence.frontend.onboarding.persistent-invite.calibration",REVAMP_INVITE_MODAL:"confluence.frontend.onboarding.revamp-invite-modal",IMPORT_RELEVANCE:"confluence.frontend.onboarding.import-relevance",SKIP_SPACE_NAMING:"confluence.frontend.onboarding.skip-space-naming",CONTEXTUAL_INVITE_PROMPT:"confluence.frontend.onboarding.contextual-invite-prompt",HOME_AS_LANDING_PAGE:"confluence.frontend.onboarding.home-as-landing-page",INTENT_QUESTIONS_GATING:"confluence.frontend.onboarding.intent-questions.gating",INTENT_QUESTIONS_VARIATION:"confluence.frontend.onboarding.intent-questions.variation",INTENT_EXPERIENCE_GATING:"confluence.frontend.onboarding.intent-experience.gating",INTENT_EXPERIENCE_GATING_CALIBRATION:"confluence.frontend.onboarding.intent-experience.gating.calibration",INTENT_EXPERIENCE_VARIATION:"confluence.frontend.onboarding.intent-experience.variation",INTENT_EXPERIENCE_VARIATION_CALIBRATION:"confluence.frontend.onboarding.intent-experience.variation.calibration",REVERSE_TRIAL:"confluence.frontend.onboarding.reverse-trial",REVERSE_TRIAL_CALIBRATION:"confluence.frontend.onboarding.reverse-trial.calibration",QUICKSTART_AS_A_PAGE:"confluence.frontend.onboarding.quickstart-as-a-page"}},197250:(e,t,n)=>{n.d(t,{q:()=>a});var o=n(673009);const a=(e,t,n)=>e.getVariantValue(t,{default:o.H.NOT_ENROLLED,oneOf:Object.values(o.H),shouldTrackExposureEvent:n})},142271:(e,t,n)=>{n.d(t,{w:()=>r});var o=n(673009),a=n(197250);const r=(e,t,n,r=!0)=>{const i=(0,a.q)(e,t,Boolean(r));return i===o.H.ENROLLED||i===o.H.EXPERIMENT&&/^en/i.test(n)}},362265:(e,t,n)=>{n.d(t,{VE:()=>a,S$:()=>r});var o=n(28201);const a=(0,o.ui)({__loadable_id__:"xEtN9",name:"EndOfPageRecommendation",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(96207),n.e(91306),n.e(99319),n.e(46003),n.e(52140),n.e(45442),n.e(28201),n.e(1054),n.e(84786),n.e(38639),n.e(43101),n.e(33079),n.e(85606),n.e(15677),n.e(80241),n.e(86888),n.e(49149),n.e(33839),n.e(92008),n.e(16602),n.e(72318),n.e(501),n.e(85803)]).then(n.bind(n,822066))).EndOfPageRecommendation}),r=(0,o.ZR)({__loadable_id__:"jnk_j",name:"EndOfPageRecAdminConfig",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(96207),n.e(99319),n.e(46003),n.e(28201),n.e(84786),n.e(72318),n.e(58274)]).then(n.bind(n,501780))).EndOfPageRecAdminConfig})},114782:(e,t,n)=>{n.d(t,{M:()=>i,X:()=>l});var o=n(122551),a=n(28201),r=n(983259);const i=(0,a.ZR)({__loadable_id__:"hSxvO",name:"ReactionsLoader",loading:()=>o.createElement(r.n,{useAccuratePills:!0}),loader:async()=>(await Promise.all([n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(96207),n.e(99319),n.e(28201),n.e(84786),n.e(38639),n.e(15677),n.e(11385),n.e(12557),n.e(50402),n.e(94338)]).then(n.bind(n,573722))).Reactions}),l=(0,a.y$)({__loadable_id__:"D7M-3",name:"ReactionsLoaderBackground",loading:()=>o.createElement(r.n,null),loader:async()=>(await Promise.all([n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(96207),n.e(99319),n.e(28201),n.e(84786),n.e(38639),n.e(15677),n.e(11385),n.e(12557),n.e(50402),n.e(94338)]).then(n.bind(n,573722))).Reactions})},66866:(e,t,n)=>{n.d(t,{b:()=>r});var o=n(122551),a=n(772610);const r=()=>{const{getQueryParams:e}=(0,o.useContext)(a.M),{action:t,contentId:n,contentType:r,focusedCommentId:i}=e(),l=t&&"react"===t;return{focusedPageReactionsId:l&&r&&("page"===r||"blogpost"===r)&&n?n:void 0,focusedCommentReactionsId:l&&i?i:void 0}}},843392:(e,t,n)=>{let o,a;n.d(t,{S:()=>o,d:()=>a}),function(e){e.PAGE="page",e.BLOGPOST="blogpost",e.PAGE_COMMENT="page-comment",e.INLINE_COMMENT="inline-comment",e.EDITOR_INLINE_COMMENT="editor-inline-comment",e.FEED_PAGE="feed-page",e.FEED_BLOGPOST="feed-blogpost",e.FEED_COMMENT="feed-comment"}(o||(o={})),function(e){e.PAGE="page",e.BLOGPOST="blogpost",e.SPACE="space"}(a||(a={}))},243433:(e,t,n)=>{n.d(t,{k:()=>i});var o=n(122551),a=n(772610),r=n(756680);const i=({isSmooth:e})=>{const{getHash:t,getQueryParams:n}=(0,o.useContext)(a.M),i=(0,o.useRef)(t),l=(0,o.useRef)(n);return i.current=t,l.current=n,(0,o.useEffect)((()=>{const t=i.current(),n=l.current();t.length>0||["focusedCommentId"].some((e=>Boolean(n[e])))||(0,r.nK)(e)}),[i,l,e]),null}},753612:(e,t,n)=>{n.d(t,{P:()=>i});var o=n(122551),a=n(607213),r=n(933083);const i=({contentId:e,spaceKey:t,banner:n,hasByLineContributors:i,hasByLineExtensions:l,headingContainer:c})=>{const{versionOverride:s,embeddedContentRender:d}=(0,r.I)();return o.createElement(a.wW,{banner:n,contentId:e,spaceKey:t,headingContainer:c},o.createElement(a.TA,{contentId:e,versionOverride:s,embeddedContentRender:d,hasByLineContributors:i,hasByLineExtensions:l}))}},56237:(e,t,n)=>{n.d(t,{j:()=>je});var o=n(991332),a=n(122551),r=n(17786),i=n(28201);const l=(0,i.ui)({__loadable_id__:"EBZub",name:"MobilePromo",loader:async()=>(await Promise.all([n.e(78248),n.e(11216),n.e(83632)]).then(n.bind(n,258287))).WebToMobileQrCodePromoModal});var c=n(827704),s=n(155615);const d=(0,i.ZR)({__loadable_id__:"zb6ts",name:"CustomHeaderFooterLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(27980)]).then(n.bind(n,457733))).CustomHeaderFooter});(0,i.y$)({__loadable_id__:"VYyg4",name:"CustomHeaderFooterBackgroundLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(27980)]).then(n.bind(n,457733))).CustomHeaderFooter});var u=n(588745),m=n(184764),g=n(626166),E=n(876441),p=n(825653),f=n(730983),y=n(243433),b=n(158466),v=n(483565),I=n(485226),_=n(362265);const C=(0,i.ZR)({__loadable_id__:"qRlSS",name:"InlineCommentsHighlighterLoader",loader:async()=>(await n.e(3071).then(n.bind(n,449328))).InlineCommentsHighlighter});var T=n(892637),S=n(324577);const h=(0,i.ui)({__loadable_id__:"3Ayom",loader:async()=>(await Promise.all([n.e(61769),n.e(94106)]).then(n.bind(n,50011))).AutoConversion,name:"AutoConversion"});var P=n(363844),A=n(594398),R=n(470675),N=n(989535),O=n(33008),k=n(753612),w=n(507080);const L=(0,i.y$)({__loadable_id__:"1H6AN",name:"EditorSatisfactionSurvey",loader:async()=>(await n.e(79150).then(n.bind(n,253742))).EditorSatisfactionSurvey});var M=n(313873),F=n(664199),Z=n(961634),D=n(213489),x=n(206638),B=n(134431),G=n(451745),$=n(185346),X=n(415911),q=n(358280),U=n(464984),V=n(883383),H=n(274479),K=n(588022),j=n(590804),Q=n(131436),W=n(451379),z=n(199319),Y=n(142271),J=n(77243),ee=n(579849),te=n(609145),ne=n(405665),oe=n(910328);n(943373),n(777226);const ae=(0,U.defineMessages)({flagTitleMessage:{id:"onboarding-editor.success.flag.title",defaultMessage:"You published your first page! {emoji}"},flagContentMessage:{id:"onboarding-editor.success.flag.content",defaultMessage:"Share it with your team to get feedback or kickstart a conversation."},flagCopyLinkAction:{id:"onboarding-editor.success.flag.action.message",defaultMessage:"Copy page link"},flagCopyLinkActionSuccess:{id:"onboarding-editor.success.flag.action.success.message",defaultMessage:"Link Copied to clipboard"},editorTutorialFlagTitle:{id:"onboarding-editor.tutorial.success.flag.title",defaultMessage:"Page published to your personal space"},editorTutorialFlagContent:{id:"onboarding-editor.tutorial.success.flag.content",defaultMessage:"Congrats on finishing the editor tutorial! {emoji} {br}We’ve published this page to your personal space so you can return to it anytime."},contextualInviteFlagTitle:{id:"onboarding-editor.contextual-invite.title",defaultMessage:"Next step: Share your work"},contextualInviteFlagContent:{id:"onboarding-editor.contextual-invite.content",defaultMessage:"Send an invite to a teammate to start collaborating on your new page."},contextualInviteFlagAction:{id:"onboarding-editor.contextual-invite.action",defaultMessage:"Invite people to Confluence"}}),re=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,i=(0,X.Z)(e,["as","style"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},i),{},{style:r,ref:t,className:(0,q.Z)(["_syazhyod",i.className])}))}));const ie=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,i=(0,X.Z)(e,["as","style"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},i),{},{style:r,ref:t,className:(0,q.Z)(["_syaz2bm4",i.className])}))}));const le="onboarding-editor.success.flag",ce="onboarding-editor.tutorial.success.flag",se="onboarding.contextual.invite.flag",de=({flags:e,showEditorTutorialPublishSuccessFlag:t=!1})=>{const[n,r]=(0,a.useState)(!1),{setOnboardingState:i}=(0,x.Gs)(),l=(0,a.useRef)(!1),c=(0,a.useContext)(W.F),{openCoreInvites:s}=(0,a.useContext)(ee.l),{featureFlagClient:d,locale:u}=(0,b.D)(),{isSiteAdmin:m,loading:g,error:E}=(0,a.useContext)(ne.wu),p=!t&&(m&&!g&&!E)&&(0,Y.w)(d,J.G.CONTEXTUAL_INVITE_PROMPT,u,!0),{fireEditorPublishSuccessFlagViewed:f,fireEditorPublishSuccessFlagLinkCopied:y}=(0,oe.a)(),v=t=>{l.current||(c.succeed({name:z.DDC}),l.current=!0),e.hideFlag(t)},I=(0,a.useMemo)((()=>t?"editorDraft":p?"contextualInviteFlag":"editorTutorial"),[t,p]);(0,a.useEffect)((()=>{const e=setTimeout((()=>{v(t?ce:p?se:le)}),8e3);return c.start({name:z.DDC}),f(I),_(),()=>clearTimeout(e)}),[]);const _=()=>{i({key:t?B.iq.EDITOR_TUTORIAL_SUCCESS_FLAG_SEEN:B.iq.SUCCESS_FLAG_SEEN,value:"true"})},C={id:le,type:"success-circle",title:a.createElement(V.Z,(0,o.Z)((0,o.Z)({},ae.flagTitleMessage),{},{values:{emoji:"🎉"}})),description:a.createElement(V.Z,(0,o.Z)({},ae.flagContentMessage)),actions:[{content:n?a.createElement(ie,null,a.createElement(V.Z,(0,o.Z)({},ae.flagCopyLinkActionSuccess)),a.createElement(K.default,{label:"Check icon",size:"small"})):a.createElement(re,null,a.createElement(V.Z,(0,o.Z)({},ae.flagCopyLinkAction)),a.createElement(H.default,{label:"Link icon",size:"small"})),onClick:async()=>{try{await navigator.clipboard.writeText(document.location.href),r(!0),y()}catch(e){e instanceof Error&&c.fail({name:z.DDC,error:e})}}}],onClose:()=>{v(le)}},T={id:ce,type:"success-circle",title:a.createElement(V.Z,(0,o.Z)({},ae.editorTutorialFlagTitle)),description:a.createElement(V.Z,(0,o.Z)((0,o.Z)({},ae.editorTutorialFlagContent),{},{values:{emoji:"🥳",br:a.createElement("br",null)}})),onClose:()=>{v(ce)}},S={id:se,type:"custom",customIcon:a.createElement(j.default,{label:"people-group-icon",primaryColor:Q.Wn}),title:a.createElement(V.Z,(0,o.Z)({},ae.contextualInviteFlagTitle)),description:a.createElement(V.Z,(0,o.Z)({},ae.contextualInviteFlagContent)),actions:[{content:a.createElement(V.Z,(0,o.Z)({},ae.contextualInviteFlagAction)),onClick:()=>{null==s||s(te.Lc.ONBOARDING_INVITE_FLAG),v(se)}}]},h=p?S:C;return(0,a.useEffect)((()=>{e.showFlag(t?T:h)}),[n]),null},ue=({hasSatisfactionSurveys:e,contentId:t})=>{const[n,o]=(0,a.useState)(!1),{data:r,error:i}=(0,x.Si)(Object.values(B.iq)),{isLicensed:l,isLoggedIn:c}=(0,b.D)(),{isOnboardingTemplate:s,labelsData:d,labelsLoading:u,labelsError:m}=(0,G.g)({contentId:t,skip:!l||!c}),{editorOnboardingEligiblity:g,hasUserPublished:E,successFlagCompleted:p,editorTutorialSuccessFlagCompleted:f}=(0,x.Hi)(r),y=g&&!!E&&!p&&!i,v=!u&&Boolean(d)&&s&&!f&&!i,I=()=>a.createElement(a.Fragment,null,i&&a.createElement(Z.X,{error:i}),m&&!(0,D.T)(m)&&a.createElement(Z.X,{error:m}));if((0,a.useEffect)((()=>{(y||v)&&o(!0)}),[y,v]),n){const e=v&&!f&&Boolean(s);return a.createElement(w.xs,{to:[$.Q]},(t=>a.createElement(a.Fragment,null,m&&!(0,D.T)(m)&&a.createElement(Z.X,{error:m}),a.createElement(de,{flags:t,showEditorTutorialPublishSuccessFlag:e}))))}return e?a.createElement(a.Fragment,null,a.createElement(I,null),a.createElement(L,{contentId:t,isFabricPage:!0})):a.createElement(I,null)},me=({contentId:e,isEditorExpEnabled:t})=>a.createElement(w.xs,{to:[F.K]},(({state:n,resetTrigger:o})=>{const{isSurveyTriggered:r,source:i}=n;return a.createElement(M.Sp,{isGuestSurveyTriggered:r,resetGuestSurveyTrigger:o,source:i},t?a.createElement(ue,{contentId:e,hasSatisfactionSurveys:!0}):a.createElement(L,{contentId:e,isFabricPage:!0}))}));me.displayName="SatisfactionSurveys";var ge=n(499082),Ee=n(266797),pe=n(588933),fe=n(772610);const ye=(0,i.tM)({__loadable_id__:"WrX2E",name:"CommentsSectionLoaderPaint",loading:({handlePageCommentsRender:e})=>e?null:pe.X,loader:async()=>(await n.e(64935).then(n.bind(n,864310))).CommentsSection}),be=(0,i.ZR)({__loadable_id__:"Bt5XY",name:"CommentsSectionLoaderAfterPaint",loading:()=>a.createElement(pe.X,null),loader:async()=>(await n.e(64935).then(n.bind(n,864310))).CommentsSection}),ve={[R.TX.PAINT]:ye,[R.TX.AFTER_PAINT]:be},Ie=e=>{let{loadingPriority:t}=e,n=(0,X.Z)(e,["loadingPriority"]);const r=ve[t]||be;return a.createElement(r,(0,o.Z)({},n))};Ie.displayName="CommentsSectionLoader";var _e=n(684157),Ce=n(801683),Te=n(170915),Se=n(292004),he=n(401487);n(137909),n(593940),n(983237),n(416473),n(104086),n(357290),n(456928),n(354326);const Pe=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:r,isDefaultWidthEnabled:i}=e,l=(0,X.Z)(e,["as","style","isDefaultWidthEnabled"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},l),{},{style:r,ref:t,className:(0,q.Z)(["",i&&"_1e0c1txw _4cvr1h6o _2lx21bp4 _p12fukw8 _19pkidpf _2hwx1wug _otyridpf _18u01wug",l.className])}))}));const Ae=(0,a.memo)((({contentId:e,classicComments:t,loadingPriority:n,isCollaborativePageCommentsEnabled:o,appearance:r})=>{const i=(0,a.useRef)(null),[l]=(0,Ee.b)(),{error:c}=(0,ge.aM)(Se.q,{variables:{contentId:e},fetchPolicy:"cache-and-network",skip:!e});c&&(0,he.Xb)(c);const{cohort:s}=(0,_e.a)("confluence.frontend.delay.page.comments.render",["delay-render","not-enrolled","render"],"not-enrolled",!0),d=Boolean("delay-render"===s),{getQueryParams:u}=(0,a.useContext)(fe.M),m=(0,a.useContext)(W.F),{focusedCommentId:g,replyToComment:E,showCommentArea:p,editComment:f,commentId:y}=u(),b=Boolean(g||E||p||"true"===f&&y),[v,I]=(0,a.useState)(!1),[_,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(b||!d||d&&v)&&m.start({name:z.lMm,attributes:{isConditionalRenderingOn:d,isFocusedComment:b,editor:"FABRIC",contentId:e}})}),[m,e,b,d,v]),(0,a.useEffect)((()=>{const e=new IntersectionObserver((([e])=>{e.isIntersecting&&I(!0)}));return d&&!v&&!b&&l.isContentReady&&i.current?e.observe(i.current):I(!0),()=>{e.disconnect()}}),[d,b,l.isContentReady,i,v]);const T='"default"'===r&&o,S=()=>l.isContentReady?a.createElement(pe.X,{showPlaceholder:!0}):null;return d?b?a.createElement(Ie,{contentId:e,classicComments:t,loadingPriority:n||R.TX.PAINT}):a.createElement(Pe,{"data-testid":T?"page-comment-wrapper-default":"page-comment-wrapper",isDefaultWidthEnabled:T,ref:i,className:"page-comment-wrapper"},v?a.createElement(a.Fragment,null,!_&&S(),a.createElement(Ie,{contentId:e,classicComments:t,handlePageCommentsRender:()=>C(!0),loadingPriority:n||R.TX.PAINT})):S()):a.createElement(Pe,{"data-testid":T?"page-comment-wrapper-default":"page-comment-wrapper",isDefaultWidthEnabled:T,ref:i,className:"page-comment-wrapper"},a.createElement(Ie,{contentId:e,classicComments:t,loadingPriority:b?R.TX.PAINT:n||R.TX.PAINT}))})),Re=(0,Ce.P)({attribution:Te.x.COLLABORATION})(Ae);var Ne=n(350844),Oe=n(358372),ke=n(187053),we=n(501858),Le=n(4521),Me=n(61271),Fe=n(812949);const Ze=(0,a.memo)((({contentId:e,loadingPriority:t})=>{var n,o,r;const{focusedCommentId:i,editCommentId:l,replyToCommentId:c}=(0,Oe.n)(),{error:s,refetch:d}=(0,ge.aM)(Le.n,{variables:{pageId:e},fetchPolicy:"cache-and-network",skip:!e});s&&(0,he.Xb)(s);const{data:u,error:m,refetch:g}=(0,ge.aM)(we.O,{variables:{commentId:i,contentId:e},fetchPolicy:"cache-first",skip:!(e&&i)}),E=async t=>{t&&await g({contentId:e,commentId:t})};(0,Fe.k)({contentId:e,event:"reload-inline-comments",callback:async e=>{await d();for(const t of e)if(t.commentId){await E(t.commentId);break}}}),m&&(0,D.T)(m)&&(0,he.Xb)(m);const p=Boolean(null==u||null===(n=u.comments)||void 0===n||null===(o=n.nodes)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.isInlineComment),{firstHighlightClicked:f,shouldDisplaySidebar:y,toggleSidebar:b}=(0,a.useContext)(Ne.s),{cohort:v}=(0,_e.a)(Me.TQ,["variation","not-enrolled","control"],"not-enrolled",!0);return(window.__SSR_RENDERED__&&p||p||c||l||f)&&b(!0),a.createElement(a.Fragment,null,!1,y&&a.createElement(ke.K,{pageId:e,isFabricPage:!0,loadingPriority:t||R.TX.PAINT,focusedCommentId:i}))}));var De=n(523715),xe=n(928587),Be=n(962285),Ge=n(612642),$e=n(66866),Xe=n(114782),qe=n(843392),Ue=n(983259);n(985037),n(117027),n(971479),n(348716),n(137909),n(593940),n(983237),n(416473),n(423722),n(104086),n(977703),n(938420),n(156704),n(341645),n(1970),n(862528),n(193404),n(175795),n(520700),n(558491),n(740691),n(523254),n(143706),n(868964),n(586655),n(362604),n(841468),n(354326);const Ve=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,i=(0,X.Z)(e,["as","style"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},i),{},{style:(0,o.Z)((0,o.Z)({},r),{},{"--_1khsbgs":(0,Be.Z)((0,Ge.Z)("color.border",Q.YS))}),ref:t,className:(0,q.Z)(["_1e0c1txw _4cvr1y6m _1bah1yb4 _ca0qgktf _u5f3idpf _n3tdgktf _19bvidpf _11rm1hrf _n7zlf0bt _1bsb1osq _1p4q1ssb _1l0tx19p _3u9vusic _1aor1o8l",i.isDefaultWidthEnabled?"_1reo15vq _18m915vq":"_1reoewfl _18m9ewfl",i.isDefaultWidthEnabled?"_p12fukw8":"_p12fn7od",i.isDefaultWidthEnabled?"_19pkidpf _2hwx1wug _otyridpf _18u01wug":"_19pkn7od _2hwxn7od _otyrn7od _18u0n7od",i.className])}))}));const He=({hasReactions:e,appearance:t,isCollaborativePageCommentsEnabled:n,contentType:o,contentId:r,spaceId:i})=>{const[l]=(0,Ee.b)(),{focusedPageReactionsId:c}=(0,$e.b)(),{isReactionsEnabled:s}=(0,a.useContext)(S.Y),d='"default"'===t&&n;return null!=l&&l.isContentReady?a.createElement(Ve,{id:"view-page-reactions-container","data-test-id":"view-page-reactions-container",isDefaultWidthEnabled:d},e&&s&&(()=>{if(o&&i){const e=Boolean(c)?Xe.X:Xe.M;return a.createElement(e,{contentId:r,location:o,containerId:i,containerType:qe.d.SPACE})}return a.createElement(Ue.n,null)})()):null},Ke=e=>(0,r.O)()?e?R.TX.AFTER_PAINT:R.TX.LAZY:null,je=({spaceKey:e,contentId:t,contentHeader:n,contentScreenStyles:r,classicComments:i,eventHandlers:R,titleAndByLineOptions:w,hasPageComments:L=!0,hasSatisfactionSurveys:M=!0,hasHighlightActions:F=!0,hasInlineComments:Z=!0,hasInlineActions:D=!0,hasLabels:x=!0,hasReactions:B=!0,hasEOPRecs:G=!0,hasQuickReload:$=!0,appearance:X,children:q})=>{const{featureFlagClient:U}=(0,b.D)(),V=(0,I.C)(U),H=(0,v.TW)("confluence.frontend.collaborative.page.comments"),K=(0,v.TW)("confluence.frontend.qr.promo.mobile.app"),j=(0,v.TW)("confluence.frontend.quick.reload.v3"),Q=(0,N.L)(),W=(0,P.c)(U),z=(0,a.useMemo)((()=>Q?O.w:a.Fragment),[Q]);return a.createElement(a.Fragment,null,a.createElement(z,null,a.createElement(De.e,{spaceKey:e,contentId:t,stickyHeader:n,contentScreenStyles:r},(({isThemed:r,contentQueryData:l,contentQueryError:b})=>{var v,I,P,N,O,U,K,Q,z,Y,J,ee,te,ne,oe,ae,re,ie,le;const ce=null==l||null===(v=l.content)||void 0===v||null===(I=v.nodes)||void 0===I||null===(P=I[0])||void 0===P?void 0:P.type,se=null==l||null===(N=l.content)||void 0===N||null===(O=N.nodes)||void 0===O||null===(U=O[0])||void 0===U||null===(K=U.space)||void 0===K?void 0:K.id,de=null==l||null===(Q=l.content)||void 0===Q||null===(z=Q.nodes)||void 0===z||null===(Y=z[0])||void 0===Y||null===(J=Y.metadata)||void 0===J?void 0:J.lastModifiedDate,ue=(null==l||null===(ee=l.content)||void 0===ee||null===(te=ee.nodes)||void 0===te||null===(ne=te[0])||void 0===ne||null===(oe=ne.appearancePublished)||void 0===oe||null===(ae=oe.nodes)||void 0===ae||null===(re=ae[0])||void 0===re?void 0:re.value)||'"default"',{coverPicture:ge,contentAppearance:Ee,hasCoverPicture:pe}=(0,E.N0)(l),{queryDataId:fe,editorProperty:ye,fabricEditorSupported:be}=function(e,t){var n,o,a,r;if(!t)return{queryDataId:void 0,editorProperty:"unset",fabricEditorSupported:void 0};const i=null==e||null===(n=e.properties)||void 0===n?void 0:n.nodes,l=null==i?void 0:i.filter((e=>"editor"===(null==e?void 0:e.key))),c=null==l||null===(o=l[0])||void 0===o?void 0:o.value,s=(d=c)?null!=d&&d.includes("v2")?"v2":null!=d&&d.includes("v1")?"v1":"unset":"";var d;return{queryDataId:null==e?void 0:e.id,editorProperty:s,fabricEditorSupported:null==e||null===(a=e.metadata)||void 0===a||null===(r=a.frontend)||void 0===r?void 0:r.fabricEditorSupported}}(null==l||null===(ie=l.content)||void 0===ie||null===(le=ie.nodes)||void 0===le?void 0:le[0],W),ve=()=>a.createElement(k.P,(0,o.Z)({banner:a.createElement(c.Y$,{contentId:t}),contentId:t,spaceKey:e||""},w));return a.createElement(a.Fragment,null,a.createElement(y.k,{key:t,isSmooth:!1}),r&&n,a.createElement(d,{type:u.t.HEADER}),pe&&a.createElement(g.t,{contentId:t,isPagePreview:!1,coverPicture:ge,contentAppearance:Ee}),W?a.createElement(A.jD,{editorProperty:ye,fabricEditorSupported:be},ve()):ve(),a.createElement(xe.b,{hasInlineComments:Z,contentId:t,data:l,error:b,spaceKey:e,hasHighlightActions:F,eventHandlerOverrides:R,appearance:X,hasInlineActions:D,lastModifiedDate:de||void 0}),Z&&a.createElement(C,{pageId:t}),x&&a.createElement(T.t,{pageWidthType:ue,contentId:t,spaceKey:e,spaceId:se}),G&&"page"==ce&&a.createElement(_.VE,{entityType:ce||"",entityId:t,spaceKey:e||"",pageWidthType:ue}),a.createElement(s.A,{contentId:t}),B&&a.createElement(S.$,{contentId:t},a.createElement(He,{hasReactions:B,contentId:t,contentType:ce,spaceId:se,appearance:ue,isCollaborativePageCommentsEnabled:H})),L&&a.createElement(Re,{key:t,contentId:t,loadingPriority:Ke(L),classicComments:i,appearance:ue,isCollaborativePageCommentsEnabled:H}),a.createElement(d,{type:u.t.FOOTER}),$&&a.createElement(a.Fragment,null,j?a.createElement(p.e,{contentId:t}):a.createElement(f.e,{contentId:t,contentType:ce,lastPollTime:Date.now()})),M&&a.createElement(me,{contentId:t,isEditorExpEnabled:V}),"page"===ce&&a.createElement(m.o,{contentId:t}),W&&a.createElement(h,{queryDataId:fe,editorProperty:ye,fabricEditorSupported:be}),q)}))),Z&&a.createElement(Ze,{key:t,loadingPriority:Ke(Z),contentId:t}),K&&a.createElement(l,null))};je.displayName="ViewPageCommon"},787632:(e,t,n)=>{n.d(t,{f:()=>o});const o=n(331377).ZP`query WebPanelLocationQuery($location:String$contentId:ID$spaceKey:String){webPanels(location:$location contentId:$contentId key:$spaceKey){moduleKey completeKey html location label weight name}}`},588022:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},r=n(386056);const i=e=>a.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2335.638 2335.638 0 003.939-3.883l.04-.04a492.598 492.598 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2049.114 2049.114 0 01-3.775 3.722l-3.098-3.363z" fill="currentColor"/></svg>'},e));i.displayName="CheckIcon";var l=i;t.default=l},590804:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},r=n(386056);const i=e=>a.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8.126 10H4c-1.113 0-2 .895-2 2v3.73c0 1.31 1.874 2.053 4 2.23v-2.964A3.002 3.002 0 019 12h.354a4 4 0 01-1.228-2zm7.748 0H20c1.105 0 2 .885 2 2v3.73c0 1.31-1.874 2.053-4 2.23v-2.964A3 3 0 0015 12h-.354a4 4 0 001.228-2zM9.967 5.554a3 3 0 10-1.963 3.274 3.999 3.999 0 011.963-3.274zm6.03 3.274a3 3 0 10-1.963-3.276 3.994 3.994 0 011.963 3.276z"/><path d="M7 15c0-1.105.887-2 2-2h6c1.105 0 2 .885 2 2v3.73c0 3.027-10 3.027-10 0V15z"/><circle cx="12" cy="9" r="3"/></g></svg>'},e));i.displayName="PeopleGroupIcon";var l=i;t.default=l}}]);
//# sourceMappingURL=56237.FqeAzvNaME.js.map