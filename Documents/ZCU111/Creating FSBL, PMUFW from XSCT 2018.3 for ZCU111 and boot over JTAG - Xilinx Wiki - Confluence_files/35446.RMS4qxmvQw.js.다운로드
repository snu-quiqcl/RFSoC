(self._cf=self._cf||[]).push([[35446],{608259:function(e,t){!function(e){const t=Symbol("newer"),i=Symbol("older");class r{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][i]=e[i]),e[i]&&(e[i][t]=e[t]),e[t]=void 0,e[i]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)}assign(e){let r,n=this.limit||Number.MAX_VALUE;this._keymap.clear();let o=e[Symbol.iterator]();for(let a=o.next();!a.done;a=o.next()){let e=new s(a.value[0],a.value[1]);if(this._keymap.set(e.key,e),r?(r[t]=e,e[i]=r):this.oldest=e,r=e,0==n--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size}get(e){var t=this._keymap.get(e);return t?(this._markEntryAsUsed(t),t.value):void 0}set(e,r){var n=this._keymap.get(e);return n?(n.value=r,this._markEntryAsUsed(n),this):(this._keymap.set(e,n=new s(e,r)),this.newest?(this.newest[t]=n,n[i]=this.newest):this.oldest=n,this.newest=n,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[i]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[i]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}find(e){let t=this._keymap.get(e);return t?t.value:void 0}has(e){return this._keymap.has(e)}delete(e){var r=this._keymap.get(e);return r?(this._keymap.delete(r.key),r[t]&&r[i]?(r[i][t]=r[t],r[t][i]=r[i]):r[t]?(r[t][i]=void 0,this.oldest=r[t]):r[i]?(r[i][t]=void 0,this.newest=r[i]):this.oldest=this.newest=void 0,this.size--,r.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new o(this.oldest)}values(){return new a(this.oldest)}entries(){return this}[Symbol.iterator](){return new n(this.oldest)}forEach(e,i){"object"!=typeof i&&(i=this);let r=this.oldest;for(;r;)e.call(i,r.value,r.key,this),r=r[t]}toJSON(){for(var e=new Array(this.size),i=0,r=this.oldest;r;)e[i++]={key:r.key,value:r.value},r=r[t];return e}toString(){for(var e="",i=this.oldest;i;)e+=String(i.key)+":"+i.value,(i=i[t])&&(e+=" < ");return e}}function s(e,r){this.key=e,this.value=r,this[t]=void 0,this[i]=void 0}function n(e){this.entry=e}function o(e){this.entry=e}function a(e){this.entry=e}e.LRUMap=r,n.prototype[Symbol.iterator]=function(){return this},n.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}}}(t)},73377:function(e,t,i){!function(e,t){"use strict";if(!e.setImmediate){var i,r,s,n,o,a=1,l={},c=!1,d=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?i=function(e){process.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){m(e.data)},i=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(m,0,e)}:(n="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&m(+t.data.slice(n.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),i=function(t){e.postMessage(n+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return l[a]=s,i(a),a++},u.clearImmediate=h}function h(e){delete l[e]}function m(e){if(c)setTimeout(m,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===i.g?this:i.g:self)},700406:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});var r=i(501341);const s={on(e,t){r.nA.eventEmitter&&r.nA.eventEmitter.on(e,t)},off(e,t){r.nA.eventEmitter&&r.nA.eventEmitter.off(e,t)},emit(e,t){if(r.nA.eventEmitter)return r.nA.eventEmitter.emit(e,t)}}},727467:(e,t,i)=>{"use strict";i.d(t,{J3:()=>n,Yk:()=>o,ch:()=>a});var r=i(465829),s=i.n(r);const n=e=>"file"===e.mediaItemType,o=e=>"external-image"===e.mediaItemType,a=(e,t)=>n(e)&&n(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!s()(e,t)},849646:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CollectionFetcher:()=>b.Z,FileFetcherError:()=>g.y,FileFetcherImpl:()=>v.oT,MAX_RESOLUTION:()=>L.xQ,MediaClient:()=>w.Q,MediaStore:()=>r.Fq,MediaStoreError:()=>s.r,PollingError:()=>y.k,PollingFunction:()=>p.D,RECENTS_COLLECTION:()=>L.a1,RequestError:()=>h.L,StargateClient:()=>S.E,UploadController:()=>n.M,addFileAttrsToUrl:()=>_.NI,checkWebpSupport:()=>E,createMediaSubject:()=>T.O,createMediaSubscribable:()=>C.g,createUrl:()=>m.uJ,getArtifactUrl:()=>a.l,getAttrsFromUrl:()=>_.Ny,getDimensionsFromBlob:()=>A.x,getMediaClient:()=>F.y,getMediaClientErrorReason:()=>l.r,getMediaEnvironment:()=>r.rl,getMediaRegion:()=>r.ro,getMediaTypeFromMimeType:()=>O,globalMediaEventEmitter:()=>R.h,imageResizeModeToFileImageMode:()=>f.b,isAbortedRequestError:()=>m.n0,isAudioMimeTypeSupportedByServer:()=>W,isDifferentIdentifier:()=>U.ch,isDocumentMimeTypeSupportedByBrowser:()=>P,isDocumentMimeTypeSupportedByServer:()=>$,isErrorFileState:()=>c.f6,isExternalImageIdentifier:()=>U.Yk,isFileFetcherError:()=>g.p,isFileIdentifier:()=>U.J3,isFinalFileState:()=>c.nT,isImageMimeTypeSupportedByBrowser:()=>j,isImageMimeTypeSupportedByServer:()=>D,isImageRemote:()=>k,isImageRepresentationReady:()=>c.mo,isMediaBlobUrl:()=>_.WD,isMediaClientError:()=>l.a,isMediaCollectionItemFullDetails:()=>o.oU,isMediaStoreError:()=>s.W,isMimeTypeSupportedByBrowser:()=>z,isMimeTypeSupportedByServer:()=>Z,isPollingError:()=>y.C,isPreviewableFileState:()=>c.jL,isPreviewableType:()=>o.dw,isProcessedFileState:()=>c.vh,isProcessingFileState:()=>c.y2,isRateLimitedError:()=>m.no,isRequestError:()=>h.N,isUnknownMimeTypeSupportedByServer:()=>q,isUploadingFileState:()=>c.__,isVideoMimeTypeSupportedByServer:()=>J,mapMediaFileToFileState:()=>c.eS,mapMediaItemToFileState:()=>c.L5,mapResponseToBlob:()=>m.wc,mapResponseToJson:()=>m.nr,mapResponseToVoid:()=>m.pO,objectToQueryString:()=>_.nZ,request:()=>u.WY,safeUnsubscribe:()=>I,uploadFile:()=>d.c,withMediaClient:()=>F.b});var r=i(907086),s=i(140995),n=i(76230),o=i(265139),a=i(140776),l=i(612972),c=i(79680),d=i(289653),u=i(242494),h=i(388484),m=i(332691),p=i(374171),y=i(736250),f=i(795425),v=i(36516),g=i(920148),b=i(587616),w=i(309137),S=i(218435);const k=(e,t=window.location.origin)=>{if(URL&&URL.prototype){const i=new URL(e);return!!i.host&&i.origin!==t}return!0};let M;const E=()=>void 0!==M?Promise.resolve(M):new Promise((e=>{const t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=()=>{M=2===t.height,e(M)}}));var A=i(362716),T=i(895524);const I=e=>{console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((()=>e&&e.unsubscribe()),0)};var U=i(727467),F=i(101054),R=i(700406),_=i(737001),C=i(933177),L=i(954889),B=i(394673),N=i(845274),x=i(488951);const O=B.L4,j=N.$k,P=N.k_,z=N.PU,D=x.$v,$=x.N5,W=x.p5,J=x.a6,q=x.ey,Z=x.ld},612972:(e,t,i)=>{"use strict";function r(e){return e instanceof Object&&"attributes"in e&&e.attributes instanceof Object&&"reason"in e.attributes&&e instanceof Error}function s(e){return r(e)?e.attributes.reason:"unknown"}i.d(t,{a:()=>r,r:()=>s})},76230:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});class r{constructor(){}setAbort(e){this.abortFunction=e}abort(){this.abortFunction&&this.abortFunction()}}},795425:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});const r=e=>"stretchy-fit"===e?"full-fit":e},737001:(e,t,i)=>{"use strict";i.d(t,{WD:()=>n,Ny:()=>l,nZ:()=>c,NI:()=>d});var r=i(991332);const s="media-blob-url",n=e=>e.indexOf("media-blob-url=true")>-1,o=(e,t)=>{const i=e.get(t);return"string"!=typeof i||isNaN(parseInt(i))?void 0:parseInt(i)},a=(e,t)=>{const i=e.get(t);if(i)return decodeURIComponent(i)},l=e=>{const t=new URL(e).hash.replace("#",""),i=new URLSearchParams(t),r=i.get("id"),s=i.get("contextId");if(r&&s)return{id:r,contextId:s,collection:a(i,"collection"),alt:a(i,"alt"),height:o(i,"height"),width:o(i,"width"),size:o(i,"size"),name:a(i,"name"),mimeType:a(i,"mimeType")}},c=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>{const i=e[t];if(null!=i)return`${encodeURIComponent(t)}=${encodeURIComponent(i.toString())}`})).join("&"),d=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const i={[s]:"true"},n=(0,r.Z)((0,r.Z)({},i),t);return`${e}#${c(n)}`}},501341:(e,t,i)=>{"use strict";i.d(t,{pl:()=>o,Wf:()=>n,nA:()=>s});var r=i(791306);const s={streams:new(i(608259).LRUMap)(1e3),stateDeferreds:new Map,eventEmitter:new r.EventEmitter2};function n(e){return!!e.clientId}const o=e=>{if(function(e){return!!e.asapIssuer}(e))return e;return{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}}}]);
//# sourceMappingURL=35446.RMS4qxmvQw.js.map