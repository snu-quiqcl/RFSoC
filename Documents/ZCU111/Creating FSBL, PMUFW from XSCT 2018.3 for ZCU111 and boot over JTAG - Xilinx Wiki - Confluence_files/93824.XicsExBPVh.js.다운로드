"use strict";(self._cf=self._cf||[]).push([[93824],{807892:(e,t,a)=>{var r=a(730436);Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},834693:e=>{e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var a=Object.keys(e),r=Object.keys(t),n=a.length;if(r.length!==n)return!1;for(var o=0;o<n;o++){var s=a[o];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}},293618:(e,t,a)=>{a.d(t,{W:()=>b});var r=a(991332),n=a(122551),o=a(927831),s=a(499947),l=a(172328),i=a(844151),d=a(960094),c=a(944997),u=a(993417),m=a(597019),p=a(633883);const b=({contentId:e,contextProviders:t})=>(0,s.V)((a=>{if(!a)return null;const{extensionKey:s,parameters:b}=a,{ClassicEditorContextProvider:f=(({children:e})=>e)}=t,v=(0,i.iQ)(a),g={contentId:e,mode:i._B,extensionKey:s,attributes:v,node:a};let y;switch(s){case l.rI.INVALID:const e=b;y=n.createElement(f,null,n.createElement(u.E,(0,r.Z)((0,r.Z)({},e),g)));break;case l.rI.INLINE_EXTERNAL_IMAGE:const t=b;y=n.createElement(m.a,(0,r.Z)((0,r.Z)({},t),g));break;case l.rI.INLINE_MEDIA_IMAGE:const a=b,{link:o}=b;y=n.createElement(p.i,(0,r.Z)((0,r.Z)((0,r.Z)({},a),g),{},{link:o}))}return n.createElement(n.Fragment,null,n.createElement(d.t,{name:(0,i.ag)(i._B,a),mode:i._B,extensionKey:s,attributes:v,timeout:c.O.MACRO_LOAD,contentId:e}),n.createElement(o.DF,null,y))}))},136169:(e,t,a)=>{a.d(t,{V:()=>o});var r=a(122551),n=a(839676);const o=({parameters:e})=>r.createElement("span",null,r.createElement(n.AH,null,r.createElement(n.zx,{"data-testid":"variable-name"},e.name)),r.createElement(n.Lq,{"data-testid":"variable-type"},`| ${null==e?void 0:e.type}`));o.displayName="TemplateVariableComponent"},645729:(e,t,a)=>{a.d(t,{i:()=>s});var r=a(122551),n=a(28201),o=a(818443);const s=(0,n.ui)({__loadable_id__:"Zvqj7",name:"TemplateVariableDialogLoader",loader:async()=>(await Promise.all([a.e(78248),a.e(54936),a.e(11216),a.e(78149)]).then(a.bind(a,438074))).TemplateVariableDialogComponent,loading:()=>r.createElement(o.L,{size:"medium"})})},641792:(e,t,a)=>{a.d(t,{q:()=>y});var r=a(991332),n=a(122551),o=a(374911),s=a(102178),l=a(839676),i=a(589449),d=a(60308),c=a(693964),u=a(905657),m=a(615139);const p={option:e=>(0,r.Z)((0,r.Z)({},e),{},{wordBreak:"break-word"})},b=({parameters:e,onChange:t,value:a,placeholder:r})=>{const o=e.params&&e.params.options,s=(0,n.useMemo)((()=>(e=>e?e.map((e=>({label:e,value:e}))):[])(o)),[o]),i=(0,n.useMemo)((()=>e=>{t(e.value)}),[t]);return n.createElement(l.le,null,n.createElement(c.Z,{options:s,placeholder:`${a||r}`,onChange:i,target:({ref:t,isOpen:o})=>n.createElement(l.ZJ,null,n.createElement(u.Z,{ref:t,iconAfter:n.createElement(m.default,{label:"dropdown icon"}),isSelected:o,isDisabled:e.isDisabled},`${a||r}`)),popperProps:{placement:"auto",modifiers:[{name:"preventOverflow",options:{boundary:"clippingParents"}}]},maxMenuHeight:200,maxMenuWidth:200,searchThreshold:10,styles:p,value:{label:a,value:a}}))};b.displayName="DropDownInput";const f=({onChange:e,value:t,inputName:a,parameters:r,placeholder:o})=>n.createElement(d.Z,{testId:"text-field-input",name:a,onChange:e,value:t||"",placeholder:o,isDisabled:null==r?void 0:r.isDisabled,width:200,isCompact:!0});f.displayName="TextfieldInput";const v=({parameters:e,onChange:t,value:a,placeholder:r})=>n.createElement(i.Z,{testId:"text-area-input",onChange:t,value:a||"",minimumRows:e.params&&e.params.rows||1,cols:e.params&&e.params.columns||30,resize:"vertical",isDisabled:null==e?void 0:e.isDisabled,placeholder:r});v.displayName="TextareaInput";const g=e=>{const{parameters:t}=e;switch(t.type){case s.PV:return n.createElement(b,(0,r.Z)({},e));case s.gp:return n.createElement(v,(0,r.Z)({},e));default:return n.createElement(f,(0,r.Z)({},e))}},y=({parameters:e})=>{const{name:t,placeholder:a}=e,i=`$${t}`,d=`${a||t}`;return n.createElement(l.Nj,null,e.type===s.gp?n.createElement(l.vJ,null,n.createElement("div",{style:{display:"inline-block",width:"100%"}},n.createElement(o.C,{name:i,defaultValue:""},(({fieldProps:t})=>n.createElement(g,(0,r.Z)((0,r.Z)({},t),{},{parameters:e,inputName:i,placeholder:d})))))):n.createElement(l.t_,null,n.createElement("div",{style:{display:"inline-block",width:"100%",margin:"0px 0px"}},n.createElement(o.C,{name:i,defaultValue:""},(({fieldProps:t})=>n.createElement(g,(0,r.Z)((0,r.Z)({},t),{},{parameters:e,inputName:i,placeholder:d})))))))};y.displayName="TemplateVariableInput"},102178:(e,t,a)=>{a.d(t,{Ob:()=>r,Xi:()=>n,gp:()=>o,PV:()=>s,qT:()=>l,ib:()=>i});const r="variable_name",n="text",o="textarea",s="select",l=5,i=100},839676:(e,t,a)=>{a.d(t,{Nj:()=>c,AH:()=>u,zx:()=>m,Lq:()=>p,t_:()=>b,vJ:()=>f,ZJ:()=>v,le:()=>g});var r=a(991332),n=a(415911),o=a(122551),s=a(358280),l=a(962285),i=a(612642),d=a(131436);a(787761),a(612130),a(163578),a(953305),a(435791),a(234019),a(175317),a(61970),a(494908),a(167335),a(335841),a(364689),a(817269),a(963315),a(493236),a(555698),a(727137),a(563952),a(832242),a(501304);const c=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:l}=e,i=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},i),{},{style:l,ref:t,className:(0,s.Z)(["_19pk1vh9 _otyrf6fq _1e0c1o8l",i.className])}))}));const u=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:c}=e,u=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},u),{},{style:(0,r.Z)((0,r.Z)({},c),{},{"--_3wz3qk":(0,l.Z)((0,i.Z)("color.background.accent.blue.subtlest",d.BA))}),ref:t,className:(0,s.Z)(["_ca0qyh40 _u5f314y2 _n3tdyh40 _19bv14y2 _bfhk1p5s _2rkog0na",u.className])}))}));const m=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:c}=e,u=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},u),{},{style:(0,r.Z)((0,r.Z)({},c),{},{"--_1msoq6k":(0,l.Z)((0,i.Z)("color.text",d.q2))}),ref:t,className:(0,s.Z)(["_1nmz9jpi _syaz11fv _k48p4jg8",u.className])}))}));const p=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:c}=e,u=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},u),{},{style:(0,r.Z)((0,r.Z)({},c),{},{"--_1if4dsa":(0,l.Z)((0,i.Z)("color.text.subtlest",d.n2)),"--_3wz3qk":(0,l.Z)((0,i.Z)("color.background.accent.blue.subtlest",d.BA))}),ref:t,className:(0,s.Z)(["_syaz1yv6 _ca0qyh40 _u5f314y2 _n3tdyh40 _19bv14y2 _bfhk1p5s _2rko1wxp _1nmz9jpi",u.className])}))}));const b=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:l}=e,i=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},i),{},{style:l,ref:t,className:(0,s.Z)(["_1e0c1o8l _p12f1osq _o5724jg8",i.className])}))}));const f=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:l}=e,i=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},i),{},{style:l,ref:t,className:(0,s.Z)(["_1e0c1o8l _p12f1osq _kqswh2mm _s7n4jp4b",i.className])}))}));const v=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:l}=e,i=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},i),{},{style:l,ref:t,className:(0,s.Z)(["_vr2wn7od",i.className])}))}));const g=(0,o.forwardRef)(((e,t)=>{let{as:a="span",style:l}=e,i=(0,n.Z)(e,["as","style"]);return o.createElement(a,(0,r.Z)((0,r.Z)({},i),{},{style:l,ref:t,className:(0,s.Z)(["_18u0yh40",i.className])}))}))},969446:(e,t,a)=>{a.d(t,{Z:()=>b});var r=a(321534),n=a(131436),o=a(529845),s=a(676424),l=a(171945);const i=(0,s.I8)(),d=(0,s.ww)(),c=(0,r.iv)({display:"inline-block",marginTop:0,marginBottom:d/2,fontFamily:i}),u=e=>(0,r.iv)([(0,l.pB)({theme:{mode:e}}),{color:`var(--ds-text-subtle, ${(0,n.Pe)({theme:{mode:e}})})`}]),m=u("light"),p=u("dark"),b=({children:e,htmlFor:t,id:a})=>{const{mode:n}=(0,o.m)();return(0,r.tZ)("label",{css:["light"===n?m:p,c],id:a,htmlFor:t},e)}},218799:(e,t,a)=>{a.d(t,{qb:()=>u,LL:()=>m,_f:()=>p});var r=a(415911),n=a(953307),o=a(229154),s=a(321534),l=a(852665),i=a(451823),d=a(676424),c=a(131436);const u=({maxWidth:e,minWidth:t,children:a,id:r,style:n})=>(0,s.tZ)("div",{css:{backgroundColor:"var(--ds-surface-overlay, white)",borderRadius:4,boxShadow:`var(--ds-shadow-overlay, 0 0 0 1px ${c.bt}, 0 4px 11px ${c.bt})`,maxWidth:e,minWidth:t,zIndex:d.ug.modal()},style:n,id:r},a),m=e=>(0,s.tZ)(l.Z,null,(0,s.tZ)(o.c.Control,e)),p={Control:e=>{let{innerRef:t,innerProps:a}=e,l=(0,r.Z)(e,["innerRef","innerProps"]);return(0,s.tZ)("div",{ref:t,css:{padding:"8px 8px 4px"}},(0,s.tZ)(o.c.Control,(0,n.Z)({},l,{innerProps:a})))},DropdownIndicator:()=>(0,s.tZ)("div",{css:{marginRight:2,textAlign:"center",width:32}},(0,s.tZ)(i.default,{label:"open"})),Menu:e=>{let{children:t,innerProps:a}=e;(0,r.Z)(e,["children","innerProps"]);return(0,s.tZ)("div",a,t)}}},589449:(e,t,a)=>{a.d(t,{Z:()=>P});var r=a(991332),n=a(415911),o=a(953307),s=a(122551),l=a(321534),i=a(781578),d=a(529845),c=a(676424);const u=(0,c.ww)(),m=2.5*u,p=2*u,b=u,f=(0,c.JB)(),v=(0,c.I8)(),g=(0,c.Vj)(),y=(e,t)=>m*e+12+2*t,h=(e,t)=>p*e+4+2*t,k=(e,t)=>(0,l.iv)((0,r.Z)({"&:focus":{backgroundColor:e.backgroundColorFocus,borderColor:e.borderColorFocus},"&:not(:focus)":{backgroundColor:e.backgroundColor,borderColor:e.borderColor},"&[data-invalid]:focus":{backgroundColor:e.invalidRules.backgroundColorFocus,borderColor:e.invalidRules.borderColorFocus},"&[data-invalid]:not(:focus)":{backgroundColor:e.invalidRules.backgroundColor,borderColor:e.invalidRules.borderColor}},"standard"===t?{"&:disabled:focus":{backgroundColor:e.disabledRules.backgroundColorFocus,borderColor:e.disabledRules.borderColorFocus},"&:disabled:not(:focus)":{backgroundColor:e.disabledRules.backgroundColor,borderColor:e.disabledRules.borderColor}}:{})),C=e=>(0,l.iv)({"&:hover:not(:read-only):not(:focus)":{backgroundColor:e.backgroundColorHover,borderColor:e.borderColorHover,"&:disabled":{backgroundColor:e.disabledRules.backgroundColorHover},"&[data-invalid]":{backgroundColor:e.invalidRules.backgroundColorHover}}}),Z=e=>"horizontal"===e||"vertical"===e?(0,l.iv)({resize:e}):"auto"===e?(0,l.iv)({resize:"both"}):(0,l.iv)({resize:"none"}),w=e=>(0,l.iv)({borderStyle:"none"===e?"none":"solid"}),x=e=>(0,l.iv)({fontFamily:e?g:v}),E=(e=1)=>{const t=b-2;return(0,l.iv)({"&[data-compact]":{minHeight:h(e,2),padding:`2px ${t}px`,lineHeight:p/f},"&:not([data-compact])":{minHeight:y(e,2),padding:`6px ${t}px`,lineHeight:m/f}})},I=(0,l.iv)({display:"block",boxSizing:"border-box",width:"100%",minWidth:0,maxWidth:"100%",margin:0,position:"relative",flex:"1 1 100%",borderRadius:3,borderWidth:2,fontSize:f,outline:"none",overflow:"auto",transition:"background-color 0.2s ease-in-out, \n               border-color 0.2s ease-in-out",wordWrap:"break-word","&:disabled":(0,r.Z)({cursor:"not-allowed"},{WebkitTextFillColor:"unset",WebkitOpacity:"1"}),"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"}}),_=(e,t)=>{return(0,l.iv)([k(e,t),C(e),(a=e.placeholderTextColor,(0,l.iv)({"&::placeholder":{color:a}})),{color:e.textColor,"&:disabled":{color:e.disabledRules.textColor}}]);var a};var N=a(707660);const M={componentName:"textArea",packageName:"@atlaskit/textarea",packageVersion:"4.5.6"},A=e=>{e.style.height="auto";const t=e.scrollHeight+4;e.style.height=`${t}px`},R=(0,s.forwardRef)(((e,t)=>{const a=(0,s.useRef)(null),{resize:d="smart",appearance:c="standard",isCompact:u=!1,isRequired:m=!1,isReadOnly:p=!1,isDisabled:b=!1,isInvalid:f=!1,isMonospaced:v=!1,minimumRows:g=2,theme:y,testId:h,maxHeight:k="50vh",onBlur:C,onFocus:N,onChange:R,tokens:T,value:P}=e,F=(0,n.Z)(e,["resize","appearance","isCompact","isRequired","isReadOnly","isDisabled","isInvalid","isMonospaced","minimumRows","theme","testId","maxHeight","onBlur","onFocus","onChange","tokens","value"]);(0,s.useEffect)((()=>{const e=a.current;"smart"===d&&e&&A(e)}),[d,P]);const L=(0,i.B)((0,r.Z)({fn:e=>{C&&C(e)},action:"blurred"},M)),$=(0,i.B)((0,r.Z)({fn:e=>{N&&N(e)},action:"focused"},M)),j=(0,s.useCallback)((e=>{const t=a.current;"smart"===d&&t&&A(t),R&&R(e)}),[R,d]),q={"data-invalid":f||void 0,"data-compact":u||void 0,"data-testid":h||void 0},V=(0,s.useMemo)((()=>(({minimumRows:e,resize:t,appearance:a,isMonospaced:r,maxHeight:n})=>(0,l.iv)([I,E(e),Z(t),w(a),x(r),{maxHeight:n}]))({minimumRows:g,resize:d,appearance:c,isMonospaced:v,maxHeight:k})),[g,d,c,v,k]),D=(0,l.iv)([V,_(T,c)]);return(0,l.tZ)("textarea",(0,o.Z)({},q,{value:P,disabled:b,readOnly:p,required:m,ref:e=>{a.current=e,t&&"object"==typeof t&&(t.current=e),t&&"function"==typeof t&&t(e)},onChange:j,onBlur:L,onFocus:$,rows:g,css:D},F))})),T=(0,s.memo)((0,s.forwardRef)((function(e,t){const{mode:a}=(0,d.m)();return(0,l.tZ)(N.Q.Provider,{value:e.theme},(0,l.tZ)(N.Q.Consumer,{appearance:e.appearance||"standard",mode:a},(a=>(0,l.tZ)(R,(0,o.Z)({ref:t},e,{tokens:a})))))})));T.displayName="TextArea";const P=T},707660:(e,t,a)=>{a.d(t,{Q:()=>I,l:()=>E});var r=a(67657),n=a(131436);const o={light:`var(--ds-background-disabled, ${n.IR})`,dark:`var(--ds-background-disabled, ${n.JV})`},s={light:`var(--ds-border-disabled, ${n.YS})`,dark:`var(--ds-border-disabled, ${n.xX})`},l={light:`var(--ds-border-danger, ${n.$H})`,dark:`var(--ds-border-danger, ${n.$H})`},i={light:`var(--ds-border-input, ${n.YS})`,dark:`var(--ds-border-input, ${n.xX})`},d={light:`var(--ds-border-focused, ${n.vP})`,dark:`var(--ds-border-focused, ${n.tE})`},c={light:`var(--ds-background-input, ${n.YI})`,dark:`var(--ds-background-input, ${n.W5})`},u={light:`var(--ds-background-input-hovered, ${n.gt})`,dark:`var(--ds-background-input-hovered, ${n.Dw})`},m={light:`var(--ds-background-input-pressed, ${n.N0})`,dark:`var(--ds-background-input-pressed, ${n.W5})`},p={light:`var(--ds-text-subtlest, ${n.Y8})`,dark:`var(--ds-text-subtlest, ${n.X_})`},b={light:`var(--ds-text, ${n.xA})`,dark:`var(--ds-text, ${n.ly})`},f={light:`var(--ds-text-disabled, ${n.n2})`,dark:`var(--ds-text-disabled, ${n.rv})`},v={light:"transparent",dark:"transparent"},g={light:{backgroundColor:o.light,backgroundColorFocus:o.light,backgroundColorHover:o.light,borderColor:s.light,borderColorFocus:d.light,textColor:f.light},dark:{backgroundColor:o.dark,backgroundColorFocus:o.dark,backgroundColorHover:o.dark,borderColor:s.dark,borderColorFocus:d.dark,textColor:f.dark}},y={light:{borderColor:l.light,borderColorFocus:d.light,backgroundColor:c.light,backgroundColorFocus:m.light,backgroundColorHover:u.light},dark:{borderColor:l.dark,borderColorFocus:d.dark,backgroundColor:c.dark,backgroundColorFocus:m.dark,backgroundColorHover:u.dark}},h={standard:c,subtle:v,none:v},k={standard:m,subtle:m,none:v},C={standard:u,subtle:u,none:v},Z={standard:i,subtle:v,none:v},w={standard:d,subtle:d,none:v},x={standard:i,subtle:{light:"var(--ds-border-input, transparent)",dark:"var(--ds-border-input, transparent)"},none:v},E={borderColor:Z,borderColorFocus:w,backgroundColor:h,backgroundColorFocus:k,backgroundColorHover:C,disabledRules:g,invalidRules:y,textColor:b,placeholderTextColor:p},I=(0,r.j)((({appearance:e,mode:t})=>({borderColor:Z[e][t],borderColorFocus:w[e][t],borderColorHover:x[e][t],backgroundColorHover:C[e][t],backgroundColorFocus:k[e][t],backgroundColor:h[e][t],disabledRules:g[t],invalidRules:y[t],textColor:b[t],placeholderTextColor:p[t]})))},492790:(e,t,a)=>{a.d(t,{ZT:()=>g,dm:()=>y,wk:()=>k,ce:()=>Z,hb:()=>w});var r=a(991332),n=a(917068),o=a(724421),s=a.n(o),l=a(347819),i=a(208757),d=a(668410),c=a(123474),u=a(172328),m=a(616158),p=a(130428),b=a(803671),f=a(767658);const v={type:"extension",content:u.D4};function g(){return(0,l.Z)().then((e=>e.filter((e=>u.KJ.includes(e.macroName)))))}function y(e,t,a){const r=e.macroName;return e.anyParameterRequired||"children"===r||"tasks-report-macro"===r?w(e,t,void 0,a):(0,i.T)({macroDefinition:{name:r,body:"",params:{}},contentId:t.contentId})}async function h(e,t,a,r,o,l){const p=await(0,c.KD)(e);let v;return{autoClose:!1,onComplete:async c=>{v=!0,e.UI.showBrowserSpinner(!0);const g=function(e){const{name:t,body:a,params:r,defaultParameterValue:n,schemaVersion:o}=e;return{name:t||"",body:a||"",params:r,defaultParameterValue:n||"",schemaVersion:o}}(c);try{var y;let o=await async function(e,t,a){if("anchor"===e.name){let t=e.params[""].replace(/^\s+/g,"");if(t=t.replace(/\s+$/g,""),t=t.replace(/\s+/g,"-"),t=t.replace(/[\"\']+/g,""),a&&a.createAnalyticsEvent){let e;if(""===t)e="missing";else{t=t.substring(0,b.c0);try{decodeURIComponent(t),e="valid"}catch(r){e="invalid"}}((e,t,a,r)=>{e({type:"sendUIEvent",data:{action:t,actionSubject:`${t}Anchor`,source:"extensions-editor",attributes:{contentId:a,nameStatus:r}}}).fire()})(a.createAnalyticsEvent,a.action,null==a?void 0:a.contentId,e)}return{type:"inlineExtension",attrs:{extensionType:"com.atlassian.confluence.macro.core",extensionKey:"anchor",parameters:{macroParams:{"":{value:t}},macroMetadata:{title:"Anchor"}}}}}if("jiraroadmap"===e.name){let a=!1;try{const{featureFlags:e}=await(0,n.g)();a=String(e["confluence.frontend.fabric.editor.smartcards.macro-override"]).split(",").indexOf("jiraroadmap")>-1}catch(o){}if(a&&!t)return function(e){return{type:"embedCard",attrs:{url:e.params&&e.params.url,layout:"wide"}}}(e)}else if("jira"===e.name&&e.params.key&&(0,f.J)("confluence/jim/jira/applinks-bridge-for-spa"))try{const t=s().require("confluence/jim/jira/applinks-bridge-for-spa"),a=await t.getUrlForKey(e.params.key,e.params.serverId);if(await t.isCloudAppLinkFromServerId(e.params.serverId)&&a&&-1!==a.indexOf("atlassian.net")==(-1!==s().location.origin.indexOf("atlassian.net")))return{type:"inlineCard",attrs:{url:a}}}catch(o){}return null}(g,"jiraroadmap"===(null==a||null===(y=a.attrs)||void 0===y?void 0:y.extensionKey),l);var h,k;if(!o)if(o=await async function(e,t,a){const r=await(0,i.T)({macroDefinition:e,contentId:t,selectedMacro:null});if(r.type===u.x9)if("string"==typeof e.body){let o;try{o=await(0,d.Mj)("storage","atlas_doc_format",e.body,t)||"",r.content=JSON.parse(o).content}catch(n){(0,m.j)("getMacroBrowserSettings.onComplete").error`Can't convert provided body from storage format to ADF: ${o}`,null!=a&&a.content&&(r.content=null==a?void 0:a.content)}}else null!=a&&a.content&&(r.content=null==a?void 0:a.content);return r}(g,t.contentId,a),"jira"===(null==a||null===(h=a.attrs)||void 0===h?void 0:h.extensionKey)&&l&&l.createAnalyticsEvent)((e,t,a,r)=>{const n="extension"===t&&"inlineExtension"===a,o="inlineExtension"===t&&"extension"===a;(n||o)&&r({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"changedJiraIssueMacroExtensionView",source:"JiraIssueMacro",objectId:e,attributes:{tableToIssueCount:n,issueCountToTable:o}}}).fire()})(t.contentId,null==a?void 0:a.type,null===(k=o)||void 0===k?void 0:k.type,null==l?void 0:l.createAnalyticsEvent);r(o),e.close(),p()}catch(C){o(C)}},onCancel:()=>{p(),v||o({reason:"cancel"})}}}function k(e,t,a){return new Promise((async(o,s)=>{const{featureFlags:l}=await(0,n.g)(),i=await(0,p.ik)(l);t&&(i.metadataList=i.metadataList.filter(t));const d=await h(i,e,null,o,s,a);try{i.open((0,r.Z)((0,r.Z)({},d),{},{selectedMacro:null}))}catch(c){s(c)}}))}async function C(){const{featureFlagClient:e}=await(0,n.g)();return e.getBooleanValue("confluence.frontend.enrich-content-context",{default:!1})}function Z(e,t,a,o){return new Promise((async(s,l)=>{const i=await(0,d.XF)(e||v),{featureFlags:c}=await(0,n.g)(),u=await(0,p.ik)(c);a&&(u.metadataList=u.metadataList.filter(a)),o&&(o.action="update");const m=await h(u,t,e,s,l,o);try{const e=await C();u.open((0,r.Z)((0,r.Z)({},m),{},{selectedMacro:e?(0,r.Z)((0,r.Z)({},i),{},{productContext:{"content.id":t.contentId,"enrich-content-context-parameters":!0}}):i}))}catch(b){l(b)}}))}function w(e,t,a,o){return new Promise((async(s,l)=>{const{featureFlags:i}=await(0,n.g)(),d=await(0,p.ik)(i);a&&(d.metadataList=d.metadataList.filter(a)),o&&(o.action="insert");const c=await h(d,t,e,s,l,o);try{const a=await C();d.open((0,r.Z)((0,r.Z)({},c),{},{presetMacroMetadata:a?(0,r.Z)((0,r.Z)({},e),{},{productContext:{"content.id":t.contentId,"enrich-content-context-parameters":!0}}):e}))}catch(u){l(u)}}))}},757749:(e,t,a)=>{a.d(t,{X:()=>l,a:()=>i});var r=a(122551),n=a(172328),o=a(136169),s=a(641792);const l=e=>{if(!e)return null;const{extensionKey:t,parameters:a}=e;return t===n.rI.TEMPLATE?r.createElement(o.V,{parameters:a}):null},i=e=>{if(!e)return null;const{extensionKey:t,parameters:a}=e;return t===n.rI.TEMPLATE?r.createElement(s.q,{parameters:a}):null}},809415:(e,t,a)=>{a.d(t,{Xi:()=>d,Ob:()=>c,rw:()=>u,Km:()=>p,VO:()=>b});var r=a(991332),n=a(405124),o=a.n(n),s=a(645729),l=a(664566),i=a(172328);const d="text",c="variable_name";function u(e=c){return{type:i.gU,attrs:{extensionType:i.UE.TEMPLATE,extensionKey:i.rI.TEMPLATE,parameters:{type:d,name:e}}}}function m(e){return e.attrs&&e.attrs.extensionType===i.UE.TEMPLATE}function p(e,t){return new Promise(((a,n)=>{if(!e.attrs||!t.setActiveModal)return void n(new Error("Cannot open editing template variable dialog"));const o=e.attrs.parameters;t.setActiveModal(s.i,{defaultVariableType:o.type,defaultVariableName:o.name,defaultRows:o.params&&o.params.rows,defaultColumns:o.params&&o.params.columns,defaultListOptions:o.params&&o.params.options,onSave:t=>{const n=(0,l.tr)(e,t);let o=i.OR;n.type===i.x9?o=i.x9:n.type===i.gU&&(o=i.gU),a((0,r.Z)((0,r.Z)({},n),{},{type:o,attrs:n.attrs||{}}))},onClose:()=>{t.closeActiveModal&&t.closeActiveModal()}})}))}function b(e){return(0,l.EK)(e,i.gU).filter(m).reduce(((e,t)=>{const{name:a,type:r,params:n={}}=t.attrs.parameters;if(!e.groupedByName[a])return e.groupedByName[a]=t,e;const s=e.groupedByName[a].attrs.parameters;return(s.type!==r||!o()(s.params||{},n))&&(e.invalidNodes.push(t),e.invalidUniqueNames.includes(a)||e.invalidUniqueNames.push(a)),e}),{groupedByName:{},invalidNodes:[],invalidUniqueNames:[]})}},100903:(e,t,a)=>{a.d(t,{N:()=>c,u:()=>m});var r=a(122551),n=a(464984),o=a(174012),s=a(641792),l=a(136169),i=a(172328),d=a(809415);let c;!function(e){e[e.CONFIG=0]="CONFIG",e[e.INPUT=1]="INPUT"}(c||(c={}));const u=(0,n.defineMessages)({templateVariablesAdd:{id:"confluence-fabric-editor.template.variables.add",defaultMessage:"New variable"},templateVariablesAddTooltip:{id:"confluence-fabric-editor.template.variables.add.tooltip",defaultMessage:"Add a new field into the page for the template user to fill out."}});function m(e,t=c.CONFIG,a,n){const m="inlineExtension",p=e.formatMessage(u.templateVariablesAdd),b=t===c.INPUT?s.q:l.V;return{key:i.rI.TEMPLATE,type:i.UE.TEMPLATE,title:p,description:e.formatMessage(u.templateVariablesAddTooltip),icons:{48:async()=>()=>r.createElement(o.default,{label:p,size:"medium"})},modules:{quickInsert:n&&[{key:i.rI.TEMPLATE,featured:!0,action:{type:"node",key:"default",parameters:{type:d.Xi,name:d.Ob}}}],nodes:{default:{type:m,render:async()=>({node:e})=>r.createElement(b,{parameters:e.parameters}),update:a&&(async e=>{try{const{attrs:t}=await(0,d.Km)({type:m,attrs:{parameters:e}},a);return t.parameters||e}catch(t){return e}})}}}}}},664566:(e,t,a)=>{a.d(t,{tr:()=>o,EK:()=>l});var r=a(991332);function n(e){return e.type.name||e.type}function o(e,t){return{type:n(e),attrs:(0,r.Z)((0,r.Z)({},e.attrs),{},{parameters:(0,r.Z)((0,r.Z)({},e.attrs.parameters),t)})}}function s(e,t){for(const a of Object.keys(e)){const r=e[a];t(a,r),null!==r&&"object"==typeof r&&s(e[a],t)}}function l(e,t){const a=[];return s(e,((e,r)=>{r&&r.type===t&&a.push(r)})),a}},130428:(e,t,a)=>{a.d(t,{ik:()=>s});var r=a(724421),n=a.n(r),o=a(675253);function s(e){return new Promise((t=>{const r=["wrc!fabric-editor-macro-browser","wr!com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-macro-browser","wr!com.atlassian.confluence.plugins.gadgets:macro-browser-for-gadgetsplugin","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:editor-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-macro-browser-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-resources"];e["confluence.frontend.remove.legacy.team.calendar.wrm"]&&r.push("wrc!com.atlassian.confluence.extra.team-calendars:amd","wrc!com.atlassian.confluence.extra.team-calendars:user-timezone-setup","wrc!com.atlassian.confluence.extra.team-calendars:calendar-init-editor","wrc!com.atlassian.confluence.extra.team-calendars:macro-browser-web-resources"),o.W.require(r,(()=>{const e=n().require("confluence-macro-browser/macro-browser");Promise.all([a.e(11216),a.e(4035)]).then(a.bind(a,796424)).then((e=>{e.default()})).then((()=>{n().AJS.trigger("reset.rte"),t(e)}))}))}))}},500810:(e,t,a)=>{a.d(t,{s:()=>c});var r=a(122551),n=a(151768),o=a(172328);const s=(0,a(28201).ZR)({__loadable_id__:"ImR1z",name:"UnmodifiableMacroDialogLoader",loader:async()=>(await Promise.all([a.e(78248),a.e(54936),a.e(11216),a.e(22863)]).then(a.bind(a,655057))).UnmodifiableMacroDialog});var l=a(487857),i=a(293618),d=a(922949);function c(e,t,a){const c="inlineExtension",u=t?l.s:i.W;return[o.rI.INVALID,o.rI.INLINE_MEDIA_IMAGE,o.rI.INLINE_EXTERNAL_IMAGE].map((t=>({title:"Migration Extension",key:t,type:o.UE.MIGRATION,icons:{48:async()=>()=>r.createElement(n.default,{label:"Migration Extension",size:"medium"})},modules:{nodes:{default:{type:c,render:async()=>({node:t})=>u({contentId:e,contextProviders:{ClassicEditorContextProvider:d.W}})(t,{}),update:a&&(e=>((e,t)=>new Promise(((a,r)=>{e&&e.attrs&&t.setActiveModal?t.setActiveModal(s,{onClose:()=>{r("cancel"),t.closeActiveModal&&t.closeActiveModal()}}):r(new Error("Cannot open unmodifiable macro dialog"))})))({type:c,attrs:{parameters:e}},a))}}}})))}},922949:(e,t,a)=>{a.d(t,{W:()=>r});const r=(0,a(28201).ui)({__loadable_id__:"3686B",name:"ClassicEditorContextProviderLazyLoader",loader:()=>Promise.all([a.e(12705),a.e(61769),a.e(78248),a.e(54936),a.e(11216),a.e(89990),a.e(12953),a.e(61201),a.e(97996),a.e(91306),a.e(46003),a.e(52140),a.e(45442),a.e(1054),a.e(43101),a.e(33079),a.e(85606),a.e(80241),a.e(86888),a.e(82985),a.e(46810),a.e(80256),a.e(13156),a.e(41780),a.e(51514),a.e(80776),a.e(79551),a.e(76701),a.e(76530),a.e(1235),a.e(71913),a.e(58874),a.e(41232),a.e(19129),a.e(68948),a.e(64288),a.e(33763),a.e(17912),a.e(93824),a.e(803)]).then(a.bind(a,942917))})},675253:(e,t,a)=>{a.d(t,{W:()=>n,F:()=>i});var r=a(275758);const n={require:(e,t)=>new Promise((a=>{(0,r.N)(e,(e=>{a(e),t&&t(e)}),(()=>{0}))}))};var o=a(29298),s=a(991332),l=a(122551);const i=function(e,t){const a=(0,s.Z)({isBlocking:!0},t);return t=>{class n extends l.Component{constructor(...e){super(...e),(0,o.Z)(this,"state",{dependenciesLoaded:!1}),(0,o.Z)(this,"markAsLoaded",(()=>{this.mounted&&this.setState({dependenciesLoaded:!0})}))}componentDidMount(){this.mounted=!0,e&&e.length>0?(0,r.N)(e,this.markAsLoaded,(()=>{0})):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!a.isBlocking?l.createElement(t,(0,s.Z)((0,s.Z)({},this.props),{},{wrmDependenciesLoaded:e})):null}}return n.displayName="WRMComponent",n.displayName=`WRMComponent(${t.displayName||t.name})`,n}}}}]);
//# sourceMappingURL=93824.XicsExBPVh.js.map