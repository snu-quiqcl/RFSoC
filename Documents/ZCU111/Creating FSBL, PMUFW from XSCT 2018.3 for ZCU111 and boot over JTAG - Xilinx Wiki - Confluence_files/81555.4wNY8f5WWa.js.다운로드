/*! License: 81555.4wNY8f5WWa.js.LICENSE.txt */
"use strict";(self._cf=self._cf||[]).push([[81555],{18958:(t,e,n)=>{n.d(e,{_:()=>s});var r=n(122551),a=n(190188);const s=r.createContext({globalRegistry:a.oA,getStore:a.oA.getStore},(()=>0))},739946:(t,e,n)=>{n.d(e,{Z:()=>r});const r={batchUpdates:"useSyncExternalStore"in n(122551),devtools:!1,middlewares:new Set,mutator:(t,e)=>Object.assign({},t,e)}},593237:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(413807);const a=t=>e=>n=>{let a;const s=t.getState(),o=e(s,n,(t=>{a=t}));return(0,r.Z)(o,s)||t.setState(o),a}},910711:(t,e,n)=>{n.d(e,{Z:()=>g});var r=n(153435),a=n(739946);const s=(t,e)=>{const n=window.__REDUX_DEVTOOLS_EXTENSION__.connect(Object.assign({name:`Store ${t.key}`,serialize:!0},e));return n.init(t.getState()),n.subscribe((e=>{if("DISPATCH"===e.type)switch(e.payload.type){case"RESET":return t.resetState(),void n.init(t.getState());case"COMMIT":return void n.init(t.getState());case"ROLLBACK":return t.setState(JSON.parse(e.state)),void n.init(t.getState());case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return void t.setState(JSON.parse(e.state))}else if("ACTION"===e.type){let n=JSON.parse(e.payload);t.setState(n.payload)}})),n},o=t=>function(){const e=t(...arguments);if(a.Z.devtools&&window&&window.__REDUX_DEVTOOLS_EXTENSION__){const t=e.mutator;let n;const r=r=>{const o=t(r);try{if(!n){const t="function"==typeof a.Z.devtools?a.Z.devtools(e):{};n=s(e,t)}n.send({type:e.mutator.actionName,payload:r},e.getState(),{},e.key)}catch(i){}return o};e.mutator=r}return e};var i=n(833486),c=n(620298);const l={scheduling:()=>"undefined"!=typeof window&&"function"==typeof MessageChannel};let d=!1;function u(t){return a.Z.batchUpdates&&l.scheduling()&&!d?(d=!0,(0,c.unstable_scheduleCallback)(c.unstable_ImmediatePriority,(function(){(0,i.unstable_batchedUpdates)(t),d=!1}))):(0,i.unstable_batchedUpdates)(t)}const f=[];let h;const g=o((function(t,e){let n=[],s=e;const o={key:t,getState:()=>s,setState(t){s=t,function(t){if(!a.Z.batchUpdates||!l.scheduling())return u((()=>t()));f.includes(t)||f.push(t),h||(h=u((()=>{let t;for(;t=f.shift();)t();h=null})))}(o.notify)},resetState(){o.setState(e)},notify(){for(let t=0;t<n.length;t++)n[t](o.getState())},subscribe:t=>(n=n.concat(t),function(){n=n.filter((e=>e!==t))}),listeners:()=>n};return o.mutator=(0,r.Z)(o,a.Z.middlewares),o}))},185858:(t,e,n)=>{n.d(e,{M:()=>a});var r=n(158101);function a(t){let e,{name:n="",initialState:a,actions:s}=t;return{get key(){return e||(e=function(t,e,n){const a=n?"":Object.keys(e).reduce(((t,n)=>t+e[n].toString()),"");return[n,(0,r.Z)(a+JSON.stringify(t))].filter(Boolean).join("__")}(a,s,n))},initialState:a,actions:s}}},101266:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(413807);function a(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;if(t&&2===e.length)return e[0]===n[0]&&(0,r.Z)(e[1],n[1]);for(let r=0;r<e.length;r++)if(a=e[r],s=n[r],a!==s)return!1;var a,s;return!0}function s(t,e){void 0===e&&(e=!1);let n,s=[],o=!1;return function(){if(o&&a(e,arguments,s))return n;const i=t.apply(this,arguments);return!e&&(0,r.Z)(i,n)||(n=i,o=!0,s=arguments),n}}},761955:(t,e,n)=>{var r=n(122551);var a="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=r.useState,o=r.useEffect,i=r.useLayoutEffect,c=r.useDebugValue;function l(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!a(t,n)}catch(r){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=s({inst:{value:n,getSnapshot:e}}),a=r[0].inst,d=r[1];return i((function(){a.value=n,a.getSnapshot=e,l(a)&&d({inst:a})}),[t,n,e]),o((function(){return l(a)&&d({inst:a}),t((function(){l(a)&&d({inst:a})}))}),[t]),c(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},497803:(t,e,n)=>{t.exports=n(761955)},579849:(t,e,n)=>{n.d(e,{l:()=>r});const r=(0,n(122551).createContext)({})},257428:(t,e,n)=>{n.d(e,{S:()=>s});var r=n(331377),a=n(161461);const s=r.ZP`query GlobalOperationsUserPermissionTypeQuery{...UserPermissionFragment}${a.M}`},90818:(t,e,n)=>{let r;n.d(e,{n:()=>r}),function(t){t.ANONYMOUS="ANONYMOUS",t.APP="APP",t.EXTERNAL="EXTERNAL",t.INTERNAL="INTERNAL",t.JSD="JSD"}(r||(r={}))},96962:(t,e,n)=>{n.d(e,{Q:()=>d});var r=n(499082),a=n(483565),s=n(257428),o=n(90818),i=n(755492),c=n(275281);let l;const d=()=>{const t=(0,a.TW)(i.pA),{data:e,loading:n,error:d}=(0,r.aM)(s.S,{errorPolicy:"all",skip:!t||void 0!==l,onCompleted(t){l=l||(0,c.F)(t)===o.n.EXTERNAL}});return{isExternalCollaborator:l||(0,c.F)(e)===o.n.EXTERNAL,loading:n,error:d}}},242517:(t,e,n)=>{n.d(e,{t:()=>a});var r=n(96962);const a=()=>{const{isExternalCollaborator:t,loading:e,error:n}=(0,r.Q)();return{canViewUserProfile:!t,loading:e,error:n}}},767228:(t,e,n)=>{n.d(e,{ZH:()=>r,hB:()=>a});const r=["light","dark","auto"],a=["light","dark","legacy-light","legacy-dark","spacing","typography","shape"]},559421:(t,e,n)=>{n.d(e,{l:()=>u});var r=n(122551),a=n(991332),s=n(153010),o=n(767228),i=n(658590);const c=()=>{if("undefined"==typeof document)return{};const t=document.documentElement,e=t.getAttribute(s.mw)||"",n=t.getAttribute(s.Fs)||"";return(0,a.Z)((0,a.Z)({},(0,i.J)(n)),(t=>void 0!==o.ZH.find((e=>e===t)))(e)&&{colorMode:e})};var l=n(29298);class d{constructor(t){(0,l.Z)(this,"observer",null),(0,l.Z)(this,"mediaObserver",null),this.callback=t}observe(){this.observer||(this.observer=new MutationObserver((()=>{this.callback(c())}))),this.observer.observe(document.documentElement,{attributeFilter:[s.Fs,s.mw]})}disconnect(){this.observer&&this.observer.disconnect()}}const u=()=>{const[t,e]=(0,r.useState)(c());return(0,r.useEffect)((()=>{const t=new d((t=>e(t)));return t.observe(),()=>t.disconnect()}),[]),t}},658590:(t,e,n)=>{n.d(e,{J:()=>c,e:()=>l});var r=n(767228);const a=["light","dark","spacing","typography"],s=t=>void 0!==a.find((e=>e===t)),o=t=>void 0!==r.hB.find((e=>e===t)),i=t=>["light","dark","auto"].includes(t),c=t=>t.split(" ").map((t=>t.split(":"))).reduce(((t,[e,n])=>("colorMode"===e&&i(n)&&(t[e]=n),s(e)&&o(n)&&(t[e]=n),t)),{}),l=t=>Object.entries(t).reduce(((t,[e,n])=>"colorMode"!==e&&!s(e)||!o(n)&&!i(n)?t:t+""+(t?" ":"")+`${e}:${n}`),"")},682043:(t,e,n)=>{n.d(e,{P:()=>s});var r=n(29298);class a{constructor(){(0,r.Z)(this,"aborted",!1),(0,r.Z)(this,"reason",""),(0,r.Z)(this,"onabort",(()=>{})),(0,r.Z)(this,"throwIfAborted",(()=>{})),(0,r.Z)(this,"addEventListener",(()=>{})),(0,r.Z)(this,"removeEventListener",(()=>{})),(0,r.Z)(this,"dispatchEvent",(()=>!1))}}class s{abort(){}constructor(){if((0,r.Z)(this,"signal",new a),"object"==typeof window&&window.AbortController){const t=new AbortController;this.abort=t.abort.bind(t),this.signal=t.signal}}}},654290:(t,e,n)=>{n.d(e,{G:()=>s,V:()=>o});var r=n(991332),a=n(122551);const s=(...[t,e,n])=>{const[s,o]=(0,a.useState)((0,r.Z)({loading:!1,error:void 0,data:void 0},null==n?void 0:n.initialState)),i=(0,a.useCallback)((async()=>{o((t=>(0,r.Z)((0,r.Z)({},t),{},{loading:!0})));try{const e=await t(),a=await(null==e?void 0:e.json());if(null==e||!e.ok)throw null!=n&&n.ErrorHandler?new n.ErrorHandler(a):new Error("Service Fetch Error");return o((t=>(0,r.Z)((0,r.Z)({},t),{},{loading:!1,data:a}))),e}catch(e){o((t=>(0,r.Z)((0,r.Z)({},t),{},{loading:!1,error:e})))}}),[t,null==n?void 0:n.ErrorHandler]);return(0,a.useEffect)((()=>()=>{e.abort()}),[e]),[i,s]},o=(...[t,e,n])=>{const[o,i]=s(t,e,(0,r.Z)((0,r.Z)({},n),{},{initialState:(0,r.Z)((0,r.Z)({},null==n?void 0:n.initialState),{},{loading:!0})}));return(0,a.useEffect)((()=>{o()}),[o]),i}},25423:(t,e,n)=>{n.d(e,{z:()=>o});var r=n(991332),a=n(682043);const s=(t,e={})=>()=>fetch(t,(0,r.Z)({method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}},e)),o=(t,e={})=>{const n=new a.P;return[s(t,(0,r.Z)({signal:n.signal},e)),n]}},47021:(t,e,n)=>{n.d(e,{O:()=>v});var r=n(991332),a=n(122551),s=n(185858),o=n(704951);class i extends Error{constructor(t,...e){super(...e),this.name="LegionError",this.message=t.error,this.status=t.status,this.path=t.path,this.timestamp=t.timestamp}}var c=n(654290),l=n(682043),d=n(25423);let u;!function(t){t.canCreateTeams="CAN_CREATE_TEAMS",t.canViewTeams="CAN_VIEW_TEAMS"}(u||(u={}));const f=t=>t.reduce(((t,e)=>{switch(e){case u.canCreateTeams:return(0,r.Z)((0,r.Z)({},t),{},{canCreateTeams:!0});case u.canViewTeams:return(0,r.Z)((0,r.Z)({},t),{},{canViewTeams:!0});default:return t}}),{canCreateTeams:!1,canViewTeams:!1}),h=(0,s.M)({initialState:{error:void 0,hasLoaded:!1,isLoading:!1,permissions:{canCreateTeams:!0,canViewTeams:!0}},actions:{setError:t=>({setState:e})=>{e({hasLoaded:!0,isLoading:!1,error:t})},setLoading:t=>({setState:e})=>{e({isLoading:t})},setPermissions:t=>({setState:e})=>{e({hasLoaded:!0,isLoading:!1,permissions:f(t)})}},name:"teams-permissions"}),g=(0,o.Bi)(h),v=(t,{enabled:e,initialState:n}={enabled:!1,initialState:{}})=>{const[s,{setError:o,setLoading:u,setPermissions:f}]=g(),[h,v]=(0,a.useMemo)((()=>(t=>t?(0,d.z)((t=>`/gateway/api/v3/teams/permission/self/organization/${t}`)(t),{method:"GET"}):[()=>Promise.resolve(),new l.P])(t)),[t]),[S,{loading:p,error:m,data:E}]=(0,c.G)(h,v,{ErrorHandler:i,initialState:n}),b=s.isLoading&&!p,y=s.error||s.hasLoaded,Z=t&&e&&!y&&!b;return(0,a.useEffect)((()=>((async()=>{Z&&(u(!0),await S())})(),()=>{u(!1)})),[S,u,Z]),(0,a.useEffect)((()=>{null!=E&&E.permissions&&f(E.permissions),m&&o(m)}),[E,m,f,o]),(0,r.Z)({loading:p,data:E},s)}}}]);
//# sourceMappingURL=81555.4wNY8f5WWa.js.map