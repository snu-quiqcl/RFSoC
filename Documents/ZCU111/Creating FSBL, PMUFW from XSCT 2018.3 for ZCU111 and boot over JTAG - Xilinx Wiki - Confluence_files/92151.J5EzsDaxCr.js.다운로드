"use strict";(self._cf=self._cf||[]).push([[92151],{792291:(e,t,n)=>{let a;n.d(t,{C:()=>a}),function(e){e.FRAMELESS="confluence.frontend.platform.automation.frameless",e.DEV_HELPER="confluence.frontend.platform.automation.dev-helper",e.SITE_ADMIN_ONLY_ACCESS="confluence.frontend.platform.automation.site-admin-only-access"}(a||(a={}))},961634:(e,t,n)=>{n.d(t,{X:()=>i});var a=n(122551),s=n(170915),o=n(72055);function i({children:e,error:t}){const[n,i]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=e=>{e.error===t&&e.preventDefault()};return window.addEventListener("error",e),i(!0),()=>{window.removeEventListener("error",e),i(!1)}}),[t,i]);const c=(0,a.useCallback)((t=>a.createElement(a.Fragment,null,e)),[e]);return a.createElement(o.O,{attribution:s.x.INHERIT,renderOnError:c},n?a.createElement(l,{error:t}):null)}function l({error:e}){throw e}i.displayName="ErrorDisplay"},488430:(e,t,n)=>{n.d(t,{rh:()=>a,ZR:()=>s,BX:()=>o});const a=e=>{if(null==e||!e.id)return;const[,t]=e.id.split("/");return t},s=e=>{if(!e.id)return;const t=e.id.split("/");return t[t.length-1]},o=e=>`forge:${a(e)}:${e.environmentId}:${s(e)}`},47893:(e,t,n)=>{n.d(t,{s8:()=>i,vc:()=>l,tS:()=>M,FH:()=>I,T6:()=>b,MJ:()=>C,E4:()=>S});var a=n(917465),s=n(538639),o=n(488430);const i="system.space.tools",l="-system.space.tools-integrations";let c;!function(e){e.SPACE_DETAILS_WEBITEM_COMPLETE_KEY="confluence.sections.space.tools.v2:spacedetails",e.GENERAL_PERMISSIONS_WEBITEM_COMPLETE_KEY="confluence.sections.space.tools.v2:spacepermissions",e.ADDON_PERMISSIONS_WEBITEM_COMPLETE_KEY="confluence.sections.space.tools.v2:addonspacepermissions",e.TRASH_WEBITEM_COMPLETE_KEY="confluence.sections.space.tools.v2:trash",e.EXPORT_SPACE_WEBITEM_COMPLETE_KEY="confluence.sections.space.tools.v2:export",e.PDF_EXPORT_WEBITEM_COMPLETE_KEY="com.atlassian.confluence.extra.flyingpdf:configpdf"}(c||(c={}));const r=`${a.b}/spaces/editspace.action`,u=`${a.b}/spaces/editspacelabels.action`,E=`${a.b}/spaces/editspacepermissions.action`,d=`${a.b}/spaces/editaddonpermissions.action`,m=`${a.b}/pages/restoretrashitem.action`,p=`${a.b}/pages/purgetrashitem.action`,_=`${a.b}/pages/emptytrash.action`,T=`${a.b}/spaces/exportspacehtml.action`,f=`${a.b}/spaces/exportspacexml.action`,v=`${a.b}/spaces/flyingpdf/flyingpdf.action`,A=`${a.b}/spaces/flyingpdf/editpdfconfig.action`,g={[r]:c.SPACE_DETAILS_WEBITEM_COMPLETE_KEY,[u]:c.SPACE_DETAILS_WEBITEM_COMPLETE_KEY,[E]:c.GENERAL_PERMISSIONS_WEBITEM_COMPLETE_KEY,[d]:c.ADDON_PERMISSIONS_WEBITEM_COMPLETE_KEY,[m]:c.TRASH_WEBITEM_COMPLETE_KEY,[p]:c.TRASH_WEBITEM_COMPLETE_KEY,[_]:c.TRASH_WEBITEM_COMPLETE_KEY,[T]:c.EXPORT_SPACE_WEBITEM_COMPLETE_KEY,[f]:c.EXPORT_SPACE_WEBITEM_COMPLETE_KEY,[v]:c.EXPORT_SPACE_WEBITEM_COMPLETE_KEY,[A]:c.PDF_EXPORT_WEBITEM_COMPLETE_KEY},y=[s.kk.name,s.xt.name,s.Es.name,s.J3.name,s.aR.name,s.dj.name],M=(e,t)=>{const n=e((null==t?void 0:t.pathname)||"");return(null==n?void 0:n.name)===s.QT.name},I=(e,t)=>{var n;const a=e((null==t?void 0:t.pathname)||"");return y.includes(null!==(n=null==a?void 0:a.name)&&void 0!==n?n:"")},b=(e,t)=>{const n=e((null==t?void 0:t.pathname)||"");return(null==n?void 0:n.name)===s.Es.name},C=(e,t,n,a)=>{var s,i;return t===(0,o.rh)(e)&&n===e.environmentId&&(null===(s=e.properties)||void 0===s||!s.route||a===(null===(i=e.properties)||void 0===i?void 0:i.route))},S=(e,t,n)=>{const a=M(e,t);let s;const o=null==n?void 0:n.find((e=>{var n;return null==e||null===(n=e.items)||void 0===n?void 0:n.find((n=>{var o,i;return a?(null==e?void 0:e.id)===l:null!=t&&t.pathname&&null!=n&&null!==(o=n.url)&&void 0!==o&&o.includes(null==t?void 0:t.pathname)?null!=t&&null!==(i=t.pathname)&&void 0!==i&&i.startsWith("/wiki/plugins/")?!!`${null==t?void 0:t.pathname}${null==t?void 0:t.search}`.includes(null==n?void 0:n.url)&&(s=n,!0):(s=n,!0):!(null==t||!t.pathname||!g.hasOwnProperty(t.pathname)||(null==n?void 0:n.completeKey)!==g[t.pathname])&&(s=n,!0)}))}));return{innerNavigationWebItem:s,outerNavigationWebItem:o}}},370904:(e,t,n)=>{function a(e){return Boolean(e)}n.d(t,{C:()=>a})},386721:(e,t,n)=>{n.d(t,{D:()=>a});const a=n(331377).ZP`fragment SpaceSettingsWebItemSectionsFragment on Query{webItemSections(location:"system.space.tools" key:$spaceKey){id label cacheKey items{id completeKey label url icon{path}}}space(key:$spaceKey){id key currentUser{isAdmin}}}`},809169:(e,t,n)=>{n.d(t,{qX:()=>u,bu:()=>E,fL:()=>d,YP:()=>p,cp:()=>_});var a=n(464984),s=n(524798),o=n(792291),i=n(426266),l=n(158466),c=n(483565),r=n(370904);const u="com.atlassian.plugins.atlassian-connect-plugin:com.atlassian.addons.automation.confluence__confluence-space-automation-rules",E="-system.space.tools-com.atlassian.addons.automation.confluence__space-automation",d="space-automation-section",m=(0,a.defineMessages)({automationWebItemSectionTitle:{id:"space-settings.web-item-section.automation-title",defaultMessage:"Automation"},automationWebItemRulesLink:{id:"space-settings.web-item-section.automation.web-item.rules-link",defaultMessage:"Rules"},automationWebItemAuditLogLink:{id:"space-settings.web-item-section.automation.web-item.audit-log-link",defaultMessage:"Audit Log"},automationWebItemRuleLibraryLink:{id:"space-settings.web-item-section.automation.web-item.rule-library-link",defaultMessage:"Library"},automationWebItemUsageLink:{id:"space-settings.web-item-section.automation.web-item.usage-link",defaultMessage:"Usage"}}),p=e=>e.id===E||e.id===d,_=e=>{var t,n;const{edition:a}=(0,l.D)(),u=(0,c.TW)(o.C.FRAMELESS),E=(e=>{const t=(0,s.Z)();return e?{id:d,label:t.formatMessage(m.automationWebItemSectionTitle),items:[{id:"space-automation-rules",label:t.formatMessage(m.automationWebItemRulesLink),url:i.v.SPACE_SETTINGS_AUTOMATION.toUrl({spaceKey:e}),completeKey:null,icon:null},{id:"space-automation-audit-log",label:t.formatMessage(m.automationWebItemAuditLogLink),url:i.v.SPACE_SETTINGS_AUTOMATION.toUrl({spaceKey:e},{hash:"#/tab/audit-log"}),completeKey:null,icon:null},{id:"space-automation-rule-library",label:t.formatMessage(m.automationWebItemRuleLibraryLink),url:i.v.SPACE_SETTINGS_AUTOMATION.toUrl({spaceKey:e},{hash:"#/tab/rule-library"}),completeKey:null,icon:null},{id:"space-automation-usage",label:t.formatMessage(m.automationWebItemUsageLink),url:i.v.SPACE_SETTINGS_AUTOMATION.toUrl({spaceKey:e},{hash:"#/tab/usage"}),completeKey:null,icon:null}],cacheKey:null}:null})(null==e||null===(t=e.space)||void 0===t?void 0:t.key),_=Boolean(null==e||null===(n=e.space)||void 0===n?void 0:n.currentUser.isAdmin),T=u&&_&&"PREMIUM"===a,f=null==e?void 0:e.webItemSections.filter(r.C).filter((e=>!(p(e)&&T)));return T&&E?null==f?void 0:f.concat(E):f}},177690:(e,t,n)=>{n.d(t,{Z:()=>E});var a=n(29298),s=n(122551),o=n(64172),i=n.n(o),l=n(782380);const c={getAtlaskitAnalyticsContext:i().func,getAtlaskitAnalyticsEventHandlers:i().func},r=()=>[];class u extends s.Component{constructor(e){super(e),(0,a.Z)(this,"getChildContext",(()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext}))),(0,a.Z)(this,"getAnalyticsContext",(()=>{const{data:e}=this.props,{getAtlaskitAnalyticsContext:t=r}=this.context;return[...t(),e]})),(0,a.Z)(this,"getAnalyticsEventHandlers",(()=>{const{getAtlaskitAnalyticsEventHandlers:e=r}=this.context;return e()})),this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:e}=this.props;return s.createElement(l.Z.Provider,{value:this.contextValue},e)}}u.displayName="AnalyticsContext",(0,a.Z)(u,"contextTypes",c),(0,a.Z)(u,"childContextTypes",c);const E=u},652459:(e,t,n)=>{n.d(t,{Z:()=>E});var a=n(177690),s=n(122551),o=n(782380),i=n(300805),l=n(274317);const c=({data:e,children:t})=>{const n=(0,l.V)(e),a=(0,i.O)(),c=(0,s.useCallback)((()=>[...a.getAtlaskitAnalyticsContext(),n.current]),[a,n]),r=(0,s.useMemo)((()=>({getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers})),[a,c]);return s.createElement(o.Z.Provider,{value:r},t)};var r;let u;u="undefined"!=typeof process&&null!==process&&null!==(r=process.env)&&void 0!==r&&r.ANALYTICS_NEXT_MODERN_CONTEXT?c:a.Z;const E=u},627658:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(991332),s=n(415911),o=n(953307),i=n(122551),l=n(652459);const c=e=>t=>{const n=(0,i.forwardRef)(((n,c)=>{let{analyticsContext:r}=n,u=(0,s.Z)(n,["analyticsContext"]);const E=(0,i.useMemo)((()=>(0,a.Z)((0,a.Z)({},e),r)),[r]);return i.createElement(l.Z,{data:E},i.createElement(t,(0,o.Z)({},u,{ref:c})))}));return n.displayName=`WithAnalyticsContext(${t.displayName||t.name})`,n}},78651:(e,t,n)=>{n.d(t,{Z:()=>a});const a=e=>t=>n=>{const a=n(t),s=a.clone();return s&&s.fire(e),a}}}]);
//# sourceMappingURL=92151.J5EzsDaxCr.js.map