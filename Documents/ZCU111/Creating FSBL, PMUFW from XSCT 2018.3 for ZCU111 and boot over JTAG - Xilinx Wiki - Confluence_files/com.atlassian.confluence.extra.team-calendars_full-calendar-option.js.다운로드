WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.extra.team-calendars:full-calendar-option', location = 'com/atlassian/confluence/extra/calendar3/components/full-calendar/full-calendar-option.js' */
define("tc/full-calendar-option",["jquery","tc/manage-event"],function(b,c){var a=function(f,e,d){return{calendarDiv:e,calendarPlugin:f,defaultView:f.getParameter(e,"defaultView")||"month",year:parseInt(f.getParameter(e,"startingYear")),month:parseInt(f.getParameter(e,"startingMonth")),date:parseInt(f.getParameter(e,"startingDay")),header:false,firstDay:f.getParameter(e,"firstDayOfWeek"),weekends:f.getParameter(e,"hideWeekends")==="false",viewRender:function(g){var h=function(){b(".change-view",e).removeClass("active");b(".change-view-"+g.name,e).addClass("active")};Confluence.TeamCalendars.updateDateDisplay(e,g.title);h();if(g.name==="basicDay"){f.getCalendarPanel(e).addClass("borderless")}else{f.getCalendarPanel(e).removeClass("borderless")}if(f.isCalendarInEditMode(e)){var i=e.data("lastSelectedView");if(!i){e.data("lastSelectedView",g.name)}else{if(g.name!==i){e.data("lastSelectedView",g.name);b.ajax({cache:false,data:{view:g.name},dataType:"json",error:function(j,l,k){f.showAjaxError(e,j,l,k,f.ERROR_CLASS_CONFIG_UPDATE)},success:function(){f.setGenericErrors(e,null,f.ERROR_CLASS_CONFIG_UPDATE)},type:"PUT",timeout:f.ajaxTimeout,url:f.getCalendarServiceBaseUrl(e,"/preferences/view.json")})}}}},allDayText:"All day",firstHour:8,columnFormat:{week:"ddd d"},titleFormat:{week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d, yyyy}"},buttonText:{today:"Today",month:"Month",week:"Week",day:"List"},monthNames:f.getMonthNames(),monthNamesShort:f.getMonthNamesShort(),dayNames:f.getDayNames(),dayNamesShort:f.getDayNamesShort(),dayClick:function(h,i,g){if(b(".event-details-popup:visible").length===0){if(f.getSubCalendarsWhichCanAddEvents(e).length){Confluence.TeamCalendars.Dialogs.getEditEventDialog({start:h,localizedStartTime:i?f.getDefaultStartTime(e):null,localizedEndTime:i?f.getDefaultEndTime(e):null,allDay:(function(){if(f.getCalendarPanel(e).fullCalendar("getView").name==="month"){return(e.data(f.PREF_LAST_ALL_DAY_USED)||i.toString())==="true"}return i})()},null,f,e).show()}}else{g.stopPropagation();f.hideInlineAuiDialogs()}},eventClick:function(h,g){return c(f).eventClick(h,g,e)},eventRender:function(h,i,g){c(f).eventRender(h,i,g,e)},eventDrop:function(j,h,g,k,i){c(f,d).eventDrop(j,h,g,k,i,e)},eventDragStart:function(){c(f,d).eventDragStart(e)},eventDragEnd:function(){c(f,d).eventDragEnd(e)},eventResize:function(j,h,g,i){c(f,d).eventResize(j,h,g,i,e)},eventResizeStart:function(){c(f,d).eventResizeStart(e)},eventResizeStop:function(){c(f,d).eventResizeStop(e)},loading:function(g){if(!g){window.isTeamCalendarsLoaded=true}if(!g&&this.spinnerDefer){this.spinnerDefer.resolve()}if(g){this.spinnerDefer=f.setSubCalendarSpinnerIconVisible(e,g)}},selectable:true,selectHelper:true,select:function(g,j,i,h){if(!b(".event-details-popup:visible").length&&f.getSubCalendarsWhichCanAddEvents(e).length){Confluence.TeamCalendars.Dialogs.getEditEventDialog({start:g,end:j,localizedStartTime:i?f.getDefaultStartTime(e):null,localizedEndTime:i?f.getDefaultEndTime(e):null,allDay:(function(){if(f.getCalendarPanel(e).fullCalendar("getView").name==="month"){if(j.getTime()-g.getTime()>0){return i.toString()==="true"}return(e.data(f.PREF_LAST_ALL_DAY_USED)||i.toString())==="true"}return i})()},null,f,e).show()}else{if(h){h.stopPropagation()}f.hideInlineAuiDialogs()}}}};return a});
}catch(e){WRMCB(e)};